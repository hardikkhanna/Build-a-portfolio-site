if (self.CavalryLogger) { CavalryLogger.start_js(["i0Umu"]); }

__d("ProfileTabConst",[],(function a(b,c,d,e,f,g){f.exports={ALBUM:"album",ALBUMS:"albums",ALL_ACTIVITY:"allactivity",APPROVAL:"approve",APPS:"apps",BOXES:"box_3",COMMERCE:"shop",DEALS:"deals",DRAFT_NOTES:"notes_drafts",EVENTS:"events",FAVORITES:"favorites",FUNDRAISERS:"fundraisers",FOLLOWERS:"followers",FOLLOWING:"following",FRIENDS:"friends",FRIENDS_MUTUAL:"friends_mutual",FUN_FACTS:"did_you_know",GROUPS:"groups",GROUPS_MUTUAL:"groups_mutual",INFO:"info",LIKES:"likes",LOCATIONS:"locations",MAP:"map",MEMORIAL_CONTACT:"legacy_contact",MY_NOTES:"notes_my_notes",NEARBY:"nearby",NOTES:"notes",OVERVIEW:"about",PAST_EVENTS:"pe",PERSONALITY_QUESTIONS:"personality_questions",PHOTOS:"photos",PHOTOS_ALBUM:"media_set",PHOTOS_ALBUMS:"photos_albums",PHOTOS_ALL:"photos_all",PHOTOS_BY_OTHERS:"photos_by_others",PHOTOS_STREAM:"photos_stream",PHOTOS_SYNCED:"photos_synced",POSTS:"posts",POSTS_OTHERS:"posts_to_page",RESUME:"resume",REVIEWS:"reviews",SAVE_LISTS:"lists",SAVED_FOR_LATER:"saved",SPACES:"post_sets",USER_SPACE:"post_set",USER_SPACE_FOLLOWERS:"post_set_followers",SPORTS:"sports",TAGGED_NOTES:"notes_tagged",TASKS:"tasks",TIMELINE:"timeline",TIMELINE_OVERVIEW:"grid",VIDEOS:"videos",WALL:"wall",WALL_ADMIN:"wall_admin",WIKIPEDIA:"wiki",PAGE_GETTING_STARTED:"page_getting_started",PAGE_MAP:"page_map",PAGE_MENU:"menu",PAGE_FOOD_DRINK_MENU:"food_drink_menu",PAGE_BOOK_PREVIEW:"book_preview",PAGE_PRODUCTS:"products",PAGE_SERVICES:"services",PAGES_CONTENT_TAB:"content_tab",PAGE_FAN_QUESTIONS:"questions",PAGES_REACTION_SANDBOX:"reaction_sandbox",PAGE_OFFERS:"offers",PAGE_JOB_PERMALINK:"page_job_permalink",HOME:"home",ENDORSEMENTS:"endorsements",ISSUES:"issues",PAGE_JOBS:"jobs",PAGE_LIVE_VIDEOS:"live_videos",PAGE_EPISODES:"episodes",PAGE_SHOW:"show",PAGE_PLAYLISTS:"playlists",PAGE_SHOW_VIDEOS:"show_videos",CAST_AND_CREW:"cast_and_crew",COMMUNITY:"community",FEATURING:"featuring",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",INSTAGRAM:"instagram",LOYALTY:"loyalty",MOVIE_PROVIDER:"movie_provider",PODCASTS:"podcasts",PROFILE_OVERLAYS:"profile_overlays",STORY:"story",CUSTOM:"custom",OG_APP_URL_PREFIX:"app_",OG_APPID_PREFIX:"og_app_",OG_NAMESPACE_PREFIX:"og_ns_",OG_BOOKS:"books",OG_FITNESS:"fitness",OG_GAMES:"games",OG_MOVIES:"movies",OG_MUSIC:"music",OG_NEWS:"news",OG_TV_SHOWS:"tv",OG_VIDEO:"video"}}),null);
__d("ProfileTimelineUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ProfileTimelineUILoggerConfig",this.$ProfileTimelineUITypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ProfileTimelineUILoggerConfig",this.$ProfileTimelineUITypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ProfileTimelineUITypedLogger1={};return this};h.prototype.updateData=function(j){this.$ProfileTimelineUITypedLogger1=babelHelpers["extends"]({},this.$ProfileTimelineUITypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ProfileTimelineUITypedLogger1.event=j;return this};h.prototype.setEventMetadata=function(j){this.$ProfileTimelineUITypedLogger1.event_metadata=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setProfileID=function(j){this.$ProfileTimelineUITypedLogger1.profile_id=j;return this};h.prototype.setRelationshipType=function(j){this.$ProfileTimelineUITypedLogger1.relationship_type=j;return this};h.prototype.setUIComponent=function(j){this.$ProfileTimelineUITypedLogger1.ui_component=j;return this};h.prototype.setVC=function(j){this.$ProfileTimelineUITypedLogger1.vc=j;return this};var i={event:true,event_metadata:true,profile_id:true,relationship_type:true,ui_component:true,vc:true};f.exports=h}),null);
__d("DoublyLinkedListMap",["idx"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0}h.prototype.get=function(i){var j;"use strict";var k=(j=this._nodes[i])!=null?j.data:j;return k?k:null};h.prototype.getIndex=function(i){"use strict";var j=this._head;for(var k=0;j;j=j.next,k++)if(j.key===i)return k;return null};h.prototype._insert=function(i,j,k,l){"use strict";__p&&__p();if(k&&!this._nodes[k])k=null;var m=void 0;if(k&&this._nodes[k])m=this._nodes[k];else m=l?this._head:this._tail;var n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m}}if(n.prev===null)this._head=n;if(n.next===null)this._tail=n;this._nodes[i]=n;this._nodeCount++;return this};h.prototype.insertBefore=function(i,j,k){"use strict";return this._insert(i,j,k,true)};h.prototype.insertAfter=function(i,j,k){"use strict";return this._insert(i,j,k,false)};h.prototype.prepend=function(i,j){"use strict";return this.insertBefore(i,j,this._head&&this._head.key)};h.prototype.append=function(i,j){"use strict";return this.insertAfter(i,j,this._tail&&this._tail.key)};h.prototype.remove=function(i){"use strict";__p&&__p();var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--}return this};h.prototype.find=function(i){"use strict";for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null};h.prototype.reduce=function(i,j){"use strict";for(var k=this._head;k;k=k.next)j=i(k.data,j);return j};h.prototype.exists=function(i){"use strict";return!!this._nodes[i]};h.prototype.isEmpty=function(){"use strict";return!this._head};h.prototype.reset=function(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0};h.prototype.map=function(i){"use strict";for(var j=this._head;j;j=j.next)i(j.data)};h.prototype.getCount=function(){"use strict";return this._nodeCount};h.prototype.getHead=function(){var i;"use strict";return(i=this._head)!=null?i.data:i};h.prototype.getTail=function(){var i;"use strict";return(i=this._tail)!=null?i.data:i};h.prototype.getNext=function(i){var j;"use strict";return(j=this._nodes[i])!=null?(j=j.next)!=null?j.data:j:j};h.prototype.getPrev=function(i){var j;"use strict";return(j=this._nodes[i])!=null?(j=j.prev)!=null?j.data:j:j};f.exports=h}),null);
__d("ScrollingPager",["Arbiter","CSS","DOM","OnVisible","UIPagelet","$","ge","tidyEvent"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(j,k,l,m,n){"use strict";__p&&__p();this.scroll_loader_id=j;this.pagelet_src=k;this.data=l;this.options=m||{};this.$ScrollingPager1=false;if(this.options.target_id){this.target_id=this.options.target_id;this.options.append=true}else this.target_id=j;if(n)c("tidyEvent")(Event.listen(n,"click",function(){this.getHandler()();return false}.bind(this)));this.scroll_area_id=this.options.scroll_area_id;this.handler=null;if(this.options.fireOnScroll)this.register();h[this.scroll_loader_id]=this;c("Arbiter").inform(i.CONSTRUCTED,{id:this.scroll_loader_id})}i.prototype.setBuffer=function(j){"use strict";this.options.buffer=j;this.onvisible&&this.onvisible.setBuffer(j)};i.prototype.getBuffer=function(){"use strict";return this.options.buffer};i.prototype.register=function(){"use strict";if(this.$ScrollingPager1)return;var j=c("ge")(this.scroll_loader_id);if(!j)return;this.onvisible=new(c("OnVisible"))(j,this.getHandler(),false,this.options.buffer,false,c("ge")(this.scroll_area_id));this.$ScrollingPager1=true};i.prototype.getInstance=function(j){"use strict";return h[j]};i.prototype.getHandler=function(){"use strict";__p&&__p();if(this.handler)return this.handler;function j(k){__p&&__p();var l=c("ge")(this.scroll_loader_id);if(!l){this.onvisible.remove();return}c("CSS").addClass(l.firstChild,"async_saving");var m=this.options.handler,n=this.options.force_remove_pager&&this.scroll_loader_id!==this.target_id,j=function j(){c("Arbiter").inform("ScrollingPager/loadingComplete");m&&m.apply(null,arguments);if(n)c("DOM").remove(l)};if(this.options.usePipe)this.options.finallyHandler=j;else this.options.handler=j;if(k)this.data.pager_fired_on_init=true;c("UIPagelet").loadFromEndpoint(this.pagelet_src,this.target_id,this.data,this.options)}return j.bind(this)};i.prototype.setHandler=function(j){"use strict";this.handler=j};i.prototype.removeOnVisible=function(){"use strict";this.onvisible.remove()};i.prototype.checkBuffer=function(){"use strict";this.onvisible&&this.onvisible.checkBuffer()};i.getInstance=function(j){"use strict";return h[j]};Object.assign(i,{CONSTRUCTED:"ScrollingPager/constructed"});f.exports=i}),null);
__d("TidyArbiter",["TidyArbiterMixin"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("TidyArbiterMixin"));f.exports=h}),null);
__d("ProfileOverviewSection",["CallbackDependencyManager","DOMScroll","DoublyLinkedListMap","TidyArbiterMixin","ge"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=new(c("CallbackDependencyManager"))(),j={};function k(l,m,n){"use strict";__p&&__p();this.id=l;this.label=n;this.nodeID=m;this._isLoaded=false;this._parentSection=null;this.childSections=new(c("DoublyLinkedListMap"))();j[l]=this;setTimeout(function(){return i.satisfyPersistentDependency(l)},0)}k.prototype.reset=function(){"use strict";this.childSections.map(function(l){return l.reset()})};k.prototype.appendSection=function(l){"use strict";this.childSections.append(l.id,l);l._parentSection=this};k.prototype.freeze=function(){"use strict";this.freezeChildren()};k.prototype.freezeChildren=function(){"use strict";var l=this.childSections.getHead();while(l){!l.isActive()&&l.freeze();l=l.getNext()}};k.prototype.getParent=function(){"use strict";return this._parentSection};k.prototype.getChildren=function(){"use strict";return this.childSections};k.prototype.getNext=function(){"use strict";return this._parentSection&&this._parentSection.childSections.getNext(this.id)};k.prototype.getPrev=function(){"use strict";return this._parentSection&&this._parentSection.childSections.getPrev(this.id)};k.prototype.isActive=function(){"use strict";var l=this;while(l){if(l.id===h)return true;l=l._parentSection}return false};k.prototype.isLoaded=function(){"use strict";return this._isLoaded};k.prototype.setIsLoaded=function(l){"use strict";this._isLoaded=l;return this};k.prototype.scrollTo=function(){"use strict";if(!c("ge")(this.nodeID))return;c("DOMScroll").scrollTo(this.getNode(),true,false,false,0,c("DOMScroll").scrollTo.bind(this).bind(null,this.getNode(),0))};k.prototype.thaw=function(){"use strict";this.thawChildren()};k.prototype.thawChildren=function(){"use strict";var l=this.childSections.getHead();while(l){l.thaw();l=l.getNext()}};k.prototype.getNode=function(){"use strict";throw new Error("This function needs to be implemented in children.")};k.callWithSection=function(l,m){"use strict";i.registerCallback(function(){m(j[l])},[l])};k.setActiveSectionID=function(l){"use strict";h=l};k.resetGlobalState=function(){"use strict";h=null;i=new(c("CallbackDependencyManager"))();j={}};Object.assign(k,c("TidyArbiterMixin"));f.exports=k}),null);
__d("ProfileOverviewDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MEDLEY_ROOT:"timeline-medley",PREFIX_APP_COLLECTION:"pagelet_timeline_app_collection_",PREFIX_COLLECTION_WRAPPER:"collection_wrapper_",PREFIX_MEDLEY:"pagelet_timeline_medley_",PREFIX_MEDLEY_HEADER:"medley_header_",PREFIX_RECOMMENDATION:"pagelet_recommendation_"})}),null);
__d("TimelineDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",SUFFIX_MORE_PAGER:"_more_pager"})}),null);
__d("TimelineOverviewDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TAB_CONTENT:"timeline_overview"})}),null);
__d("ProfileTabUtils",["ProfileOverviewDOMID","ProfileTabConst","TimelineDOMID","TimelineOverviewDOMID"],(function a(b,c,d,e,f,g){__p&&__p();function h(j){return!j||j===c("ProfileTabConst").TIMELINE||j===c("ProfileTabConst").WALL}var i={isActivityLogTab:function j(k){return k===c("ProfileTabConst").ALL_ACTIVITY||k===c("ProfileTabConst").APPROVAL},isTimelineOverviewTab:function j(k){return k===c("ProfileTabConst").TIMELINE_OVERVIEW},isOverviewTab:function j(k){return k===c("ProfileTabConst").INFO||k===c("ProfileTabConst").OVERVIEW},isTimelineTab:h,isMapTab:function j(k){return k===c("ProfileTabConst").MAP},tabHasFixedAds:function j(k){return true},tabHasScrubber:function j(k){return i.isActivityLogTab(k)},tabHasStickyHeader:h,getIDForCollectionToken:function j(k){return c("ProfileOverviewDOMID").PREFIX_APP_COLLECTION+k},getIDForSectionKey:function j(k){return c("ProfileOverviewDOMID").PREFIX_MEDLEY+k},isMedleyTab:function j(k){return!i.isTimelineTab(k)&&!i.isTimelineOverviewTab(k)},normalizeTabKey:function j(k){return i.isTimelineTab(k)?c("ProfileTabConst").TIMELINE:k},getIDForTabKey:function j(k){if(i.isTimelineTab(k))return c("TimelineDOMID").TAB_CONTENT;if(i.isTimelineOverviewTab(k))return c("TimelineOverviewDOMID").TAB_CONTENT;return c("ProfileOverviewDOMID").MEDLEY_ROOT}};f.exports=i}),null);
__d("ProfileNavRef",["LinkController","Parent","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h="pnref",i="data-"+h,j=false;f.exports={_resolveRef:function k(l){var m=[],n=c("Parent").byAttribute(l,i),o=void 0;while(n){m.unshift(n.getAttribute(i));o=n.parentNode;if(o)n=c("Parent").byAttribute(o,i)}return m.join(".")},track:function k(){if(j)return;j=true;c("LinkController").registerHandler(function(l){var m=this._resolveRef(l);if(m)l.href=new(c("URI"))(l.href).addQueryData(h,m).toString()}.bind(this))}}}),null);
__d("ProfileDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ABOVE_HEADER_TIMELINE:"pagelet_above_header_timeline",ABOVE_HEADER_TIMELINE_PLACEHOLDER:"above_header_timeline_placeholder",COVER:"fbProfileCover",MAIN_COLUMN:"pagelet_main_column",MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal",MAIN_COLUMN_PERSONAL_OTHER:"pagelet_main_column_personal_other",RIGHT_SIDEBAR:"pagelet_right_sidebar",TAB_LOAD_INDICATOR:"tab_load_indicator",TOP_SECTION:"timeline_top_section",DISCOVERY_INTENT_BUTTON:"discovery_intent_button",DISCOVERY_INTENT_BANNER:"discovery_intent_banner",PREFIX_MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal_"})}),null);
__d("TimelineComponentKeys",[],(function a(b,c,d,e,f,g){var h={ADS:"ads",CONTENT:"content",COVER_NAV:"cover_nav",ESCAPE_HATCH:"escape_hatch",LOGGING:"logging",NAV:"nav",SCRUBBER:"scrubber",STICKY_COLUMN:"sticky_column",STICKY_HEADER:"sticky_header",STICKY_HEADER_NAV:"sticky_header_nav"};f.exports=h}),null);
__d("TimelineConstants",[],(function a(b,c,d,e,f,g){var h=Object.freeze({DS_LOADED:"timeline-capsule-loaded",DS_COLUMN_HEIGHT_DIFFERENTIAL:"timeline-column-diff-height",SCROLL_TO_OFFSET:100,SCRUBBER_DEFAULT_OFFSET:38,SECTION_EXPAND:"TimelineConstants/sectionExpand",SECTION_LOADING:"TimelineConstants/sectionLoading",SECTION_LOADED:"TimelineConstants/sectionLoaded",SECTION_FULLY_LOADED:"TimelineConstants/sectionFullyLoaded",SECTION_REGISTERED:"TimelineConstants/sectionRegistered",UNIT_SEGMENT_LOADED:"TimelineConstants/unitSegmentLoaded"});f.exports=h}),null);
__d("TimelineLegacySections",["fbt","CSS","DOM","getElementText"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={},j={},k=false,l=[],m={},n={get:function o(p){return Object.prototype.hasOwnProperty.call(j,p)?j[p]:null},getAll:function o(){return j},remove:function o(p){for(var q=0;q<l.length;q++)if(l[q]===p){l[q]=null;break}delete j[p]},removeAll:function o(){j={}},set:function o(p,q){j[p]=q},addOnVisible:function o(p,q){m[p]=q},destroyOnVisible:function o(p){var q=m[p];if(q){q.remove();c("DOM").remove(q.getElement())}m[p]=null},removeOnVisible:function o(p){var q=m[p];if(q)q.remove()},removeAllOnVisibles:function o(){Object.keys(m).forEach(function(p){return this.removeOnVisible(p)}.bind(this))},getOnVisible:function o(p){return m[p]},setMainSectionOrder:function o(p,q){l[q]=p},getMainSectionOrder:function o(){return l},addLoadPagelet:function o(p,q){i[p]=q},cancelLoadPagelet:function o(p){if(i[p])i[p].cancel()},cancelLoadPagelets:function o(){Object.keys(i).forEach(function(p){return this.cancelLoadPagelet(p)}.bind(this));i={}},shouldForceNoFriendActivity:function o(){return k},forceNoFriendActivity:function o(){k=true},collapsePlaceHolderHeaders:function o(){__p&&__p();var p=void 0,q=void 0,r=false;for(var s=0;s<l.length;s++){var t=l[s];if(!t)continue;var u=n.get(t);if(!u)continue;if(u.canScrollLoad()||u.isLoaded()){if(!u.isLoaded()){c("CSS").removeClass(u.getNode(),"fbTimelineTimePeriodSuppressed");c("CSS").addClass(u.getNode(),"fbTimelineTimePeriodUnexpanded")}if(p&&q){this.combineSectionHeaders(p,q);if(r)p.deactivateScrollLoad();r=true}p=null;q=null;continue}else if(p){q=u;u.deactivateScrollLoad()}else{p=u;q=u;if(r)u.activateScrollLoad()}c("CSS").removeClass(u.getNode(),"fbTimelineTimePeriodSuppressed");c("CSS").addClass(u.getNode(),"fbTimelineTimePeriodUnexpanded")}},combineSectionHeaders:function o(p,q){__p&&__p();c("CSS").removeClass(q.getNode(),"fbTimelineTimePeriodUnexpanded");c("CSS").addClass(q.getNode(),"fbTimelineTimePeriodSuppressed");var r=c("DOM").find(p.getNode(),"span.sectionLabel"),s=c("DOM").find(q.getNode(),"span.sectionLabel");if(!s.getAttribute("data-original-label"))s.setAttribute("data-original-label",c("getElementText")(s));if(r.getAttribute("data-month")&&s.getAttribute("data-month")&&r.getAttribute("data-year")==s.getAttribute("data-year"))c("DOM").setContent(s,h._("Show {month1} - {month2} {year}",[h._param("month1",s.getAttribute("data-month")),h._param("month2",r.getAttribute("data-month")),h._param("year",r.getAttribute("data-year"))]));else if(r.getAttribute("data-year")!==s.getAttribute("data-year"))c("DOM").setContent(s,h._("Show {year1} - {year2}",[h._param("year1",s.getAttribute("data-year")),h._param("year2",r.getAttribute("data-year"))]));else c("DOM").setContent(s,h._("Show {year}",[h._param("year",s.getAttribute("data-year"))]))}};f.exports=n}),null);
__d("TimelineScrubberKey",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MONTH:"month",RECENT_ACTIVITY:"recent",YEAR:"year"})}),null);
__d("TimelineController",["Arbiter","BlueBar","CSS","DataStore","DOMQuery","Event","ProfileDOMID","ProfileNavRef","ProfileTabConst","ProfileTabUtils","Run","TidyArbiter","TimelineComponentKeys","TimelineConstants","TimelineLegacySections","TimelineScrubberKey","UITinyViewportAction","Vector","$","forEachObject","ge","queryThenMutateDOM","tidyEvent"],(function a(b,c,d,e,f,g){__p&&__p();var h=740,i="top",j="paddingTop",k="paddingTop",l=null,m=false,n=null,o=null,p={},q={},r=null,s=[],t=null,u=0,v=c("Vector").getViewportDimensions(),w=false,x=false,y=false;function z(L,M,N){N=N||[];if(p[L])return p[L][M].apply(p[L],N);q[L]=q[L]||{};q[L][M]=N;return false}function A(){if(w)w=E(c("ge")("rightCol"),k,K.getCurrentScrubber());if(x)x=E(c("$")(c("ProfileDOMID").ABOVE_HEADER_TIMELINE),i);if(y)y=E(c("BlueBar").getBar(),j)}function B(){u=c("Vector").getScrollPosition()}function C(){A();if(c("ProfileTabUtils").tabHasStickyHeader(l))z(c("TimelineComponentKeys").STICKY_HEADER,"check",[u.y]);z(c("TimelineComponentKeys").CONTENT,"checkCurrentSectionChange")}function D(){c("queryThenMutateDOM")(B,C,"TimelineController/scrollListener")}function E(L,M,N){__p&&__p();if(!L)return false;if(u.y<=0){F(L,M);return false}if(N&&c("CSS").hasClass(N.getRoot(),"fixed_elem")){F(L,M);return false}var O=parseInt(L.style[M],10)||0;if(u.y<O){c("CSS").addClass(L,"timeline_fixed");L.style[M]=u.y+"px"}else c("CSS").removeClass(L,"timeline_fixed");return true}function F(L,M){L.style[M]="0px";c("CSS").removeClass(L,"timeline_fixed")}function G(){v=c("Vector").getViewportDimensions()}function H(){c("queryThenMutateDOM")(G,function(){z(c("TimelineComponentKeys").ADS,"adjustAdsToFit");z(c("TimelineComponentKeys").STICKY_HEADER_NAV,"adjustMenuHeights");z(c("TimelineComponentKeys").STICKY_HEADER,"check",[u.y])},"TimelineController/resize")}function I(event,L){__p&&__p();var M=c("Vector").getScrollPosition();L=Math.min(L,M.y);var N=c("ge")("rightCol");if(N){N.style[k]=L+"px";w=true}K.showAboveHeaderContent(L);y=c("UITinyViewportAction").isTinyHeight();if(y)c("BlueBar").getBar().style[j]=L+"px";c("Arbiter").inform("reflow")}function J(){__p&&__p();while(s.length)s.pop().remove();c("forEachObject")(p,function(M,N){M.reset&&M.reset()});l=null;n=null;p={};q={};t=null;m=false;x=false;if(w){var L=c("ge")("rightCol");if(L)F(L,k)}w=false;if(y){F(c("BlueBar").getBar(),j);y=false}c("DataStore").purge(c("TimelineConstants").DS_LOADED)}var K={init:function L(M,N,O){__p&&__p();var P;if(m)return;if(c("ProfileTabUtils").isTimelineTab(N))N=c("ProfileTabConst").TIMELINE;m=true;n=M;o=O.relationship_type;r=O.session_token;s.push(c("Event").listen(window,"scroll",D),c("Event").listen(window,"resize",H));c("tidyEvent")(c("TidyArbiter").subscribe("TimelineCover/coverCollapsed",I));c("ProfileNavRef").track();c("Run").onLeave(J);K.registerCurrentKey(N);var Q="#"+c("TimelineScrubberKey").WAY_BACK;if(window.location.hash===Q)(function(){var R=c("Arbiter").subscribe(c("TimelineConstants").SECTION_FULLY_LOADED,function(){z(c("TimelineComponentKeys").CONTENT,"navigateToSection",[c("TimelineScrubberKey").WAY_BACK]);R.unsubscribe()})})()},setAdsTracking:function L(M){z(c("TimelineComponentKeys").ADS,"start",[M])},showAboveHeaderContent:function L(M){var N=c("Vector").getScrollPosition();M=Math.min(M,N.y);var O=c("$")(c("ProfileDOMID").ABOVE_HEADER_TIMELINE);if(O.firstChild){var P=c("$")(c("ProfileDOMID").ABOVE_HEADER_TIMELINE_PLACEHOLDER);P.style.height=O.offsetHeight+"px";O.style.top=M+"px";x=true}},registerCurrentKey:function L(M){__p&&__p();l=M;t=M!==c("ProfileTabConst").MAP&&c("Vector").getViewportDimensions().y<h&&c("ProfileTabUtils").tabHasScrubber(M);t=t||c("BlueBar").getBar()&&c("BlueBar").getBar().offsetTop;z(c("TimelineComponentKeys").ADS,"setShortMode",[t]);z(c("TimelineComponentKeys").ADS,"updateCurrentKey",[M]);z(c("TimelineComponentKeys").ADS,"adjustAdsToFit");z(c("TimelineComponentKeys").COVER_NAV,"handleTabChange",[M]);z(c("TimelineComponentKeys").SCRUBBER,"handleTabChange",[M]);z(c("TimelineComponentKeys").ESCAPE_HATCH,"handleTabChange",[M]);z(c("TimelineComponentKeys").STICKY_COLUMN,"adjust");z(c("TimelineComponentKeys").STICKY_HEADER,"handleTabChange",[M]);D()},getProfileID:function L(){return n},getRelationshipType:function L(){return o},getSessionToken:function L(){return r},getCurrentKey:function L(){return l},getCurrentScrubber:function L(){return p[c("TimelineComponentKeys").SCRUBBER]},getCurrentStickyHeaderNav:function L(){return p[c("TimelineComponentKeys").STICKY_HEADER_NAV]},scrubberHasLoaded:function L(M){c("CSS").conditionClass(M.getRoot(),"fixed_elem",!t);z(c("TimelineComponentKeys").ADS,"registerScrubber",[M])},scrubberHasChangedState:function L(){z(c("TimelineComponentKeys").ADS,"adjustAdsToFit")},scrubberWasClicked:function L(M){z(c("TimelineComponentKeys").LOGGING,"logScrubberClick",[M])},stickyHeaderNavWasClicked:function L(M){z(c("TimelineComponentKeys").LOGGING,"logStickyHeaderNavClick",[M])},sectionHasChanged:function L(M,N){var O=[M,N];z(c("TimelineComponentKeys").STICKY_HEADER_NAV,"updateSection",O);z(c("TimelineComponentKeys").SCRUBBER,"updateSection",O);z(c("TimelineComponentKeys").ADS,"loadAdsIfEnoughTimePassed");z(c("TimelineComponentKeys").LOGGING,"logSectionChange",O)},navigateToSection:function L(M){z(c("TimelineComponentKeys").CONTENT,"navigateToSection",[M])},adjustStickyHeaderWidth:function L(){z(c("TimelineComponentKeys").STICKY_HEADER,"adjustWidth")},hideStickyHeaderNavSectionMenu:function L(){z(c("TimelineComponentKeys").STICKY_HEADER_NAV,"hideSectionMenu")},register:function L(M,N){p[M]=N;if(q[M]){c("forEachObject")(q[M],function(O,P){z(M,P,O)});delete q[M]}},runOnceWhenSectionFullyLoaded:function L(M,N,O){__p&&__p();var P,Q=c("TimelineLegacySections").get(N),R=false;if(Q){var S=c("DOMQuery").scry(Q.getNode(),".fbTimelineCapsule");R=S.some(function(T){var U=c("DataStore").get(c("TimelineConstants").DS_LOADED,T.id);if(parseInt(U,10)>=parseInt(O,10)){M();return true}})}if(!R)(function(){var T=c("Arbiter").subscribe(c("TimelineConstants").SECTION_FULLY_LOADED,function(U,V){if(V.scrubberKey===N&&V.pageIndex===O){M();T.unsubscribe()}})})()}};f.exports=K}),null);
__d("ProfileTimelineUILogger",["Banzai","ProfileTimelineUITypedLogger","TimelineController"],(function a(b,c,d,e,f,g){__p&&__p();var h="profile_timeline_ui";function i(event,k,l){var m=c("TimelineController").getProfileID(),n=c("TimelineController").getRelationshipType();if(c("Banzai").isEnabled(h)&&!!m&&!!n)new(c("ProfileTimelineUITypedLogger"))().setEvent(event).setUIComponent(k).setProfileID(m).setRelationshipType(n).setEventMetadata(l).log()}var j={logCoverNavItemClick:function k(l){i("click","cover_nav_item",{tab_key:l})},logCoverNavMoreItemClick:function k(l){i("click","cover_nav_more_item",{tab_key:l})},logScrubberClick:function k(l){i("click","scrubber",{section_key:l})},logStickyHeaderImpression:function k(){i("view","sticky_header",{})},logStickyHeaderNavItemClick:function k(l){i("click","sticky_header_nav_item",{tab_key:l})},logStickyHeaderScrubberClick:function k(l){i("click","sticky_header_scrubber",{section_key:l})},logStickyHeaderNavItemWithJumperClick:function k(l){i("click","sticky_header_nav_item_with_jumper",{tab_key:l})},logStickyHeaderScrubberWithJumperClick:function k(l){i("click","sticky_header_scrubber_with_jumper",{section_key:l})},logJumperRecentStoriesButtonClick:function k(l){i("click","jumper_recent_stories_button",{cursor:l})},logJumperMoreStoriesSpinnerView:function k(l){i("view","jumper_more_stories_spinner",{cursor:l})}};f.exports=j}),null);
__d("TimelineSmartInsert",["Run","UserAgent_DEPRECATED","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h=100;function i(o){if(o==="viewport")return c("Vector").getViewportDimensions().y;return o}var j=false,k=false;function l(){if(k)return;c("Run").onLeave(m);k=true}function m(){j=false;k=false}var n={run:function o(p,q,r){__p&&__p();l();if(!j||c("UserAgent_DEPRECATED").ie()<=8){q();return}var s=p.offsetHeight;q();var t=p.offsetHeight,u=c("Vector").getScrollPosition().y,v=c("Vector").getElementPosition(p).y;if(t!==s&&v<u&&v+s<u+i(r||h))window.scrollBy(0,t-s)},enable:function o(){j=true}};f.exports=n}),null);