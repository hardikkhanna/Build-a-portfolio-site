if (self.CavalryLogger) { CavalryLogger.start_js(["lQNWk"]); }

__d("MercuryJewelCountControl",["Arbiter","MercuryDispatcher","MercuryThreadInformer","MercuryUnseenState","UserActivity","isInFocusMode"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();var j=c("MercuryDispatcher").get(),k=c("MercuryThreadInformer").get();this.$MercuryJewelCountControl2=c("MercuryUnseenState").get();this.render();j.subscribe("model-update-completed",function(l,m){this.$MercuryJewelCountControl3(false)}.bind(this));k.subscribe("unseen-updated",function(){return this.render()}.bind(this));this.$MercuryJewelCountControl1=i;this.$MercuryJewelCountControl1.subscribe("marked-seen",function(){this.$MercuryJewelCountControl3(true)}.bind(this))}h.prototype.render=function(){"use strict";var i=c("isInFocusMode")()?0:this.$MercuryJewelCountControl2.getUnseenCount();c("Arbiter").inform("jewel/count-updated",{jewel:"mercurymessages",count:i},c("Arbiter").BEHAVIOR_STATE)};h.prototype.$MercuryJewelCountControl3=function(i){"use strict";if(i||this.$MercuryJewelCountControl1.isOpen()&&c("UserActivity").isActive())this.$MercuryJewelCountControl2.markAsSeen()};h.constructStores=function(){"use strict";c("MercuryUnseenState").get()};f.exports=h}),null);
__d("WorkGalahadAppTabID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PROFILE:"profile",HOME:"home",NOTIFICATIONS:"notifications",CHATS:"chats"})}),null);
__d("WorkGalahadBadgingActions",["WorkGalahadDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i,j){c("WorkGalahadDispatcher").dispatch({type:"galahad/update_badge_count",section:i,count:j})};f.exports={updateCount:h}}),null);
__d("WorkGalahadBadging",["MercuryDispatcher","MercuryJewelCountControl","MercuryServerPayloadPreprocessor","MercurySyncEnvironment","MercuryThreadInformer","MercuryUnseenState","NotificationConstants","NotificationSeenState","NotificationUpdates","SubscriptionsHandler","WorkGalahadAppTabID","WorkGalahadBadgingActions","createObjectFrom","GlobalNotificationSubscriptionsSubscription","GlobalNotificationSyncSubscription"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("NotificationConstants").PayloadSourceType,i=0,j=new(c("SubscriptionsHandler"))(),k={initNotifications:function l(m){c("GlobalNotificationSubscriptionsSubscription");c("GlobalNotificationSyncSubscription");c("NotificationUpdates").handleUpdate(h.INITIAL_LOAD,{seenState:c("createObjectFrom")(m,i)});var n=function n(){return c("WorkGalahadBadgingActions").updateCount(c("WorkGalahadAppTabID").NOTIFICATIONS,c("NotificationSeenState").getUnseenCount())};n();j.addSubscriptions(c("NotificationUpdates").subscribe("seen-state-updated",n))},initMessages:function l(m){c("MercuryDispatcher").get();c("MercurySyncEnvironment").setUp();c("MercuryUnseenState").get();c("MercuryJewelCountControl").constructStores();c("MercuryServerPayloadPreprocessor").get().handleUpdate(m);var n=function n(){return c("WorkGalahadBadgingActions").updateCount(c("WorkGalahadAppTabID").CHATS,c("MercuryUnseenState").get().getUnseenCount())};n();j.addSubscriptions(c("MercuryThreadInformer").get().subscribe("unseen-updated",n))}};f.exports=k}),null);
__d("WorkGalahadBadgingStore",["FluxReduceStore","immutable","WorkGalahadDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({badgeCounts:c("immutable").Map()}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxReduceStore"));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.__moduleID=f.id,o}m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){switch(o.type){case"galahad/update_badge_count":return n.set("badgeCounts",n.badgeCounts.set(o.section,o.count));default:return n}};m.prototype.getBadgeCounts=function(){return this.getState().badgeCounts};f.exports=new m(c("WorkGalahadDispatcher"))}),null);
__d("WorkGalahadNavStore",["FluxReduceStore","WorkGalahadAppTabID","immutable","WorkGalahadDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({activeEntityKey:"",selectedAppTabID:c("WorkGalahadAppTabID").HOME}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxReduceStore"));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.__moduleID=f.id,o}m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){switch(o.type){case"nav/setActiveEntityKey":return n.set("activeEntityKey",o.entityKey);case"nav/selectAppTabID":return n.set("selectedAppTabID",o.appTabID);default:return n}};m.prototype.getActiveEntityKey=function(){return this.getState().activeEntityKey};m.prototype.getSelectedAppTabID=function(){return this.getState().selectedAppTabID};f.exports=new m(c("WorkGalahadDispatcher"))}),null);
__d("WorkGalahadQuickPipeRequest",["QuickPipeRequest"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("QuickPipeRequest"));i=h&&h.prototype;j.prototype._preBootloadFirstResponse=function(k){return false};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("WorkGalahadRouting",["AjaxPipeRequest","Arbiter","ContextualComponent","PageHooks","PageEvents","PageTransitionsRegistrar","Quickling","QuicklingAugmenter","Run","TimerStorage","WorkGalahadQuickPipeRequest","cancelAnimationFrame","cancelIdleCallback","clearImmediate","clearInterval","clearTimeout","ge"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=false,i={init:function l(){if(h)return;h=true;c("Run").onAfterLoad(function m(){c("PageTransitionsRegistrar").registerHandler(j,1)})}};function j(l){__p&&__p();c("AjaxPipeRequest").setCurrentRequest(null);l=c("QuicklingAugmenter").augmentURI(l);if(!c("Quickling").isPageActive(l))return false;c("TimerStorage").clearAll(c("TimerStorage").ANIMATION_FRAME,c("cancelAnimationFrame"));c("TimerStorage").clearAll(c("TimerStorage").IDLE_CALLBACK,c("cancelIdleCallback"));c("TimerStorage").clearAll(c("TimerStorage").IMMEDIATE,c("clearImmediate"));c("TimerStorage").clearAll(c("TimerStorage").INTERVAL,c("clearInterval"));c("TimerStorage").clearAll(c("TimerStorage").TIMEOUT,c("clearTimeout"));c("Run").__removeHook(c("PageHooks").ONLOAD_HOOK);c("Run").__removeHook(c("PageHooks").DOMREADY_HOOK);c("Arbiter").inform(c("PageEvents").AJAXPIPE_ONUNLOAD,{transition_type:"quickling"});var m="content";k(m);new(c("WorkGalahadQuickPipeRequest"))(m,l).send();var n=window.__bodyWrapper;if(n.getCodeUsage)n.clearCodeUsage();return c("PageTransitionsRegistrar").DELAY_HISTORY}function k(l){var m=function m(){var n=c("ge")(l),o=c("ContextualComponent").forNode(n);if(o)o.cleanup();c("PageHooks").runHooks("onleavehooks")};m()}f.exports=i}),null);
__d("WorkGalahadAppTabContentHeader.react",["cx","LeftRight.react","React","WorkGalahadAppTabsConfig","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k){var l=k.className,m=k.tabID;return c("React").createElement(c("LeftRight.react"),{className:c("joinClasses")("_3-98 _3-9a _66uk",l)},c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},c("WorkGalahadAppTabsConfig").tabs[m].title),j(m))}function j(k){var l=c("WorkGalahadAppTabsConfig").tabs[k].actionComponent;if(!l)return null;return c("React").createElement(l,null)}f.exports=i}),null);
__d("WorkGalahadSearchBar.react",["React","UIPagelet"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="search_div_id";h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={pagelet:null},m}k.prototype.componentDidMount=function(){this.$WorkGalahadSearchBar1()};k.prototype.$WorkGalahadSearchBar1=function(){if(!this.state.pagelet){var l=c("UIPagelet").loadFromEndpoint("FacebarPagelet",j,{},{append:false,displayCallback:function m(n){n()},usePipe:false});this.setState({pagelet:l})}};k.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",{id:j}))};f.exports=k}),null);
__d("WorkGalahadAppTabContent.react",["cx","List.react","React","WorkGalahadAppTabContentHeader.react","WorkGalahadAppTabsConfig","WorkGalahadSearchBar.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k){var l=k.selectedAppTabID;return c("React").createElement(c("React").Fragment,null,c("React").createElement(c("WorkGalahadAppTabContentHeader.react"),{className:"_67jt",tabID:l}),c("React").createElement(c("WorkGalahadSearchBar.react"),{className:"_4jel _3-8x _5i94"+(c("WorkGalahadAppTabsConfig").tabs[l].hideSearchbar?" _31-e":"")}),c("React").createElement(c("List.react"),{border:"none",className:"_67ju",direction:"vertical",spacing:"none"},j(l)))}function j(k){var l=c("WorkGalahadAppTabsConfig").tabs[k].contentComponent;if(!l)return null;return c("React").createElement(l,null)}f.exports=i}),null);
__d("WorkGalahadAppTabSelector.react",["cx","Image.react","Link.react","React","Tooltip.react","WorkGalahadNavActions","WorkGalahadAppTabID","XUIBadge.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){var k=j.badgeCount,l=j.href,m=j.icon,n=j.id,o=j.title,p=j.selected;return c("React").createElement(c("Tooltip.react"),{display:"block",alignH:"center",position:"left",tooltip:o},c("React").createElement(c("Link.react"),{href:l,onClick:function q(){return c("WorkGalahadNavActions").selectAppTabID(n)},className:"_3fau"+(p?" _3fb1":"")+(p&&n===c("WorkGalahadAppTabID").PROFILE?" _3fb2":"")+(n!==c("WorkGalahadAppTabID").PROFILE?" _2ph_":"")+(n===c("WorkGalahadAppTabID").PROFILE?" _2phz":"")+" _3-94"},c("React").createElement(c("Image.react"),{className:n===c("WorkGalahadAppTabID").PROFILE?"_3fb5":"",src:m}),k?c("React").createElement(c("XUIBadge.react"),{allowZero:false,className:"_3fb8",count:k,maxCount:20,type:"special"}):null))}f.exports=i}),null);
__d("WorkGalahadAppTabSelectors.react",["React","WorkGalahadAppTabSelector.react","WorkGalahadAppTabsConfig"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.badgeCounts,k=i.selectedAppTabID;return Object.keys(c("WorkGalahadAppTabsConfig").tabs).map(function(l){var m=c("WorkGalahadAppTabsConfig").tabs[l],n=m.href,o=m.icon,p=m.title,q=m.selectedIcon,r=l===k;return c("React").createElement(c("WorkGalahadAppTabSelector.react"),{badgeCount:j.get(l),href:n,icon:r?q||o:o,id:l,key:l,title:p,selected:r})})}f.exports=h}),null);
__d("WorkGalahadNav.react",["cx","FlexLayout.react","FluxContainer","React","WorkGalahadAppTabContent.react","WorkGalahadAppTabSelectors.react","WorkGalahadNavStore","WorkGalahadBadgingStore"],(function a(b,c,d,e,f,g,h){"use strict";function i(){return[c("WorkGalahadNavStore"),c("WorkGalahadBadgingStore")]}function j(){return{badgeCounts:c("WorkGalahadBadgingStore").getBadgeCounts(),selectedAppTabID:c("WorkGalahadNavStore").getSelectedAppTabID()}}function k(l){return c("React").createElement(c("FlexLayout.react"),{align:"stretch",className:"_66-4",direction:"horizontal"},c("React").createElement(c("FlexLayout.react"),{align:"stretch",className:"_16hk _2e42",direction:"vertical",justify:"all"},c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_66-5 _2e42",direction:"vertical"},c("React").createElement(c("WorkGalahadAppTabSelectors.react"),{badgeCounts:l.badgeCounts,selectedAppTabID:l.selectedAppTabID}))),c("React").createElement(c("FlexLayout.react"),{align:"stretch",className:"_66-6",direction:"vertical"},c("React").createElement(c("WorkGalahadAppTabContent.react"),{selectedAppTabID:l.selectedAppTabID})))}f.exports=c("FluxContainer").createFunctional(k,i,j)}),null);
__d("WorkGalahad.react",["cx","DOMContainer.react","React","WorkGalahadNav.react","WorkGalahadNavActions","WorkGalahadNavStore","WorkGalahadBadging","WorkGalahadBadgingStore","WorkGalahadDispatcher","WorkGalahadRouting"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k){var l=k.initialData,m=k.entityContainer;j(l);return c("React").createElement("div",{className:"_4njv"},c("React").createElement("div",{className:"_40sr"},c("React").createElement(c("WorkGalahadNav.react"),null)),c("React").createElement(c("DOMContainer.react"),{display:"block",id:"content"},m))}function j(k){var l=k.defaultAppTabID,m=k.entityKey,n=k.mercuryJewelData,o=k.unseenNotifs;c("WorkGalahadRouting").init();c("WorkGalahadDispatcher").explicitlyRegisterStores([c("WorkGalahadBadgingStore"),c("WorkGalahadNavStore")]);c("WorkGalahadNavActions").setActiveEntityKey(m);c("WorkGalahadNavActions").selectAppTabID(l);c("WorkGalahadBadging").initNotifications(o);c("WorkGalahadBadging").initMessages(n)}f.exports=i}),null);