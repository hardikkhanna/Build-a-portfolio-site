if (self.CavalryLogger) { CavalryLogger.start_js(["Z9G64"]); }

__d("BrowseTopFiltersNone",["cx","CSS"],(function a(b,c,d,e,f,g,h){var i={init:function j(){c("CSS").removeClass(document.body,"_4dik")}};f.exports=i}),null);
__d("TypeaheadFacepile",["DOM"],(function a(b,c,d,e,f,g){function h(){}h.render=function(i){var j=[c("DOM").create("span",{className:"splitpic leftpic"},[c("DOM").create("img",{alt:"",src:i[0]})]),c("DOM").create("span",{className:"splitpic"+(i[2]?" toppic":"")},[c("DOM").create("img",{alt:"",src:i[1]})])];if(i[2])j.push(c("DOM").create("span",{className:"splitpic bottompic"},[c("DOM").create("img",{alt:"",src:i[2]})]));return c("DOM").create("span",{className:"splitpics clearfix"},j)};f.exports=h}),null);
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DataStore","DOM","Event","Parent","Run","Style","emptyFunction","ge","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function j(k,l,m,n){"use strict";i.constructor.call(this);this.args={data:k,view:l,core:m};c("DataStore").set(n,"Typeahead",this);this.element=n}j.prototype.init=function(k){"use strict";this.init=c("emptyFunction");this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(k||[]);this.inform("init",this);this.data.bootstrap();this.core.focus()};j.prototype.getData=function(){"use strict";if(!this.data){var k=this.args.data;this.data=k;this.data.init()}return this.data};j.prototype.getView=function(){"use strict";__p&&__p();if(!this.view){var k=this.args.view,l=k.node||c("ge")(k.node_id);if(!l){l=c("DOM").create("div",{className:"uiTypeaheadView"});c("DOM").appendContent(this.element,l)}if(typeof k.ctor==="string")this.view=new window[k.ctor](l,k.options||{});else this.view=new k.ctor(l,k.options||{});this.view.init();this.view.setTypeahead(this.element)}return this.view};j.prototype.getCore=function(){"use strict";if(!this.core){var k=this.args.core;if(typeof k.ctor==="string")this.core=new window[k.ctor](k.options||{});else this.core=new k.ctor(k.options||{});this.core.init(this.getData(),this.getView(),this.getElement())}return this.core};j.prototype.getElement=function(){"use strict";return this.element};j.prototype.setHeight=function(k){"use strict";if(k!=="auto")k+="px";c("Style").set(this.element,"height",k)};j.prototype.swapData=function(k){"use strict";return this.$Typeahead1(k,true)};j.prototype.swapDataNoCoreReset=function(k){"use strict";return this.$Typeahead1(k,false)};j.prototype.$Typeahead1=function(k,l){"use strict";__p&&__p();var m=this.core;this.data=this.args.data=k;k.init();if(m){m.data=k;m.initData();if(l)m.reset();this.proxyEvents()}k.bootstrap();return k};j.prototype.proxyEvents=function(){"use strict";[this.data,this.view,this.core].forEach(function(k){k.subscribe(k.events,this.inform.bind(this))},this)};j.prototype.initBehaviors=function(k){"use strict";k.forEach(function(l){if(typeof l==="string")if(b.TypeaheadBehaviors&&b.TypeaheadBehaviors[l])b.TypeaheadBehaviors[l](this);else c("Run").onLoad(function(){if(b.TypeaheadBehaviors)(b.TypeaheadBehaviors[l]||c("emptyFunction"))(this)}.bind(this));else this.enableBehavior(l)},this)};j.getInstance=function(k){"use strict";var l=c("Parent").byClass(k,"uiTypeahead");return l?c("DataStore").get(l,"Typeahead"):null};j.initNow=function(k,l,m){"use strict";if(m)m.init(k);k.init(l)};j.init=function(k,l,m,n){__p&&__p();var o;"use strict";if(!c("DOM").isNodeOfType(k,["input","textarea"]))k=c("DOM").scry(k,"input")[0]||c("DOM").scry(k,"textarea")[0];var p=false;try{p=document.activeElement===k}catch(q){}if(p)j.initNow(l,m,n);else(function(){var r=c("Event").listen(k,"focus",function(){j.initNow(l,m,n);r.remove()})})()};f.exports=j}),null);
__d("BasicTypeaheadRenderer",["BadgeHelper","DOM"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=[];if(i.icon)k.push(c("DOM").create("img",{alt:"",src:i.icon}));var l=i.debug_info;if(l)k.push(c("DOM").create("span",{className:"debugInfo"},l));if(i.text){var m=[i.text];if(i.is_verified)m.push(c("BadgeHelper").renderBadge("xsmall","verified"));k.push(c("DOM").create("span",{className:"text"},m))}if(i.subtext){var n=[i.subtext];k.push(c("DOM").create("span",{className:"subtext"},n))}var o=c("DOM").create("li",{className:i.type||""},k);if(i.text){o.setAttribute("title",i.text);o.setAttribute("aria-label",i.text)}return o}h.className="basic";f.exports=h}),null);
__d("createIxElement",["invariant","DOM","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){__p&&__p();var l="img";j.sprited||j.uri||h(0);if(j.sprited){l=c("joinClasses")(l,j.spriteMapCssClass,j.spriteCssClass);var m=c("DOM").create("i",{className:l});if(k!=null)c("DOM").setContent(m,c("DOM").create("u",null,k));return m}var n=c("DOM").create("img",{className:l,src:j.uri});if(k!=null)n.setAttribute("alt",k);if(j.width)n.setAttribute("width",j.width);if(j.height)n.setAttribute("height",j.height);return n}f.exports=i}),null);
__d("TypeaheadView",["ix","$","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Event","Parent","createIxElement","emptyFunction","getElementText","getOrCreateDOMID","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l,m){"use strict";j.constructor.call(this);this.element=this.content=c("$").fromIDOrElement(l);Object.assign(this,m)}k.prototype.init=function(){"use strict";this.init=c("emptyFunction");this.initializeEvents();this.reset()};k.prototype.initializeEvents=function(){"use strict";c("Event").listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)})};k.prototype.setTypeahead=function(l){"use strict";this.typeahead=l};k.prototype.setAccessibilityControlElement=function(l){"use strict";this.accessibilityElement=l};k.prototype.getElement=function(){"use strict";return this.element};k.prototype.mouseup=function(event){"use strict";if(event.button!=2){this.select(true);event.prevent()}};k.prototype.mouseover=function(event){"use strict";if(this.ignoreMouseover){this.ignoreMouseover=false;return}if(this.visible)this.highlight(this.getIndex(event))};k.prototype.reset=function(l){"use strict";__p&&__p();if(!l)this.disableAutoSelect=false;this.index=-1;this.items=[];this.results=[];this.value="";this.content.innerHTML="";this.inform("reset");return this};k.prototype.getIndex=function(event){"use strict";return this.items.indexOf(c("Parent").byTag(event.getTarget(),"li"))};k.prototype.getSelection=function(){"use strict";var l=this.results[this.index]||null;return this.visible?l:null};k.prototype.isEmpty=function(){"use strict";return!this.results.length};k.prototype.isVisible=function(){"use strict";return!!this.visible};k.prototype.show=function(){"use strict";c("CSS").show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute("aria-expanded","true");this.visible=true;return this};k.prototype.hide=function(){"use strict";c("CSS").hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute("aria-expanded","false");this.accessibilityElement.removeAttribute("aria-activedescendant")}this.visible=false;return this};k.prototype.render=function(l,m,n){"use strict";__p&&__p();this.value=l;if(!m.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.reset(true);return}var o={results:m,value:l};this.inform("beforeRender",o);m=o.results;var p=n&&this.index!=-1?this.index:this.getDefaultIndex(m);this.results=m;c("DOM").setContent(this.content,this.buildResults(m));this.items=this.getItems();this.highlight(p,false);this.inform("render",this.results)};k.prototype.getItems=function(){"use strict";return c("DOM").scry(this.content,"li")};k.prototype.buildResults=function(l){"use strict";__p&&__p();var m,n=null;if(typeof this.renderer=="function"){m=this.renderer;n=this.renderer.className||""}else{m=b.TypeaheadRenderers[this.renderer];n=this.renderer}m=m.bind(this);var o=l.map(function(q,r){var s=q.node||m(q,r);s.setAttribute("role","option");return s}),p=c("DOM").create("ul",{className:n,id:"typeahead_list_"+(this.typeahead?c("getOrCreateDOMID")(this.typeahead):c("getOrCreateDOMID")(this.element))},o);p.setAttribute("role","listbox");return p};k.prototype.showLoadingIndicator=function(){"use strict";var l=c("createIxElement")(h("85428")),m=c("DOM").create("li",{className:"typeaheadViewInternalLoading"},l),n=c("DOM").create("ul",{role:"listbox"},m);c("DOM").setContent(this.content,n)};k.prototype.getDefaultIndex=function(){"use strict";var l=this.autoSelect&&!this.disableAutoSelect;return this.index<0&&!l?-1:0};k.prototype.next=function(){"use strict";this.highlight(this.index+1);this.inform("next",this.selected)};k.prototype.prev=function(){"use strict";this.highlight(this.index-1);this.inform("prev",this.selected)};k.prototype.getItemText=function(l){"use strict";__p&&__p();var m="";if(l){m=l.getAttribute("aria-label");if(!m){m=c("getElementText")(l);l.setAttribute("aria-label",m)}}return m};k.prototype.setIsViewingSelectedItems=function(l){"use strict";this.viewingSelected=l;return this};k.prototype.getIsViewingSelectedItems=function(){"use strict";return!!this.viewingSelected};k.prototype.highlight=function(l,m){"use strict";__p&&__p();if(this.selected){c("CSS").removeClass(this.selected,"selected");this.selected.setAttribute("aria-selected","false")}if(l>this.items.length-1)l=-1;else if(l<-1)l=this.items.length-1;if(l>=0&&l<this.items.length){this.selected=this.items[l];c("CSS").addClass(this.selected,"selected");this.selected.setAttribute("aria-selected","true");if(this.accessibilityElement)setTimeout(function(){this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(this.selected))}.bind(this),0)}else this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.index=l;this.disableAutoSelect=l==-1;if(m!==false)this.inform("highlight",{index:l,selected:this.results[l],element:this.selected})};k.prototype.select=function(l){"use strict";__p&&__p();if(this.headerIndex&&l)return;var m=this.index,n=this.results[m],o=this.element.getAttribute("id");if(n){var p=function(n){this.inform("select",{index:m,clicked:!!l,selected:n,id:o,query:this.value});this.inform("afterSelect")}.bind(this);if(this.shouldValidateTypeaheadSelection(n))this.validateTypeaheadSelection(n,p);else p(n)}};k.prototype.shouldValidateTypeaheadSelection=function(l){"use strict";return false};k.prototype.validateTypeaheadSelection=function(l,m){"use strict"};Object.assign(k.prototype,{events:["highlight","render","reset","select","beforeRender","next","prev"],renderer:c("BasicTypeaheadRenderer"),autoSelect:false,ignoreMouseover:false});f.exports=k}),null);
__d("FacebarSemanticQuery",["CurrentUser","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="str",i=/\*[\w\-]+\(/g;function j(t){var u={me:c("CurrentUser").getID()};return Object.assign(u,Array.isArray(t.semantic_map)?{}:t.semantic_map)}function k(t,u){var v=j(t);if(typeof v[u]!=="undefined")return String(v[u]);return u}function l(t){return new(c("URI"))("/profile.php").addQueryData({id:t})}function m(t,u){__p&&__p();var v=[u],w=[],x=t.browse_functions,y=t.search_path;while(v.length>0){var z=v.pop();if(!p(z)){w.push(z);continue}var A=z.substring(0,z.indexOf("(")),B=A,C=q(z);if(!x[A]){w=[];break}var D=x[A].minNumParams,E=x[A].maxNumParams;if(v.length>0)if(x[A].numParamsUnbounded){if(w.length>0)A+="-"+C.length}else if(C.length!=1&&C.length>D||C.length===0&&D!=E)A+="-"+C.length;v.push(A);for(var F=0;F<C.length;F++){if(C[F].length===0)continue;if(x[B].allowsFreeText)v.push(h+"/"+encodeURIComponent(encodeURIComponent(C[F])));else v.push(C[F])}}return new(c("URI"))(y+w.join("/"))}function n(t){return t.replace(/[\'\"\[\]]/g,"")}function o(t,u){__p&&__p();var v=JSON.parse(u),w=[];if(v.length>0)w=[v[0]];var x=[],y=t.browse_functions,z=t.search_path;while(w.length>0){var A=w.pop();if(typeof A!=="object"){x.push(n(A));continue}var B=Object.keys(A)[0],C=B,D=A[B];if(!y[B]){x=[];break}var E=y[B].minNumParams,F=y[B].maxNumParams;if(w.length>0)if(y[B].numParamsUnbounded){if(x.length>0)B+="-"+D.length}else if(D.length!=1&&D.length>E||D.length===0&&E!=F)B+="-"+D.length;w.push(B);for(var G=0;G<D.length;G++){if(D[G].length===0)continue;if(y[C].allowsFreeText)w.push(h+"/"+encodeURIComponent(D[G]));else w.push(D[G])}}return new(c("URI"))(z+x.join("/"))}function p(t){return/^[a-z\-]+\(.*\)$/.test(t)}function q(t){if(!p(t)&&t.indexOf("param_")!==0)return[t];var u=t.substring(t.indexOf("(")+1,t.length-1);if(u.length===0)return[];return r(u)}function r(t){__p&&__p();var u=[],v=0,w=0;for(var x=0;x<t.length;++x)if(t[x]==","&&w===0){u.push(t.substring(v,x));v=x+1}else if(t[x]=="(")w++;else if(t[x]==")")w--;u.push(t.substring(v,t.length));return u}function s(t,u,v){this.facebarConfig=t;this.unmapped=(u||"").trim();this.mapped=k(t,this.unmapped);this.position=null;this.$FacebarSemanticQuery1=v!==undefined?v:false}s.prototype.isEntity=function(){return/^\d+$/.test(this.mapped)};s.prototype.isShortcut=function(){return this.mapped.indexOf("shortcut(")===0};s.prototype.isImplemented=function(){return this.mapped&&!this.mapped.match(i)};s.prototype.isSemanticForest=function(){return this.$FacebarSemanticQuery1};s.prototype.getUnimplemented=function(){return(this.mapped.match(i)||[]).map(function(t){return t.substr(1,t.length-2)})};s.prototype.getURI=function(){if(this.isEntity())return l(this.mapped);else if(this.isShortcut())return new(c("URI"))(this.mapped.substr(9,this.mapped.length-10));else if(this.isSemanticForest())return o(this.facebarConfig,this.unmapped);else return m(this.facebarConfig,this.unmapped)};f.exports=s}),null);
__d("LocalSERPSurfaceRequestParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SINGLE_STATE:"sist",TYPEAHEAD:"tyah",ECHO:"ec",SERP_TO_SERP:"s2s",NEARBY_PLACES:"nepl",FEED_STORY:"fest",PLACES_TAB:"plta",NOTIFICATIONS:"noti",RECENT_SEARCHES:"rese",TODAY:"to",SHARED_LINK:"lnk"})}),null);
__d("FacebarURI",["FacebarJSConstants","FacebarSemanticQuery","KeywordsSearchResultConfig","LocalSERPSurfaceRequestParam","URI","WWWBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={event:{ref:c("FacebarJSConstants").eventLinkRef},user:{fref:"ts"},page:{fref:"ts"}},i={getSearchRawPrefix:function j(){return"search"},getSearchPath:function j(){return"/"+this.getSearchRawPrefix()+"/"},getURI:function j(k,l){__p&&__p();var m=null,n=!l.song&&!l.isExtendedResult&&l.path;if(n){m=new(c("URI"))(n);if(l.type in h)m.addQueryData(h[l.type])}else if(c("KeywordsSearchResultConfig").use_seo_urls&&l.type===c("KeywordsSearchResultConfig").result_type&&l.semantic.startsWith("str/"))if(l.keywordType===c("FacebarJSConstants").keywordTypes.local_category)m=new(c("URI"))("/search/places").addQueryData("q",l.keyword?l.keyword:l.text);else m=new(c("URI"))(c("KeywordsSearchResultConfig").seo_top_url).addQueryData("q",l.keyword?l.keyword:l.text);else{var o=new(c("FacebarSemanticQuery"))(k,l.semantic);if(o&&o.isImplemented())m=o.getURI();if(l.keywordType===c("FacebarJSConstants").keywordTypes.local)if(l.isSingleState)m.addQueryData("surface",c("LocalSERPSurfaceRequestParam").SINGLE_STATE);else if(l.isRecent)m.addQueryData("surface",c("LocalSERPSurfaceRequestParam").RECENT_SEARCHES);else m.addQueryData("surface",c("LocalSERPSurfaceRequestParam").TYPEAHEAD)}return m&&i.getQualifiedURI(m)},getQualifiedURI:function j(k){var l=new(c("URI"))(k);if(!l.getDomain()){var m=new(c("URI"))(c("WWWBase").uri);l.setProtocol(m.getProtocol()).setDomain(m.getDomain()).setPort(m.getPort())}return l}};f.exports=i}),null);
__d("FacebarKeywordSearchUtils",["Arbiter","Base64","FacebarJSConstants","FacebarStructuredText","FacebarURI","KeywordsSearchResultConfig","LocalSERPSurfaceRequestParam","SearchStickyTabsConfig","URI","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i=function i(l){var m=0;while(m<l.length)if(l[m].exactMatchKeyword)l.splice(m,1);else++m},j=null,k={addExactMatch:function l(m,n,o){__p&&__p();if(!n.length)return;var p=void 0,q=void 0;for(var r=0,s=n.length;r<s;r++){q=n[r];if(q.type==="grammar")continue;p=true;break}if(!p)return;var t=this.getExactMatchKeywordResult(m);if(!t)return;var u=Math.min(n.length,o),v=u;for(var w=0;w<u;w++){q=n[w];if(q.exactMatchKeyword)return;if(q.cost>c("KeywordsSearchResultConfig").default_cost)--v;if(q.type!==c("KeywordsSearchResultConfig").result_type)continue;t.backendCost=q.cost+c("KeywordsSearchResultConfig").exact_match_cost_delta_from_best;t.cost=q.backendCost;i(n);n.splice(w,0,t);return}i(n);n.splice(Math.min(Math.min(u,o-1),v),0,t)},getExactMatchKeywordResult:function l(m){if(!m||m.is_empty||!m.raw_text)return null;var n=m.raw_text.toLowerCase().replace(/\s{2,}/g," ").trim(),o=c("KeywordsSearchResultConfig").query_prefix_blacklist;for(var p=0;p<o.length;p++)if(n.startsWith(o[p]))return null;var q=this.makeFacebarEntry(n);return this._makeFacebarResult(q,m.cache_id.length)},makeFacebarEntryForLocalPage:function l(m){var n=m.getFragment(0).getUID(),o=m.getFragment(0).getText(),p=n+"/local_search",q=c("FacebarURI").getQualifiedURI(new(c("URI"))("/search/"+p).addQueryData("surface",c("LocalSERPSurfaceRequestParam").SINGLE_STATE));return{semantic:p,text:o,type:c("KeywordsSearchResultConfig").result_type,resultsSetType:c("KeywordsSearchResultConfig").result_set_type,uid:c("KeywordsSearchResultConfig").uid_prefix+o,iconClass:c("KeywordsSearchResultConfig").icon_class,keywordType:c("FacebarJSConstants").keywordTypes.local,uri:q,structure:c("FacebarStructuredText").fromString(o)}},makeFacebarEntry:function l(m){__p&&__p();var n=null,o=null,p=null;if(c("KeywordsSearchResultConfig").gsv2_results_page){if(j!=null)p=j;else p=c("KeywordsSearchResultConfig").gsv2_browse_edge;o="str/"+encodeURIComponent(m).replace(/%20/g,"+")+"/"+p;n=c("FacebarURI").getQualifiedURI(new(c("URI"))("/search/"+o))}else{n=c("FacebarURI").getQualifiedURI(new(c("URI"))(c("KeywordsSearchResultConfig").results_page_url).addQueryData("q",m));o=c("KeywordsSearchResultConfig").shortcut+"("+n.toString()+")"}if(j==null&&c("KeywordsSearchResultConfig").use_seo_urls)n=c("FacebarURI").getQualifiedURI(new(c("URI"))(c("KeywordsSearchResultConfig").seo_top_url).addQueryData("q",m));return{semantic:o,text:m,type:c("KeywordsSearchResultConfig").result_type,resultsSetType:c("KeywordsSearchResultConfig").result_set_type,uid:c("KeywordsSearchResultConfig").uid_prefix+m,iconClass:c("KeywordsSearchResultConfig").icon_class,uri:n,structure:c("FacebarStructuredText").fromString(m)}},clearSelectedTabInfo:function l(){j=null},_makeFacebarResult:function l(m,n){var o={semantic:m.semantic,structure:[{type:"grammar",text:m.text,uid:m.semantic}],type:m.type,resultsSetType:m.resultsSetType,cost:c("KeywordsSearchResultConfig").default_cost,cache_id_length:n,parse:{display:[{type:"grammar",uid:c("KeywordsSearchResultConfig").uid_prefix+m.text}],remTokens:[],suffix:""},iconClass:m.iconClass,exactMatchKeyword:true};o.tuid=JSON.stringify({semantic:o.semantic,structure:o.structure});return o},encodeFacebarURIParams:function l(m){return c("Base64").encode(JSON.stringify(m)).replace(/\=+$/,"")},decodeFacebarURIParams:function l(m){var n=m.getQueryData().ref;if(n==null)return null;var o=void 0;try{o=JSON.parse(c("Base64").decode(n))}catch(p){}return o}};if(c("SearchStickyTabsConfig").has_sticky_tabs)(function(){__p&&__p();var l=void 0;c("Arbiter").subscribe("FacebarTypeahead.persistentTabs",function(m,n){j=n.browseEdge;var o=c("SearchStickyTabsConfig").timeout;if(o!=null){if(l!=null)clearTimeout(l);l=c("setTimeoutAcrossTransitions")(function(){k.clearSelectedTabInfo()},o*1e3)}})})();f.exports=k}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function a(b,c,d,e,f,g){var h={mtouch:"412378670482",www:"256281040558"},i="keywords_search";function j(k){var l=k.appName,m=k.edge;return c("md5")([h[l],c("CurrentUser").getID(),m,Math.floor(Date.now()/30)].join(":"))}f.exports=j}),null);
__d("SearchInstantBootstrapEntityModule",["cx","fbt","Arbiter","BanzaiODS","Base64","BrowseClickLogger","ContextualComponent","CSS","CurrentUser","DOM","FacebarKeywordSearchUtils","PageTransitionsRegistrar","React","ReactDOM","ReactRenderer","Run","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUIConfig","SearchBootstrapEntityModuleUtil","SearchEntityModule.react","SearchEntityModuleServerConstants","SearchEntityModuleUIConfig","SearchWWWTrackableClientViewConfig","SubscriptionsHandler","URI","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","XUISpinner.react","ge","generateBrowseSessionID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[i._("All"),i._("Posts"),i._("People"),i._("Photos"),i._("Videos"),i._("Pages"),i._("Places"),i._("Groups"),i._("Apps"),i._("Events")],k=void 0;function l(m){__p&&__p();this.$SearchInstantBootstrapEntityModule10=[];this.$SearchInstantBootstrapEntityModule11=false;this.$SearchInstantBootstrapEntityModule12=false;this.$SearchInstantBootstrapEntityModule13=false;this.$SearchInstantBootstrapEntityModule17=function(n){__p&&__p();this.$SearchInstantBootstrapEntityModule11=false;if(!c("SearchBootstrapEntityModuleUtil").isTopTabURI(n))return;this.$SearchInstantBootstrapEntityModule13=true;var o=void 0,p=c("FacebarKeywordSearchUtils").decodeFacebarURIParams(n);if(p!=null){this.$SearchInstantBootstrapEntityModule8=p.sid;o=p.bsid}if(o==null)o=c("generateBrowseSessionID")({appName:"www",edge:"keywords_search"});this.$SearchInstantBootstrapEntityModule9=o;this.$SearchInstantBootstrapEntityModule4=c("SearchBootstrapEntityModuleUtil").getQueryFromURI(n);this.$SearchInstantBootstrapEntityModule18();this.$SearchInstantBootstrapEntityModule19(n);if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading){if(this.$SearchInstantBootstrapEntityModule13&&this.$SearchInstantBootstrapEntityModule10.length>0){this.$SearchInstantBootstrapEntityModule20();this.$SearchInstantBootstrapEntityModule21()}this.$SearchInstantBootstrapEntityModule22()}}.bind(this);this.$SearchInstantBootstrapEntityModule25=function(n){if(this.$SearchInstantBootstrapEntityModule9==null)return;this.$SearchInstantBootstrapEntityModule10=c("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(n,this.$SearchInstantBootstrapEntityModule9)}.bind(this);this.$SearchInstantBootstrapEntityModule26=function(){this.$SearchInstantBootstrapEntityModule13=false;if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)this.$SearchInstantBootstrapEntityModule27();c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","shown")}.bind(this);this.$SearchInstantBootstrapEntityModule1=m.getCore();this.$SearchInstantBootstrapEntityModule2=new(c("SubscriptionsHandler"))();k=this}l.prototype.enable=function(){__p&&__p();this.$SearchInstantBootstrapEntityModule7=c("ge")("content");if(this.$SearchInstantBootstrapEntityModule7==null)return;c("Run").onAfterLoad(function(){this.$SearchInstantBootstrapEntityModule14();this.$SearchInstantBootstrapEntityModule2.addSubscriptions(c("Arbiter").subscribe("page_transition",function(){this.$SearchInstantBootstrapEntityModule15();this.$SearchInstantBootstrapEntityModule16()}.bind(this)));this.$SearchInstantBootstrapEntityModule15();this.$SearchInstantBootstrapEntityModule16()}.bind(this))};l.prototype.disable=function(){this.$SearchInstantBootstrapEntityModule2.release()};l.prototype.$SearchInstantBootstrapEntityModule15=function(){if(!this.$SearchInstantBootstrapEntityModule11){c("PageTransitionsRegistrar").registerHandler(this.$SearchInstantBootstrapEntityModule17);this.$SearchInstantBootstrapEntityModule11=true}};l.prototype.$SearchInstantBootstrapEntityModule16=function(){__p&&__p();if(this.$SearchInstantBootstrapEntityModule12)return;var m=this.$SearchInstantBootstrapEntityModule7;if(m==null)return;var n=c("ContextualComponent").closestToNode(m);if(n==null)return;n.onUnmount(function(){this.$SearchInstantBootstrapEntityModule23();this.$SearchInstantBootstrapEntityModule12=false}.bind(this));this.$SearchInstantBootstrapEntityModule12=true};l.prototype.$SearchInstantBootstrapEntityModule23=function(){__p&&__p();if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading){if(c("SearchBootstrapEntityModuleUtil").isTopTabURI(c("URI").getNextURI())){if(this.$SearchInstantBootstrapEntityModule13&&this.$SearchInstantBootstrapEntityModule10.length===0){this.$SearchInstantBootstrapEntityModule20();this.$SearchInstantBootstrapEntityModule21()}return}this.$SearchInstantBootstrapEntityModule21();this.$SearchInstantBootstrapEntityModule20()}else this.$SearchInstantBootstrapEntityModule21()};l.prototype.$SearchInstantBootstrapEntityModule14=function(){__p&&__p();var m=c("DOM").create("div",{className:"_126b"});this.$SearchInstantBootstrapEntityModule3=c("DOM").create("div",{className:"_126c"},m);c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUISpinner.react"),{size:"large"},m);var n=[this.$SearchInstantBootstrapEntityModule3],j=c("SearchBootstrapEntityModuleUIConfig").hasTabBarPlaceholder?this.$SearchInstantBootstrapEntityModule24():null;if(j!=null)n.push(j);this.$SearchInstantBootstrapEntityModule6=c("DOM").create("div",{className:"_126d"},n);c("DOM").appendContent(this.$SearchInstantBootstrapEntityModule6,this.$SearchInstantBootstrapEntityModule3);c("CSS").hide(this.$SearchInstantBootstrapEntityModule6);c("DOM").appendContent(document.body,this.$SearchInstantBootstrapEntityModule6)};l.prototype.$SearchInstantBootstrapEntityModule24=function(){var m=j.map(function(p,q){return c("React").createElement(c("XUIPageNavigationItem.react"),{className:"_4gsg",href:"#",key:q},p)}),n=c("DOM").create("div"),o=c("DOM").create("div",{className:"_5sqx _4-u2 _4-u8","aria-hidden":true},c("DOM").create("div",{className:"_zz9 _5im-"},n));c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUIPageNavigation.react"),{children:c("React").createElement(c("XUIPageNavigationGroup.react"),null,m)},n);return o};l.prototype.$SearchInstantBootstrapEntityModule18=function(){var m=[];if(this.$SearchInstantBootstrapEntityModule4!=null){m=this.$SearchInstantBootstrapEntityModule1.getSquashedEntityIDsFromQueryString(this.$SearchInstantBootstrapEntityModule4);if(m==null)m=[]}c("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:this.$SearchInstantBootstrapEntityModule4,callback:this.$SearchInstantBootstrapEntityModule25,whitelistedEntIds:m},c("Arbiter").BEHAVIOR_PERSISTENT)};l.prototype.$SearchInstantBootstrapEntityModule19=function(m){__p&&__p();var n=this.$SearchInstantBootstrapEntityModule4,o=this.$SearchInstantBootstrapEntityModule10;if(n==null||o.length===0)return;var p=void 0,q=m.getQueryData().ref,r=c("FacebarKeywordSearchUtils").decodeFacebarURIParams(m);if(r==null)p=q;var s=o.map(function(v){return v.tuid}),t=this.$SearchInstantBootstrapEntityModule9;if(t==null)return;var u=babelHelpers["extends"]({},r,{preloaded_entity_ids:s,preloaded_entity_type:o[0].type,ent_ids:this.$SearchInstantBootstrapEntityModule1.getSquashedEntityIDsFromQueryString(n),bsid:t});if(p!=null)u.ref=p;m.setQueryData(babelHelpers["extends"]({},m.getQueryData(),{ref:c("Base64").encode(JSON.stringify(u)).replace(/\=+$/,"")}))};l.prototype.$SearchInstantBootstrapEntityModule22=function(){__p&&__p();var m=this.$SearchInstantBootstrapEntityModule10,n=this.$SearchInstantBootstrapEntityModule4,o=this.$SearchInstantBootstrapEntityModule9;if(m==null||n==null||o==null)return;if(m.length===0){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","no_matches");return}var p=c("DOM").create("div",{"data-bt":JSON.stringify({session_id:o,typeahead_sid:this.$SearchInstantBootstrapEntityModule8})});c("BrowseClickLogger").init(p);var q=c("SearchBootstrapEntityModuleUtil").getTitleForResultType(m[0].type),r={plain_text_query:n,browse_query:"keywords_search("+n+")",results:m,module_role:c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[m[0].type],result_type:m[0].type,num_results_to_show:c("SearchBootstrapEntityModuleUIConfig").numResultsToShow,client_view_config:c("SearchWWWTrackableClientViewConfig"),browse_session_id:o,module_style:c("SearchEntityModuleUIConfig").moduleStyle,title:q,see_more_uri:c("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(m,n).toString(),logging_unit_id:c("SearchBootstrapEntityModuleUtil").generateUnitIDWithPrefix("www_bem"),has_module_guidelines:c("SearchEntityModuleUIConfig").hasModuleGuidelines,viewer_id:c("CurrentUser").getID(),is_bootstrap_entity_module:true,should_render_footer:false,typeahead_session_id:this.$SearchInstantBootstrapEntityModule8};if(this.$SearchInstantBootstrapEntityModule5!=null)c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","previous_bem_not_unmounted");this.$SearchInstantBootstrapEntityModule5=c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("SearchEntityModule.react"),r,p,this.$SearchInstantBootstrapEntityModule26);c("DOM").prependContent(this.$SearchInstantBootstrapEntityModule3,p)};l.prototype.$SearchInstantBootstrapEntityModule21=function(){__p&&__p();var f=this.$SearchInstantBootstrapEntityModule5;if(f==null)return;var m=false,n=c("ReactDOM").findDOMNode(f);if(n!=null&&n.parentNode!=null)m=c("ReactDOM").unmountComponentAtNode(n.parentNode);if(!m)c("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","current_bem_did_not_unmount");this.$SearchInstantBootstrapEntityModule5=null;this.$SearchInstantBootstrapEntityModule13=false};l.prototype.$SearchInstantBootstrapEntityModule27=function(){c("CSS").show(this.$SearchInstantBootstrapEntityModule6);if(document.body!=null)c("CSS").removeClass(document.body,"_2yq");if(this.$SearchInstantBootstrapEntityModule7!=null)c("CSS").hide(this.$SearchInstantBootstrapEntityModule7)};l.prototype.$SearchInstantBootstrapEntityModule20=function(){if(this.$SearchInstantBootstrapEntityModule7!=null)c("CSS").show(this.$SearchInstantBootstrapEntityModule7);c("CSS").hide(this.$SearchInstantBootstrapEntityModule6)};l.moveInsideWrapper=function(m){__p&&__p();if(k==null){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","bem_not_initialized");return}if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)k.$SearchInstantBootstrapEntityModule20();else k.$SearchInstantBootstrapEntityModule22();var f=k.$SearchInstantBootstrapEntityModule5;if(f==null){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","no_module_found_on_instance");return}var n=c("ReactDOM").findDOMNode(f);if(n==null){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","no_module_root_found");return}if(n.parentNode==null){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","no_parent_node_found_for_module_root");return}if(!c("DOM").contains(document.body,m))c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","wrapper_not_in_dom");c("DOM").appendContent(m,n.parentNode)};f.exports=l}),null);