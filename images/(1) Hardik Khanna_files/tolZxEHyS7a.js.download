if (self.CavalryLogger) { CavalryLogger.start_js(["NDHYC"]); }

__d("BrowseClientSizeLogger",["BanzaiLogger","DataAttributeUtils","getElementPosition"],(function a(b,c,d,e,f,g){var h={log:function i(j){var k=c("DataAttributeUtils").getDataAttribute(j,"data-xt"),l=JSON.parse(k.substring(k.indexOf("{"))),m=c("getElementPosition")(j);l.client_height=m.height;l.client_width=m.width;l.raw_id=+l.raw_id;c("BanzaiLogger").log("SearchResultsClientSizeLoggerConfig",l)}};f.exports=h}),null);
__d("BrowseTopFiltersFullWidth",["cx","Arbiter","CSS","NavigationMessage","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=void 0,j=/(facebook\.com\/(search|hashtag|topic)\/)/,k={init:function l(){c("CSS").addClass(document.body,"_4dik");i=new(c("SubscriptionsHandler"))();i.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_FIRST_RESPONSE,this.cleanup));c("Arbiter").inform("browse_top_filters_full_width_displayed")},cleanup:function l(){i&&i.release();if(!window.location.href.match(j))c("CSS").removeClass(document.body,"_4dik")}};f.exports=k}),null);
__d("PageRecommendationsCircleScoreQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],k={kind:"LinkedField",alias:null,name:"overall_star_rating",storageKey:null,args:null,concreteType:"Rating",plural:false,selections:[{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"PageRecommendationsCircleScoreQuery",id:"1834143813336251",text:null,metadata:{},fragment:{kind:"Fragment",name:"PageRecommendationsCircleScoreQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:j,concreteType:"Page",plural:false,selections:[k]}]},operation:{kind:"Operation",name:"PageRecommendationsCircleScoreQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:j,concreteType:"Page",plural:false,selections:[k,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();f.exports=h}),null);
__d("SearchBootstrapEntityModuleDebugUtil",["Arbiter","BanzaiODS","JSLogger","gkx"],(function a(b,c,d,e,f,g){"use strict";var h={backend_faster_no_matches:"BEM not shown because backend returned faster but had no matches anyway",backend_faster_with_matches:"BEM had matches but backend was faster",no_matches:"BEM not shown as no matches were found",shown:"BEM shown"},i={printDebugNotice:function j(k,l,m,n){var o=n!=null&&n.length>0,p=o?"has_preloaded_entity_ids":"without_preloaded_entity_ids";c("BanzaiODS").bumpEntityKey("search.www."+k,l+"."+p);c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(event,q){q.searchBootstrapEntityModule={notice:h[l],matches:JSON.stringify(m!=null?m:[])}});c("gkx")("AT5mEoK6yZIZfOTePCTalrkJYM_xxtUvvUlHcKv-Nw4MRnriEvGxI7gLFZxvp7qTmJZGLJlpAI-hO4R1yDBCdPrb")}};f.exports=i}),null);
__d("SearchBootstrapEntityModuleUtil",["cx","fbt","DOM","FacebarJSConstants","immutable","SearchBootstrapEntityModuleUIConfig","SearchEntityModuleServerConstants","URI","md5","randomInt"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("immutable").Map(),k=new RegExp("^/(search/top|search/str.+/keywords_(top|search))"),l=new RegExp("^/(search|topic/trending)"),m=new RegExp("^/search/str/([^/]+)/");function n(y){__p&&__p();var z=void 0;switch(y){case"user":z=i._("People");break;case"page":z=i._("Pages");break;case"group":z=i._("Groups");break;case"application":z=i._("Apps");break;case"place":z=i._("Places");break;case"event":z=i._("Events");break}return z}function o(y){__p&&__p();if(y.subtext==null)return[];if(y.browse_type==="browse_type_tv_show")return[c("DOM").create("span",{},[c("DOM").create("span",{className:"_2vo8"},i._("SHOW")),y.subtext])];var z=y.subtext.split(/\s*\u00B7s*/g).map(function(B){return c("DOM").create("span",{},B)}),A=z.pop();z=z.slice(0,c("SearchBootstrapEntityModuleUIConfig").numSnippetsToShow-1);if(A!=null)z.push(A);return z}function p(y,z){__p&&__p();y=y.filter(function(C){return C.type!==c("FacebarJSConstants").keywordType}).sort(function(C,D){return C.bootstrapCost-D.bootstrapCost});var A=y[0],B=void 0;if(A!=null)B=A.type;y=y.filter(function(C){return C.type===B}).slice(0,c("SearchBootstrapEntityModuleUIConfig").numBootstrapResultsToShow);return y.map(function(C){return q(C,z)})}function q(y,z){var A=y.tuid,B=y.path,C=y.text,D=y.photo,E=y.photos,F=y.is_verified,G=r(y);return{tuid:A,uri:new(c("URI"))(B).addQueryData("ref",c("SearchEntityModuleServerConstants").BROWSE_RESULTS_PAGE_REF),type:G,text:C,photo:D,photos:E,snippets:o(y),module_role:c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[G],is_bootstrap:true,is_verified:F,logging_unit_id:t(z,y),is_currently_live:false,is_gaming_page:false}}function r(y){var z=void 0;if(y.type==="app")z="application";else if(y.render_type==="place")z="place";else z=y.type;return z}function s(y,z){return new(c("URI"))(c("SearchEntityModuleServerConstants").TYPE_TO_SERP_PATH[r(y[0])]).setQueryData({q:z})}function t(y,z){__p&&__p();var A=j.get(y);if(A==null){A=c("immutable").Map();j.set(y,A)}var B=A.get(z.tuid);if(B==null){B=u("www_bem_res");A.set(z.tuid,B)}return B}function u(y){return y+":"+c("md5")(String(c("randomInt")(0,Number.MAX_SAFE_INTEGER)))}function v(y){return y.getPath().match(l)!=null}function w(y){var z=y.getQueryData(),A=z.ref!=null&&z.q!=null&&Object.keys(z).length===2,B=z.ref!=null&&Object.keys(z).length===1;return y.getPath().match(k)!=null&&(B||A)}function x(y){if(!v(y))return null;var z=y.getQueryData();if(z.q!=null)return z.q;var A=y.getPath(),B=A.match(m);if(B!=null)return decodeURIComponent(B[1]).replace(/\+/g," ");return null}f.exports={getTitleForResultType:n,getSnippetForRawBootstrapResult:o,transformRawBootstrapResultsToEntityModuleResults:p,getSeeMoreURIForResults:s,generateUnitIDWithPrefix:u,getQueryFromURI:x,isSERPURI:v,isTopTabURI:w}}),null);
__d("BrowseWebSLRPELoggerAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEARCH:"search",CLICK:"click",MODULE_IMPRESSION:"module_impression",TIME_SPENT:"time_spent"})}),null);
__d("PageRecommendationsCircleScoreType",[],(function a(b,c,d,e,f,g){"use strict";var h={SEARCH_RESULT_SMALL:"SEARCH_RESULT_SMALL",SEARCH_RESULT_MEDIUM:"SEARCH_RESULT_MEDIUM",SEARCH_RESULT_LARGE:"SEARCH_RESULT_LARGE",SEARCH_RESULT_XLARGE:"SEARCH_RESULT_XLARGE",PAGE_REVIEW:"PAGE_REVIEW",PAGE_METABOX:"PAGE_METABOX"};f.exports=h}),null);
__d("PageRecommendationsCircleScore.react",["cx","invariant","PageRatingConfig","PageRecommendationsCircleScoreType","React","RelayFBEnvironment","RelayModern","formatNumber","idx","joinClasses","PageRecommendationsCircleScoreQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql,n=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_SMALL,o=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_MEDIUM,p=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_LARGE,q=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_XLARGE,r=c("PageRecommendationsCircleScoreType").PAGE_REVIEW,s=c("PageRecommendationsCircleScoreType").PAGE_METABOX,t=function t(){return c("PageRecommendationsCircleScoreQuery.graphql")};j=babelHelpers.inherits(u,c("React").Component);k=j&&j.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=k.constructor).call.apply(v,[this].concat(y)),this.state={hideComponent:true},w}u.prototype.render=function(){this.props.rating!==undefined||this.props.pageID!==undefined||i(0);return c("React").createElement("div",{className:c("joinClasses")("_672g"+(this.state.hideComponent?" _3nki":"")+(this.props.scoreType===n?" _1v1b":"")+(this.props.scoreType===o?" _1v1c":"")+(this.props.scoreType===p?" _1v1e":"")+(this.props.scoreType===q?" _1v1h":"")+(this.props.scoreType===r?" _1f47":"")+(this.props.scoreType===s?" _4okn":""),this.$PageRecommendationsCircleScore1())},this.$PageRecommendationsCircleScore2())};u.prototype.$PageRecommendationsCircleScore3=function(){if(this.state.hideComponent)this.setState({hideComponent:false})};u.prototype.$PageRecommendationsCircleScore4=function(v){if(v===10)return c("formatNumber")(v,0);return c("formatNumber")(v,1)};u.prototype.$PageRecommendationsCircleScore2=function(){__p&&__p();if(this.props.rating!==undefined){this.$PageRecommendationsCircleScore3();return c("React").createElement("span",null,this.$PageRecommendationsCircleScore4(Number(this.props.rating)))}return c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:t,render:function(v){__p&&__p();var w=v.error,x=v.props;if(w)return null;else if(x){var y,z=(y=x.page)!=null?(y=y.overall_star_rating)!=null?y.value:y:y;if(z){this.$PageRecommendationsCircleScore3();return c("React").createElement("span",null," ",this.$PageRecommendationsCircleScore4(Number(z))," ")}}return null}.bind(this),variables:{pageID:this.props.pageID}})};u.prototype.$PageRecommendationsCircleScore1=function(){if(c("PageRatingConfig").is_lockup_basic)return this.$PageRecommendationsCircleScore5();return"_672i"};u.prototype.$PageRecommendationsCircleScore5=function(){return"_672i"};f.exports=u}),null);
__d("SearchEntityModuleStyle",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},entity_ids:{type:"StringSet"}})}),null);
__d("XSearchBrowseActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/browse_actions/",{id:{type:"String",required:true},result_type:{type:"String",required:true},quick_link_tab:{type:"String"}})}),null);
__d("XSearchProfilePictureController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true}})}),null);
__d("SearchEntityModuleResult.react",["ix","cx","fbt","AsyncRequest","Badge.react","Bootloader","BrowseClientEventLogger","BrowseWebSLRPELoggerClickType","CurrentUser","DOM","DOMContainer.react","HovercardLink","Image.react","Link.react","PageRatingConfig","PageRecommendationsCircleScore.react","PageRecommendationsCircleScoreType","React","SearchEntityModuleServerConstants","SearchEntityModuleStyle","SearchResultPageExperiments","XSearchBEMUnitDataLoggingController","XSearchBrowseActionsController","XSearchProfilePictureController","XUIButton.react","XUISpinner.react","asset","gkx","memoize"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=(m={},m[c("SearchEntityModuleStyle").SMALL]=48,m[c("SearchEntityModuleStyle").MEDIUM]=64,m[c("SearchEntityModuleStyle").LARGE]=72,m[c("SearchEntityModuleStyle").XLARGE]=100,m),p=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_SMALL,q=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_MEDIUM,r=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_LARGE,s=c("PageRecommendationsCircleScoreType").SEARCH_RESULT_XLARGE,t=(n={},n[c("SearchEntityModuleStyle").SMALL]=p,n[c("SearchEntityModuleStyle").MEDIUM]=q,n[c("SearchEntityModuleStyle").LARGE]=r,n[c("SearchEntityModuleStyle").XLARGE]=s,n);k=babelHelpers.inherits(u,c("React").Component);l=k&&k.prototype;function u(v){l.constructor.call(this,v);this.state={actionsLoaded:false,FoodDrinkSearchHighlight:null,showCrActions:false};this.getLoggingData=c("memoize")(function(){var w=c("SearchEntityModuleServerConstants").TYPE_TO_DISPLAY_STYLE[this.props.result.type],x=c("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type],y=c("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,z=y+JSON.stringify({display_style:w,id:this.props.result.tuid,item_type:"result",module_result_type:x,module_type:this.props.module_role,position_in_module:this.props.position_in_module,query:this.props.browse_query,raw_id:parseInt(this.props.result.tuid,10),session_id:this.props.browse_session_id,vertical:"content",is_bootstrap:this.props.result.is_bootstrap,unit_id:this.props.result.logging_unit_id,unit_id_click_type:c("BrowseWebSLRPELoggerClickType").ITEM_IN_MODULE_TAPPED,unit_id_result_id:this.props.result.tuid});return{"data-xt":z,"data-gt":JSON.stringify({type:"xtracking",xt:z}),"data-bt":JSON.stringify({id:parseInt(this.props.result.tuid,10)}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-insertion-position":this.props.position_in_module}}.bind(this))}u.prototype.componentDidMount=function(){__p&&__p();this.$SearchEntityModuleResult1=c("DOM").create("div");this.$SearchEntityModuleResult2=c("DOM").create("div");this.$SearchEntityModuleResult3=[];this.renderActions();this.logImpression();if(this.props.result.logging_unit_id!=null&&this.props.result.is_bootstrap)this.logUnitData();if(this.props.result.food_drink_highlight&&!this.state.FoodDrinkSearchHighlight)c("Bootloader").loadModules(["FoodDrinkSearchHighlight.react"],function(v){return this.setState({FoodDrinkSearchHighlight:c("React").createElement(v,this.props.result.food_drink_highlight)})}.bind(this),"SearchEntityModuleResult.react")};u.prototype.render=function(){__p&&__p();var v,w=this.props.result.uri,x=c("HovercardLink").constructEndpoint({id:this.props.result.tuid}),y=void 0;if(this.props.result.badge_type)y=c("React").createElement(c("Badge.react"),{type:this.props.result.badge_type,size:"small"});else if(this.props.result.is_verified===true)y=c("React").createElement(c("Badge.react"),{type:"verified",size:"small"});var z=this.props.result.snippets.map(function(R,S){return c("React").createElement(c("DOMContainer.react"),{key:"snippet_"+S,className:(S===0?"_2yep":"")+(S!==0?" _2yeq":"")},R)}),A=this.props.result.photos,B=void 0,C=o[this.props.module_style],D=t[this.props.module_style];if(A!=null&&!this.props.has_module_guidelines)(function(){var R=A.length,S=A.map(function(B,T){var U=C/2-T%2,V=C/2-Math.round(T/R);return c("React").createElement(c("Image.react"),{key:T,className:"_4wq6",src:B,style:{width:U+"px",height:V+"px"}})});B=c("React").createElement("div",{className:"_4wq7"+(c("PageRatingConfig").is_lockup_basic?" _29ip":""),style:{width:C+"px",height:C+"px"}},S)})();else{var E=false;if(this.props.result.type==="group")E=this.props.has_module_guidelines;var F=this.props.result.photo,G=c("SearchResultPageExperiments").useUncachedBootstrapEntityModulePictures&&this.props.result.is_bootstrap&&this.props.result.type==="user";if(G)F=c("XSearchProfilePictureController").getURIBuilder().setFBID("fbid",this.props.result.tuid).setInt("width",C).setInt("height",C).getURI().toString();B=c("React").createElement(c("Image.react"),{className:"_2yeu"+(E?" _4lxz":"")+(c("PageRatingConfig").is_lockup_basic?" _29ip":""),src:F,width:C,height:C,style:{width:C+"px",height:C+"px"}})}var H=void 0,I=this.$SearchEntityModuleResult1;if(I!=null)H=c("React").createElement("div",{className:"_2ye_"},c("React").createElement(c("DOMContainer.react"),null,I),c("React").createElement(c("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:c("React").createElement(c("XUISpinner.react"),{size:"small",background:"dark"}),label:j._("Loading...")}));var J=void 0,K=this.state.showCrActions,L=this.$SearchEntityModuleResult2;if(K&&L!=null)J=c("React").createElement("div",{className:"_5-zc"},c("React").createElement(c("DOMContainer.react"),null,L),c("React").createElement(c("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:c("React").createElement(c("XUISpinner.react"),{size:"small",background:"dark"}),label:j._("Loading...")}));var M=this.props.module_style===c("SearchEntityModuleStyle").XLARGE||this.props.module_style===c("SearchEntityModuleStyle").LARGE,N=this.props.result.is_currently_live&&this.props.result.is_gaming_page&&c("gkx")("AT6SmGsmVfyNU-cjbyx2vy1HknWL_e3TY6abNVn8ybQEsIlspUc8iWx2vxlcZ9kvYZLiRIyPccRKA849wmQIQzcPrEhIg8qQJcHAhk9vza2E-g")?c("React").createElement(c("Image.react"),{className:"_2rru",src:h("404364")}):null,O=null;if(this.props.has_module_guidelines)O=c("React").createElement("div",{style:{WebkitLineClamp:2},className:"_52eh _5bcu"},this.props.result.text,y,N);else O=c("React").createElement("div",null,this.props.result.text,y,N);var P=this.props.result.missing_words!=null?c("React").createElement("div",{className:"_40e4"},c("React").createElement(c("DOMContainer.react"),null,this.props.result.missing_words)):null,Q=null;if(c("PageRatingConfig").is_lockup_basic)Q=c("React").createElement("div",{className:"_2yet"},c("React").createElement(c("Link.react"),{href:w,"data-hovercard":x},B),c("React").createElement(c("PageRecommendationsCircleScore.react"),{className:"_29iq",pageID:parseInt(this.props.result.tuid,10),scoreType:D}));else Q=c("React").createElement(c("Link.react"),{className:"_2yet",href:w,"data-hovercard":x},B);return c("React").createElement("div",babelHelpers["extends"]({className:"_2yer _401d"+(M?" _2xje":"")+" _2nuh"},this.getLoggingData()),P,Q,c("React").createElement("div",{className:"_2yev"},c("React").createElement("div",{className:"_2xjf"},c("React").createElement(c("Link.react"),{href:w,className:(this.props.has_module_guidelines?"_1ii5":"")+" _2yez","data-hovercard":x},O),M?H:null),c("React").createElement("div",{className:"_2ye-"},z.shift(),c("React").createElement("div",{className:"_2xjg"},z)),J,this.state.FoodDrinkSearchHighlight),M?null:H)};u.prototype.renderActions=function(){__p&&__p();if(!c("CurrentUser").isLoggedIn()){this.setState({actionsLoaded:true});return}var v=c("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type],w=c("XSearchBrowseActionsController").getURIBuilder().setString("id",this.props.result.tuid).setString("quick_link_tab",this.props.result.quick_link_tab).setString("result_type",v),x=new(c("AsyncRequest"))(w.getURI()).setMethod("POST").setHandler(function(z){__p&&__p();var A=this.$SearchEntityModuleResult1;if(A==null){this.setState({actionsLoaded:true});return}var B=z.getPayload(),C=B.actions!=null?B.actions:"";c("DOM").setContent(A,C);var D=false;if(B.cr_actions!=null){c("DOM").setContent(this.$SearchEntityModuleResult2,B.cr_actions);D=true}this.setState({actionsLoaded:true,showCrActions:D})}.bind(this)).setAllowCrossPageTransition(true),y=this.$SearchEntityModuleResult3;if(y!=null)y.push(x);x.send()};u.prototype.logImpression=function(){var v=this.getLoggingData();c("BrowseClientEventLogger").logImpression({xt:v["data-xt"]})};u.prototype.logUnitData=function(){var v=this.props.result,w=c("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",v.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("query_function",this.props.browse_query).setString("tapped_results_entity_id",v.tuid).setString("results_module_role",v.module_role);new(c("AsyncRequest"))(w.getURI()).setAllowCrossPageTransition(true).send()};u.prototype.componentWillUnmount=function(){var v=this.$SearchEntityModuleResult3;if(v!=null)v.forEach(function(w){w.abandon()})};f.exports=u}),null);
__d("SearchEntityModuleDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SearchEntityModuleUIConstants",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={Actions:{ADD_MODULE:"ADD_MODULE",ADD_RESULTS:"ADD_RESULTS",REMOVE_ALL_RESULTS_AND_MODULES:"REMOVE_ALL_RESULTS_AND_MODULES"},MODULE_ROLE_TO_TITLE:{user:h._("People"),page:h._("Pages"),group:h._("Groups"),application:h._("Apps"),place:h._("Places"),event:h._("Events")}};f.exports=i}),null);
__d("SearchEntityModuleActions",["SearchEntityModuleDispatcher","SearchEntityModuleUIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("SearchEntityModuleUIConstants").Actions,i={addModule:function j(k,f){var l={type:h.ADD_MODULE,value:{sessionID:k,module:f}};c("SearchEntityModuleDispatcher").dispatch(l)},addResultsToModule:function j(k,f,l){var m={type:h.ADD_RESULTS,value:{sessionID:k,module:f,results:l}};c("SearchEntityModuleDispatcher").dispatch(m)},clearAllResultsAndModules:function j(k){var l={type:h.REMOVE_ALL_RESULTS_AND_MODULES,value:{sessionID:k}};c("SearchEntityModuleDispatcher").dispatch(l)}};f.exports=i}),null);
__d("SearchEntityModuleContainerStore",["FluxReduceStore","immutable","SearchEntityModuleDispatcher","SearchEntityModuleUIConstants","SearchResultPageExperiments"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SearchEntityModuleUIConstants").Actions;h=babelHelpers.inherits(k,c("FluxReduceStore"));i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.__moduleID=f.id,m}k.prototype.getInitialState=function(){return c("immutable").Map()};k.prototype.reduce=function(l,m){__p&&__p();var n=void 0,o=m.value.sessionID;switch(m.type){case j.ADD_MODULE:n=l.get(o);if(n==null)n=c("immutable").List([]);n=n.push(babelHelpers["extends"]({},m.value.module,{results:c("immutable").List([])}));l=l.set(o,n);break;case j.ADD_RESULTS:n=l.get(o);if(n==null)n=c("immutable").List([]);n=this.addResultsWithoutDupes(o,n,m.value.module,m.value.results);l=l.set(o,n);break;case j.REMOVE_ALL_RESULTS_AND_MODULES:n=l.get(o);if(n!=null){n=n.clear();l=l.set(o,n)}break;default:break}return l};k.prototype.addResultsWithoutDupes=function(l,m,n,o){__p&&__p();f=m.find(function(f){return f.role===n.role&&f.is_bootstrap_entity_module===n.is_bootstrap_entity_module&&f.id===n.id});if(f==null)return m;var p=f.results,q=m.first();if(q!=null&&q.is_bootstrap_entity_module)p=q.results.concat(p);var r=p.map(function(x){return x.tuid}),s=[];for(var t=o,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;if(r.indexOf(x.tuid)===-1){r.push(x.tuid);s.push(x)}}f.results=f.results.concat(s);return m};k.prototype.getResults=function(l,f){__p&&__p();var m=this.getState().get(l),n=null;for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.role===f.role&&s.is_bootstrap_entity_module===f.is_bootstrap_entity_module&&s.id===f.id)n=s}if(n==null)return c("immutable").List([]);var t=m.get(0),u=m.get(1),v=t.results.size>0?t.results.first().type:null,w=n.results.size>0?n.results.first().type:null;if(c("SearchResultPageExperiments").removeNonAdjacentBEMModuleRole&&t.is_bootstrap_entity_module&&v!==null&&v===w&&n!==t&&n!==u)return c("immutable").List([]);if(t!=null&&t.is_bootstrap_entity_module&&t.results.size>0&&u!=null&&u.results.size>0){var x=u.results.first().type,y=v===x;if(y)if(n===t)return t.results.concat(u.results);else if(n===u)return c("immutable").List([])}return n.results};k.prototype.getModules=function(l){var m=this.getState(),n=this.getState().get(l);if(n==null){n=c("immutable").List([]);m.set(l,n)}return n};f.exports=new k(c("SearchEntityModuleDispatcher"))}),null);
__d("SearchEntityModuleUtils",["Base64","SearchEntityModuleActions","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher","SearchEntityModuleServerConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={addModules:function h(i,j){__p&&__p();var k;c("SearchEntityModuleDispatcher").explicitlyRegisterStores([c("SearchEntityModuleContainerStore")]);var l=c("SearchEntityModuleContainerStore").getModules(j),m=function m(r){var s=l.find(function(t){return t.role===r.role&&t.id===r.id&&t.is_bootstrap_entity_module===r.is_bootstrap_entity_module});if(s==null)c("SearchEntityModuleActions").addModule(j,r)};for(var n=i,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;m(r)}},addRefParamToSeeMoreURI:function h(i,j,k){var l={ref:k==="header"?c("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_HEADER_SEE_ALL:c("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_SEE_MORE};if(j!=null)l.sid=j;return i.setQueryData(babelHelpers["extends"]({},i.getQueryData(),{ref:c("Base64").encode(JSON.stringify(l)).replace(/\=+$/,"")}))}}}),null);
__d("XSearchBEMClientDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_client_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},event_name:{type:"String",required:true},bootstrap_item_count:{type:"Int",required:true}})}),null);
__d("SearchEntityModule.react",["cx","fbt","Arbiter","AsyncRequest","BrowseWebSLRPELoggerAction","BrowseWebSLRPELoggerClickType","Link.react","React","SearchEntityModuleResult.react","SearchEntityModuleServerConstants","SearchEntityModuleUtils","SubscriptionsHandler","URI","ViewableImpressionTracking","XSearchBEMClientDataLoggingController","XSearchBEMUnitDataLoggingController","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","memoize","memoizeWithArgs"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.state={isExpanded:this.props.num_results_to_show==null,shouldRenderFooter:this.props.should_render_footer,results:this.props.results};this.onSeeMoreLinkClick=function(event){event.preventDefault();this.setState({isExpanded:true})}.bind(this);this.getModuleLoggingData=c("memoize")(function(){var n=c("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,o=n+JSON.stringify({query:this.props.browse_query,session_id:this.props.browse_session_id,module_type:this.props.module_role,unit_id:this.props.logging_unit_id,unit_id_click_type:c("BrowseWebSLRPELoggerClickType").VIEW_PORT_VIEWS_ON_SEARCH_RESULTS});return{"data-xt":o,"data-xt-vimp":JSON.stringify(this.props.client_view_config)}}.bind(this));this.getSeeMoreLoggingData=c("memoizeWithArgs")(function(n){var o=c("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,p=c("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_HEADER_ITEM_TYPE,q=c("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_FOOTER_ITEM_TYPE,r=o+JSON.stringify({item_type:n==="header"?p:q,module_type:this.props.module_role,query:this.props.browse_query,session_id:this.props.browse_session_id,source_module_role:this.props.module_role,vertical:"content",unit_id:this.props.logging_unit_id,unit_id_click_type:c("BrowseWebSLRPELoggerClickType").SEE_MORE_TAPPED});return{"data-xt":r,"data-gt":JSON.stringify({type:"xtracking",xt:r}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-bt":JSON.stringify({ct:"see_more",source_module_role:this.props.module_role})}}.bind(this),function(n){return n});this.$SearchEntityModule1=new(c("SubscriptionsHandler"))()}l.prototype.componentDidMount=function(){if(this.props.logging_unit_id!=null&&this.props.is_bootstrap_entity_module){this.logUnitData();c("ViewableImpressionTracking").init()}if(this.props.is_bootstrap_entity_module)this.$SearchEntityModule1.addSubscriptions(c("Arbiter").subscribeOnce("Search/addResultsToBEM",function(m,n){this.setState({results:this.state.results.concat(n.results),shouldRenderFooter:true})}.bind(this)),c("Arbiter").subscribeOnce("Search/firstModuleIsNotBEMMergable",function(){this.setState({shouldRenderFooter:true})}.bind(this)))};l.prototype.UNSAFE_componentWillReceiveProps=function(m){this.setState({results:m.results})};l.prototype.render=function(){__p&&__p();var m=this.props.num_results_to_show,n=!this.state.isExpanded&&m!=null?this.state.results.slice(0,m):this.state.results;if(n.length===0)return c("React").createElement("div",null);n=n.map(function(r,s){return c("React").createElement(c("SearchEntityModuleResult.react"),{key:r.tuid,result:r,position_in_module:s,browse_query:this.props.browse_query,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,module_role:this.props.module_role,plain_text_query:this.props.plain_text_query,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id})}.bind(this));var o=void 0,p=this.props.see_more_uri!=null?new(c("URI"))(this.props.see_more_uri):null;if(p!=null)o=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.getSeeMoreLoggingData("header"),{href:c("SearchEntityModuleUtils").addRefParamToSeeMoreURI(p,this.props.typeahead_session_id,"header")}),i._("See all"));var q=this.props.title instanceof Object&&this.props.title.__html!=null?c("React").createElement("span",{dangerouslySetInnerHTML:this.props.title}):this.props.title;return c("React").createElement("div",babelHelpers["extends"]({},this.getModuleLoggingData(),{className:"_5w7z"+(this.props.result_type==="user"&&this.props.module_role==="SHORTCUT_PEOPLE"?" _d7o":"")+(this.props.result_type==="user"?" _5w81":"")+(this.props.result_type==="page"?" _5w82":"")+(this.props.result_type==="group"?" _5w84":"")+(this.props.result_type==="application"?" _3h4u":"")+(this.props.result_type==="place"?" _5w9b":"")+(this.props.result_type==="event"?" _5w9c":"")}),c("React").createElement(c("XUICard.react"),{className:"_5w9d"},c("React").createElement(c("XUICardHeader.react"),{link:o,type:"primary"},c("React").createElement(c("XUICardHeaderTitle.react"),{role:"heading","aria-level":"3"},c("React").createElement("div",{className:"_5w9e"}),q)),c("React").createElement(c("XUICardSection.react"),null,n,this.maybeRenderFooter())))};l.prototype.maybeRenderFooter=function(){__p&&__p();if(!this.state.shouldRenderFooter)return[];var m=[],n=c("React").createElement(c("Link.react"),babelHelpers["extends"]({key:"see_more_footer"},this.getSeeMoreLoggingData("footer"),{href:"",onClick:this.onSeeMoreLinkClick,className:"_5w9f"+(this.state.isExpanded||this.props.num_results_to_show==null||this.state.results.length<=this.props.num_results_to_show?" hidden_elem":"")}),i._("See all"));m.push(n);var o=this.props.see_more_uri!=null?new(c("URI"))(this.props.see_more_uri):null;if(o!=null){var p=c("React").createElement(c("Link.react"),babelHelpers["extends"]({key:"see_all_footer"},this.getSeeMoreLoggingData("footer"),{href:c("SearchEntityModuleUtils").addRefParamToSeeMoreURI(o,this.props.typeahead_session_id,"footer"),className:"_5w9f"+(!this.state.isExpanded&&this.props.num_results_to_show!=null&&this.state.results.length>this.props.num_results_to_show?" hidden_elem":"")}),i._("See all"));m.push(p)}return m};l.prototype.logUnitData=function(){var m=c("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",this.props.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("query_function",this.props.browse_query).setString("results_module_role",this.props.module_role).setStringSet("entity_ids",this.state.results.map(function(o){return o.tuid}));new(c("AsyncRequest"))(m.getURI()).setAllowCrossPageTransition(true).send();var n=c("XSearchBEMClientDataLoggingController").getURIBuilder().setString("logging_unit_id",this.props.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("event_name",c("BrowseWebSLRPELoggerAction").MODULE_IMPRESSION).setInt("bootstrap_item_count",this.state.results.filter(function(o){return o.is_bootstrap}).length);new(c("AsyncRequest"))(n.getURI()).setAllowCrossPageTransition(true).send()};l.prototype.componentWillUnmount=function(){this.$SearchEntityModule1.release()};f.exports=l}),null);
__d("SearchEntityModuleContainer.react",["FluxContainer","immutable","React","SearchEntityModule.react","SearchEntityModuleActions","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("SearchEntityModuleContainerStore")]};j.calculateState=function(k,l){return{modules:c("SearchEntityModuleContainerStore").getModules(l.browse_session_id)}};j.prototype.UNSAFE_componentWillMount=function(){c("SearchEntityModuleDispatcher").explicitlyRegisterStores([c("SearchEntityModuleContainerStore")])};j.prototype.componentWillUnmount=function(){c("SearchEntityModuleActions").clearAllResultsAndModules(this.props.browse_session_id)};j.prototype.render=function(){__p&&__p();var k=this.state.modules,f=k.find(function(f){return f.role===this.props.module_role&&f.is_bootstrap_entity_module===this.props.is_bootstrap_entity_module&&f.id===this.props.id}.bind(this));if(f!=null&&f.component==null){f.component=this;c("SearchEntityModuleActions").addResultsToModule(this.props.browse_session_id,{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module},c("immutable").List(this.props.results));this.forceUpdate();return c("React").createElement("div",null)}if(f!=null&&f.component===this){var l=c("SearchEntityModuleContainerStore").getResults(this.props.browse_session_id,{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module});return c("React").createElement(c("SearchEntityModule.react"),{plain_text_query:this.props.plain_text_query,browse_query:this.props.browse_query,module_role:this.props.module_role,result_type:this.props.result_type,results:l.toArray(),num_results_to_show:this.props.num_results_to_show,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,title:this.props.title,see_more_uri:this.props.see_more_uri,logging_unit_id:this.props.logging_unit_id,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module,has_module_guidelines:this.props.has_module_guidelines,should_render_footer:true,viewer_id:this.props.viewer_id,typeahead_session_id:this.props.typeahead_session_id})}return c("React").createElement("div",null)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("SearchBootstrapEntityModule",["Arbiter","ReactRenderer","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUtil","SearchEntityModuleContainer.react","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher","SearchEntityModuleServerConstants","SearchEntityModuleUtils","tidyEvent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="pagelet_loader_browse:independent:modules:pagelet",i="pagelet_loader_initial_browse_result",j=void 0,k=false,l={init:function m(n){j=n;c("tidyEvent")(c("Arbiter").subscribe("pagelet_event",function(event,p){if(event==="display"&&(p.id===h||p.id===i))k=true}));var o=j.squashed_ent_ids?j.squashed_ent_ids:[];c("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:j.plain_text_query,callback:function p(q){l.onBootstrapResponse(q)},whitelistedEntIds:o},c("Arbiter").BEHAVIOR_PERSISTENT)},onBootstrapResponse:function m(n){__p&&__p();var o=c("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(n,j.browse_session_id);if(k||o.length===0){if(k)c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem",o.length===0?"backend_faster_no_matches":"backend_faster_with_matches",n,j.preloaded_entity_ids);else c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","no_matches",n,j.preloaded_entity_ids);return}c("SearchEntityModuleDispatcher").explicitlyRegisterStores([c("SearchEntityModuleContainerStore")]);var p=c("SearchEntityModuleContainerStore").getModules(j.browse_session_id);if(p.size>0){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","backend_faster_with_matches",n,j.preloaded_entity_ids);return}var q=c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[o[0].type];c("SearchEntityModuleUtils").addModules([{id:-1,role:q,is_bootstrap_entity_module:true}],j.browse_session_id);c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","shown",n,j.preloaded_entity_ids);c("ReactRenderer").constructAndRenderComponent(c("SearchEntityModuleContainer.react"),{plain_text_query:j.plain_text_query,browse_query:j.browse_query,results:o,result_type:o[0].type,module_role:q,is_bootstrap_entity_module:true,num_results_to_show:j.num_results_to_show,client_view_config:j.client_view_config,browse_session_id:j.browse_session_id,module_style:j.module_style,title:c("SearchBootstrapEntityModuleUtil").getTitleForResultType(o[0].type),see_more_uri:c("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(o,j.plain_text_query),logging_unit_id:j.logging_unit_id,has_module_guidelines:j.has_module_guidelines,viewer_id:j.viewer_id,id:-1,typeahead_session_id:j.typeahead_session_id},j.root)}};f.exports=l}),null);
__d("SearchCommentHighlighter",["csx","Arbiter","CSS","NodeHighlighter","Parent","UFIUIEvents"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="data-highlight-tokens",j=babelHelpers["extends"]({},c("NodeHighlighter"),{_enableCommentHighlighting:function k(){if(this._subscription)return;this._subscription=c("Arbiter").subscribe(c("UFIUIEvents").Changed,function(l,m){var n=m.form;return this._highlightComments(n)}.bind(this));c("Arbiter").subscribeOnce("pre_page_transition",function(){return this._disableCommentHighlighting()}.bind(this))},_disableCommentHighlighting:function k(){this._subscription.unsubscribe();this._subscription=null},_highlightComments:function k(l){var m=this._getHighlightTokens(l);if(m)c("NodeHighlighter").highlight.call(this,l,m)},_getHighlightTokens:function k(l){var m=c("Parent").byAttribute(l,i);return m?JSON.parse(m.getAttribute(i)):null},isDiscardNode:function k(l){return c("CSS").hasClass(l,"highlightNode")},getHighlightCandidates:function k(){return[".UFICommentContent"]},highlight:function k(l,m){if(!l.setAttribute)return;l.setAttribute(i,JSON.stringify(m));this._enableCommentHighlighting()}});f.exports=j}),null);
__d("SearchCompactStoriesHighlighter",["csx","NodeHighlighter","mayHaveConnectedCharacters"],(function a(b,c,d,e,f,g,h){"use strict";var i=babelHelpers["extends"]({},c("NodeHighlighter"),{getHighlightCandidates:function j(){return["._5-jo","._lic","._gz2"]},highlight:function j(k,l){if(l.some(c("mayHaveConnectedCharacters")))return;c("NodeHighlighter").highlight.call(this,k,l)}});f.exports=i}),null);
__d("DenseStoriesEllipsis",["csx","CSS","DOM","DOMQuery","LitestandEllipsis","getElementText"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={truncate:function j(k){__p&&__p();var l=k.messageNode,m=c("DOM").scry(l,"._5-jo")[0]||l,n=m.offsetHeight||0,o=c("DOM").scry(k.messageNode,"._3087")[0];if(n<=k.truncateHeight&&o!=null){c("CSS").hide(o);return}c("LitestandEllipsis").add(m,k.truncateHeight,l);var p=c("DOMQuery").scry(k.messageNode,".highlightNode");for(var q=p,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=c("getElementText")(u);if(v==="")c("DOM").remove(u)}}};f.exports=i}),null);
__d("DenseStoriesPostProcessing",["DenseStoriesEllipsis","SearchCompactStoriesHighlighter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={run:function i(j){__p&&__p();if(j.highlightingConfig!=null)c("SearchCompactStoriesHighlighter").highlight(j.highlightingConfig.rootElement,j.highlightingConfig.matchWords);if(j.truncationConfigs!=null)for(var k=j.truncationConfigs,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}var o=n;c("DenseStoriesEllipsis").truncate(o)}}};f.exports=h}),null);
__d("FbFeedHighlighter",["csx","cx","CSS","NodeHighlighter","SearchCommentHighlighter"],(function a(b,c,d,e,f,g,h,i){var j="_58cn",k=babelHelpers["extends"]({},c("NodeHighlighter"),{getHighlightCandidates:function l(){return["._5pbw","._5pbx","._6m6","._6m7","._59tj","._5b-_","._5b_0","._4_j6",".commentBody","._6lc","._6s_"]},isStopNode:function l(m){return c("CSS").hasClass(m,j)},isDiscardNode:function l(m){return c("CSS").hasClass(m,"text_exposed_link")},highlight:function l(m,n){c("NodeHighlighter").highlight.call(this,m,n);c("SearchCommentHighlighter").highlight(m,n)}});f.exports=k}),null);