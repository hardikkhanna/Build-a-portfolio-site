if (self.CavalryLogger) { CavalryLogger.start_js(["rZKb7"]); }

__d("RightsManagerRulesRequestSource",[],(function a(b,c,d,e,f,g){f.exports={MATCH_SETTINGS_DIALOG:"MATCH_SETTINGS_DIALOG",RULES_SELECTOR:"RULES_SELECTOR",RULES_TAB:"RULES_TAB"}}),null);
__d("VideoContainerTypeInVideoLibrary",[],(function a(b,c,d,e,f,g){f.exports={LEGACY:"LEGACY",CONTAINED_POST_ATTACHMENT:"CONTAINED_POST_ATTACHMENT",SAY_THANKS_DEPRECATED:"SAY_THANKS_DEPRECATED",LOOK_NOW_DEPRECATED:"LOOK_NOW_DEPRECATED",BROADCAST:"BROADCAST",ALBUM_MULTIMEDIA_POST:"ALBUM_MULTIMEDIA_POST",UNLISTED:"UNLISTED",NO_STORY:"NO_STORY",GOODWILL_ANNIVERSARY_DEPRECATED:"GOODWILL_ANNIVERSARY_DEPRECATED",PROFILE_VIDEO:"PROFILE_VIDEO",DIRECT_INBOX:"DIRECT_INBOX",DIRECT_INBOX_REACTION:"DIRECT_INBOX_REACTION",STORYLINE:"STORYLINE",GROUP_POST:"GROUP_POST",ATLAS_VIDEO:"ATLAS_VIDEO",LIVE_PHOTO:"LIVE_PHOTO",TEMP_MULTIMEDIA_POST:"TEMP_MULTIMEDIA_POST",GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED:"GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED",GOODWILL_VIDEO_SHARE:"GOODWILL_VIDEO_SHARE",GOODWILL_VIDEO_PROMOTION:"GOODWILL_VIDEO_PROMOTION",MOMENTS_VIDEO:"MOMENTS_VIDEO",APP_REVIEW_SCREENCAST:"APP_REVIEW_SCREENCAST",VIDEO_COMMENT:"VIDEO_COMMENT",OFFERS_VIDEO:"OFFERS_VIDEO",JOB_APPLICATION_VIDEO:"JOB_APPLICATION_VIDEO",STORYLINE_WITH_EXTERNAL_MUSIC:"STORYLINE_WITH_EXTERNAL_MUSIC",JOB_OPENING_VIDEO:"JOB_OPENING_VIDEO",INSTANT_ARTICLE:"INSTANT_ARTICLE",PRODUCT_VIDEO:"PRODUCT_VIDEO",DIRECTED_POST_ATTACHMENT:"DIRECTED_POST_ATTACHMENT",PROFILE_INTRO_CARD:"PROFILE_INTRO_CARD",ISSUE_MODULE:"ISSUE_MODULE",GOODWILL_VIDEO_TOKEN_REQUIRED:"GOODWILL_VIDEO_TOKEN_REQUIRED",INSTANT_APPLICATION_PREVIEW:"INSTANT_APPLICATION_PREVIEW",REPLACE_VIDEO:"REPLACE_VIDEO",FACECAST_DVR:"FACECAST_DVR",PIXELCLOUD:"PIXELCLOUD",SLIDESHOW_SHAKR:"SLIDESHOW_SHAKR",INSPIRATION_VIDEO:"INSPIRATION_VIDEO",TAROT_DIGEST:"TAROT_DIGEST",SLIDESHOW_ANIMOTO:"SLIDESHOW_ANIMOTO",AUDIO_BROADCAST:"AUDIO_BROADCAST",LEARN:"LEARN",CULTURAL_MOMENT_DEPRECATED:"CULTURAL_MOMENT_DEPRECATED",PAGES_COVER_VIDEO:"PAGES_COVER_VIDEO",GOODWILL_VIDEO_CONTAINED_SHARE:"GOODWILL_VIDEO_CONTAINED_SHARE",DCO_AD_ASSET_FEED:"DCO_AD_ASSET_FEED",CONTAINED_POST_BROADCAST:"CONTAINED_POST_BROADCAST",QUICK_PROMOTION:"QUICK_PROMOTION",DYNAMIC_ITEM_DISPLAY_BUNDLE:"DYNAMIC_ITEM_DISPLAY_BUNDLE",AD_DERIVATIVE:"AD_DERIVATIVE",LIVE_CREATIVE_KIT_VIDEO:"LIVE_CREATIVE_KIT_VIDEO",ALOHA_SUPERFRAME:"ALOHA_SUPERFRAME",INSTAGRAM_VIDEO_COPY:"INSTAGRAM_VIDEO_COPY",ALOHA_CALL_VIDEO:"ALOHA_CALL_VIDEO",PROFILE_COVER_VIDEO:"PROFILE_COVER_VIDEO",PAGE_REVIEW_SCREENCAST:"PAGE_REVIEW_SCREENCAST",GAME_CLIP:"GAME_CLIP",WOODHENGE:"WOODHENGE"}}),null);
__d("VideoCopyrightDisputeStatus",[],(function a(b,c,d,e,f,g){f.exports={IN_PROGRESS:"IN_PROGRESS",APPEALED:"APPEALED",RESOLVED_CLAIM_RETRACTED:"RESOLVED_CLAIM_RETRACTED",RESOLVED_CLAIM_UPHELD:"RESOLVED_CLAIM_UPHELD",RESOLVED_TAKEDOWN_REQUESTED:"RESOLVED_TAKEDOWN_REQUESTED",EXPIRED_RELEASED:"EXPIRED_RELEASED",EXPIRED_UPHELD:"EXPIRED_UPHELD",APPEAL_REJECTED:"APPEAL_REJECTED"}}),null);
__d("VideoCopyrightMatchValidStates",[],(function a(b,c,d,e,f,g){f.exports={UNVERIFIED:"UNVERIFIED",VERIFIED_ALLOWED:"VERIFIED_ALLOWED",MANUAL_REVIEW:"MANUAL_REVIEW",REMOVED_FROM_DASHBOARD:"REMOVED_FROM_DASHBOARD",RESTORED_BY_PUBLISHER:"RESTORED_BY_PUBLISHER",VERIFIED_STAGED:"VERIFIED_STAGED",BLOCKED:"BLOCKED",VERIFIED_CLAIMED:"VERIFIED_CLAIMED",DISPUTED:"DISPUTED",DISPUTED_WITHOUT_UNBLOCKING:"DISPUTED_WITHOUT_UNBLOCKING",APPEALED_WITHOUT_UNBLOCKING:"APPEALED_WITHOUT_UNBLOCKING",DISPUTE_BLOCK:"DISPUTE_BLOCK",CLAIM_RELEASED:"CLAIM_RELEASED",EXPIRED:"EXPIRED",VERIFIED_REPORTED:"VERIFIED_REPORTED",RETRACTED:"RETRACTED",OPS_APPROVE_TAKE_DOWN:"OPS_APPROVE_TAKE_DOWN",APPEALED:"APPEALED",CLAIM_UPHELD:"CLAIM_UPHELD"}}),null);
__d("VideoCopyrightRuleConditionType",[],(function a(b,c,d,e,f,g){f.exports={UNDEFINED:"UNDEFINED",GEO:"GEO",MONITORING_TYPE:"MONITORING_TYPE",OVERLAP_DURATION:"OVERLAP_DURATION",VIDEO_EXPERIENCE:"VIDEO_EXPERIENCE",PUBLISHER_TYPE:"PUBLISHER_TYPE",MATCH_OVERLAP_PERCENTAGE:"MATCH_OVERLAP_PERCENTAGE",REFERENCE_OVERLAP_PERCENTAGE:"REFERENCE_OVERLAP_PERCENTAGE",PRIVACY:"PRIVACY",VALIDITY_PERIOD:"VALIDITY_PERIOD"}}),null);
__d("VideoCopyrightRuleOperatorType",[],(function a(b,c,d,e,f,g){f.exports={UNDEFINED:"UNDEFINED",IS:"IS",IS_NOT:"IS_NOT",IN_SET:"IN_SET",NOT_IN_SET:"NOT_IN_SET",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUAL:"LESS_THAN_OR_EQUAL",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUAL:"GREATER_THAN_OR_EQUAL"}}),null);
__d("AdsGenericFilterFieldConfigUtil",["invariant","AdsGenericFilterField"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(q,r){var s=j(q,r);s||h(0);return s}function j(q,r){__p&&__p();for(var s=Object.keys(q||{}),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=q?q[w]:{};if(x.field.toString()===r.toString())return x}return null}function k(q,r){__p&&__p();var s=void 0;for(var t=Object.keys(q),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;s=q[x];if(s.field.name===r||(s.alternativeFieldNames||[]).some(function(y){return y===r}))return s}h(0)}function l(q,r){__p&&__p();var s=void 0;for(var t=Object.keys(q),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w,y=q[x];if(y.field.name===r){s=y.field.type;break}}s||h(0);return s}function m(q,r){if(!r)return false;return r.values.some(function(s){return s.field.key===q.key})}function n(q,r){__p&&__p();for(var s=Object.keys(q),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=q[w];if(x.field.name===r)return!!x.isLevelNeeded}h(0)}function o(q,r,s){var t=j(q,r);if(!t||!t.isLevelNeeded)return r;return new(c("AdsGenericFilterField"))(r.name,r.type,s)}var p={convertFilterFieldToLevel:o,getConfigByDirtyFieldName:k,getConfigByField:i,getConfigByFieldOrNull:j,getTypeByFieldName:l,isFieldInFilterSet:m,isLevelNeeded:n};f.exports=p}),null);
__d("AdsGenericFilterOperatorConfigUtil",["AdsGenericFilterOperatorConfig","ex"],(function a(b,c,d,e,f,g){function h(j){for(var k in c("AdsGenericFilterOperatorConfig")){var l=c("AdsGenericFilterOperatorConfig")[k];if(j===l.operator)return l}throw new Error(c("ex")('Invalid operator "%s"',j))}var i={getConfigByOperator:h};f.exports=i}),null);
__d("AdsGenericFilterValueConfigUtil",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){if(k)for(var l in j){var m=j[l];if(m.value===k)return m}return null}var i={getConfigByValue:h};f.exports=i}),null);
__d("AdsGenericFilterValueTextUtil",["invariant","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterValueConfigUtil","SearchableEntry","intlList"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(n){return n};function j(n,o,p){var q=n.value,r="",s=o.valueRenderer||i;if(typeof q==="string"||typeof q==="number")r=k(p,q,s);else if(o.valueSetRenderer)r=o.valueSetRenderer(o.valueRenderer,o.values,q);else if(Array.isArray(q))r=l(p,q,s,n,!!o.applyOnly);else h(0);return r}function k(n,o,p){var q=c("AdsGenericFilterValueConfigUtil").getConfigByValue(n,o);return p(q?q.value:String(o))}function l(n,o,p,q,r){__p&&__p();var s="";if(r)s=String(o.length);else{if(o.length===2&&q.field.type===c("AdsGenericFilterFieldType").DATE_RANGE)o=[o[0],""+(Number(o[1])-1)];o=o.map(function(t){var u=t;if(t instanceof c("SearchableEntry"))u=t.getTitle();return k(n,u,p)});switch(q.operator){case c("AdsGenericFilterOperator").IN_RANGE:case c("AdsGenericFilterOperator").NOT_IN_RANGE:s=o.join(" - ");break;case c("AdsGenericFilterOperator").ALL:s=c("intlList")(o,c("intlList").CONJUNCTIONS.AND);break;case c("AdsGenericFilterOperator").NONE:s=c("intlList")(o,c("intlList").CONJUNCTIONS.NONE);break;default:s=c("intlList")(o,c("intlList").CONJUNCTIONS.OR)}}return s}var m={getValueText:j};f.exports=m}),null);
__d("AdsCMSaveFilterSetDialog.react",["cx","fbt","BUIAdoptionDialogButton.react","LayerFadeOnHide","LayerHideOnEscape","LayerHideOnTransition","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","XUITextInput.react","trim"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={name:""},this.$AdsCMSaveFilterSetDialog2=function(event){this.setState({name:c("trim")(event.target.value," ")})}.bind(this),this.$AdsCMSaveFilterSetDialog3=function(){if(this.state.name)this.$AdsCMSaveFilterSetDialog1()}.bind(this),this.$AdsCMSaveFilterSetDialog1=function(){this.props.onSave(this.state.name);this.props.onHide()}.bind(this),o}m.prototype.componentDidMount=function(){this.refs.filterSetName.focusInput()};m.prototype.render=function(){return c("React").createElement(c("SUIModal.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnTransition:c("LayerHideOnTransition")},footer:c("React").createElement(c("SUIModalFooter.react"),{primaryButton:c("React").createElement(c("BUIAdoptionDialogButton.react"),{disabled:!this.state.name,label:i._("Save"),use:"confirm",onClick:this.$AdsCMSaveFilterSetDialog1}),secondaryButton:c("React").createElement(c("BUIAdoptionDialogButton.react"),{label:i._("Cancel"),use:"default",onClick:this.props.onHide}),theme:c("SUIBusinessTheme")}),header:c("React").createElement(c("SUIModalHeader.react"),{theme:c("SUIBusinessTheme"),title:i._("Save Filter")}),isShown:true,label:i._("Save Filters"),theme:c("SUIBusinessTheme"),width:450,onHide:this.props.onHide},c("React").createElement("div",{className:"_24ec"},i._("You can save this filter to use again later.")),c("React").createElement(c("XUITextInput.react"),{className:"_5mjr",maxLength:128,placeholder:i._("Enter a name for your saved filter..."),ref:"filterSetName",onChange:this.$AdsCMSaveFilterSetDialog2,onEnter:this.$AdsCMSaveFilterSetDialog3,onEsc:this.props.onHide}))};m.propTypes={onHide:l.func.isRequired,onSave:l.func.isRequired};f.exports=m}),null);
__d("AdsSelectorWithTooltips.react",["DOM","React","ReactDOM","SingleSelectorAlignOnScroll","SingleSelectorHideOnScrollOut","Tooltip","XUIError.react","XUISingleSelector.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("React").PropTypes,m=c("XUISingleSelector.react").Option;h=babelHelpers.inherits(n,m);i=h&&h.prototype;function n(p){i.constructor.call(this,p);this.$OptionWithTooltip1=p.tooltip||null}n.prototype.setupTooltip=function(){if(typeof this.$OptionWithTooltip1=="string")this.tooltip=this.$OptionWithTooltip1;else if(typeof this.$OptionWithTooltip1=="object"){this.tooltip=c("DOM").create("div");c("ReactDOM").render(this.$OptionWithTooltip1,this.tooltip)}};n.prototype.render=function(){var p=i.render.call(this);if(this.$OptionWithTooltip1){if(!this.tooltip)this.setupTooltip();c("Tooltip").set(c("ReactDOM").findDOMNode(p),this.tooltip,"right")}return p};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){return c("React").createElement(c("XUIError.react"),this.props,c("React").createElement(c("XUISingleSelector.react"),babelHelpers["extends"]({behaviors:[c("SingleSelectorAlignOnScroll"),c("SingleSelectorHideOnScrollOut")]},this.props),this.props.children))};function o(){j.apply(this,arguments)}o.propTypes=babelHelpers["extends"]({},c("XUIError.react").propTypes,{onHide:l.func,onShow:l.func});o.Option=n;f.exports=o}),null);
__d("TextInputFilter.brands",["AdsGenericFilter","AdsGenericFilterOperator","Keys","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=200;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.$TextInputFilter3=null;this.$TextInputFilter1=function(m){var n=m.target.value;this.setState({value:n});if(!n)this.setState({filter:null},this.$TextInputFilter4);else{var o=new(c("AdsGenericFilter"))(this.props.filterField,c("AdsGenericFilterOperator").CONTAIN,n.trim());this.setState({filter:o},this.$TextInputFilter4)}}.bind(this);this.$TextInputFilter2=function(m){if(m.charCode===c("Keys").RETURN)this.$TextInputFilter5()}.bind(this);this.$TextInputFilter5=function(){clearTimeout(this.$TextInputFilter3);this.props.onChange(this.state.filter)}.bind(this);this.$TextInputFilter4=function(){if(this.$TextInputFilter3)clearTimeout(this.$TextInputFilter3);this.$TextInputFilter3=setTimeout(this.$TextInputFilter5,this.props.changeDebounceMS)}.bind(this);this.state={filter:null,value:l.value||""}}k.prototype.UNSAFE_componentWillReceiveProps=function(l){if(this.props.hasCustomValue&&l.value!==this.state.value)this.setState({value:l.value})};k.prototype.render=function(){return c("React").createElement("input",{className:this.props.className,value:this.state.value,onChange:this.$TextInputFilter1,onKeyPress:this.$TextInputFilter2,placeholder:this.props.placeholder,onKeyDown:this.props.onKeyDown})};k.defaultProps={hasCustomValue:false,changeDebounceMS:j};f.exports=k}),null);
__d("AdsFilterWidgets.react",["cx","fbt","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGenericFilterSetUtil","Layout.react","React","SUIBusinessTheme","SUIText.react","TextInputFilter.brands","XUISelector.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=c("React").PropTypes;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={filterText:this.props.value,selectorValue:this.props.initialSelectorValue,filterSet:null},this.$FilterWidgets2=function(event){var u=event.target.value;this.setState({filterText:u});this.props.onTextChange(u)}.bind(this),this.$FilterWidgets3=function(u){if(!this.props.onFilterSetChange){this.setState({selectorValue:u.value});this.props.onSelectorChange(u.value)}else{var v=new(c("AdsGenericFilter"))(this.props.selectorFilterField,c("AdsGenericFilterOperator").EQUAL,u.value);if(v)this.$FilterWidgets4(v);else this.$FilterWidgets5(this.props.selectorFilterField)}}.bind(this),this.$FilterWidgets1=function(u){if(u)this.$FilterWidgets4(u);else this.$FilterWidgets5(this.props.textFilterField)}.bind(this),this.$FilterWidgets4=function(u){var v=void 0;if(this.state.filterSet)v=c("AdsGenericFilterSetUtil").mergeByField(this.state.filterSet,new(c("AdsGenericFilterSet"))([u]));else v=new(c("AdsGenericFilterSet"))([u]);this.setState({filterSet:v},this.$FilterWidgets6)}.bind(this),this.$FilterWidgets5=function(u){var v=c("AdsGenericFilterSetUtil").excludeFiltersByField(this.state.filterSet,u);this.setState({filterSet:v},this.$FilterWidgets6)}.bind(this),this.$FilterWidgets6=function(){this.props.onFilterSetChange(this.state.filterSet)}.bind(this),q}o.prototype.UNSAFE_componentWillReceiveProps=function(p){if(p.value!==undefined&&p.value!==this.state.filterText)this.setState({filterText:p.value})};o.prototype.render=function(){var p=this.props.onFilterSetChange?c("React").createElement(c("TextInputFilter.brands"),{className:"_5r_g _1f9c",placeholder:this.props.placeholder,filterField:this.props.textFilterField,onChange:this.$FilterWidgets1,onKeyDown:this.props.onKeyDown}):c("React").createElement("input",{className:"_5r_g _1f9c autofocus",placeholder:this.props.placeholder,value:this.state.filterText,onChange:this.$FilterWidgets2,onKeyDown:this.props.onKeyDown});if(this.props.hasSelector)return c("React").createElement(c("Layout.react"),this.props,c("React").createElement(m,null,p),c("React").createElement(l,{className:"_3-9a"},c("React").createElement(c("SUIText.react"),{className:"_3-90",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Filter by:")),c("React").createElement(c("XUISelector.react"),{className:"_5r_h",initialValue:this.props.initialSelectorValue,maxheight:300,size:"large",onChange:this.$FilterWidgets3},this.props.selectorOptions)));else return c("React").createElement("div",{className:this.props.className},p)};o.propTypes={selectorOptions:n.array,initialSelectorValue:n.string,onSelectorChange:n.func,hasSelector:n.bool.isRequired,onTextChange:n.func,placeholder:n.string,value:n.string,onFilterSetChange:n.func,textFilterField:n.instanceOf(c("AdsGenericFilterField")),selectorFilterField:n.instanceOf(c("AdsGenericFilterField")),showMagnifyingGlass:n.bool,onKeyDown:n.func};o.defaultProps={placeholder:i._("Search"),showMagnifyingGlass:true};f.exports=o}),null);
__d("AssetName.brands",["fbt","AppConstants.brands"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("AppConstants.brands").ASSET_TYPE,j={getName:function k(l,m,n){__p&&__p();var o="";o+=m===1?"":"P";o+=n?"C":"";switch(l){case i.AD_ACCOUNT:return h._({"":"ad account","P":"ad accounts","C":"Ad account","PC":"Ad accounts"},[h._enum(o,{"":"ad account",P:"ad accounts",C:"Ad Account",PC:"Ad Accounts"})]);case i.PAGE:return h._({"":"Page","P":"Pages","C":"Page","PC":"Pages"},[h._enum(o,{"":"Page",P:"Pages",C:"Page",PC:"Pages"})]);case i.APP:return h._({"":"app","P":"apps","C":"App","PC":"Apps"},[h._enum(o,{"":"app",P:"apps",C:"App",PC:"Apps"})]);case i.PIXEL:return h._({"":"pixel","P":"pixels","C":"Pixel","PC":"Pixels"},[h._enum(o,{"":"pixel",P:"pixels",C:"Pixel",PC:"Pixels"})]);case i.USER:return h._({"":"person","P":"people","C":"Person","PC":"People"},[h._enum(o,{"":"person",P:"people",C:"Person",PC:"People"})]);case i.INSTAGRAM_ACCOUNT:var p={"":h._("Instagram account"),P:h._("Instagram accounts"),C:h._("Instagram Account"),PC:h._("Instagram Accounts")};return p[o];case i.SYSTEM_USER:return h._({"":"system user","P":"system users","C":"System User","PC":"System Users"},[h._enum(o,{"":"system user",P:"system users",C:"System User",PC:"System Users"})]);case i.PRODUCT_CATALOG:return h._({"":"catalogue","P":"catalogues","C":"Catalogue","PC":"Catalogues"},[h._enum(o,{"":"catalog",P:"catalogs",C:"Catalog",PC:"Catalogs"})]);case i.FUNDING_SOURCE:return h._({"":"payment method","P":"payment methods","C":"Payment method","PC":"Payment Methods"},[h._enum(o,{"":"payment method",P:"payment methods",C:"Payment method",PC:"Payment Methods"})]);case i.PROJECT:return h._({"":"project","P":"projects","C":"Project","PC":"Projects"},[h._enum(o,{"":"project",P:"projects",C:"Project",PC:"Projects"})]);case i.LEGACY_LOGIN:return h._({"":"shared login","P":"shared logins","C":"Shared Login","PC":"Shared Logins"},[h._enum(o,{"":"shared login",P:"shared logins",C:"Shared Login",PC:"Shared Logins"})]);case i.PAYOUT_ACCOUNT:return h._({"":"payout account","P":"payout accounts","C":"Payout Account","PC":"Payout Accounts"},[h._enum(o,{"":"payout account",P:"payout accounts",C:"Payout Account",PC:"Payout Accounts"})]);case i.CUSTOM_AUDIENCE:return h._({"":"shared audience","P":"shared audiences","C":"Shared audience","PC":"Shared audiences"},[h._enum(o,{"":"shared audience",P:"shared audiences",C:"Shared Audience",PC:"Shared Audiences"})]);case i.EVENT_SOURCE_GROUP:return h._({"":"event source group","P":"event source groups","C":"Event source group","PC":"Event source groups"},[h._enum(o,{"":"event source group",P:"event source groups",C:"Event Source Group",PC:"Event Source Groups"})]);case i.OFFLINE_CONVERSION_DATA_SET:return h._({"":"offline event set","P":"offline event sets","C":"Offline event set","PC":"Offline event sets"},[h._enum(o,{"":"offline event set",P:"offline event sets",C:"Offline Event Set",PC:"Offline Event Sets"})]);case i.BUSINESS_UNIT:return h._({"":"line of business","P":"line of business","C":"Line of business","PC":"Lines of business"},[h._enum(o,{"":"line of business",P:"line of business",C:"Line of Business",PC:"Line of Businesses"})]);case i.MONETIZATION_PROPERTY:return h._({"":"property","P":"property","C":"Property","PC":"Properties"},[h._enum(o,{"":"property",P:"property",C:"Property",PC:"Properties"})]);case i.CUSTOM_CONVERSION:return h._({"":"custom conversion","P":"custom conversion","C":"Custom conversion","PC":"Custom conversions"},[h._enum(o,{"":"custom conversion",P:"custom conversion",C:"Custom Conversion",PC:"Custom Conversions"})]);case i.OWNED_DOMAIN:return h._({"":"domain","P":"domains","C":"Domain","PC":"Domains"},[h._enum(o,{"":"domain",P:"domains",C:"Domain",PC:"Domains"})]);default:return h._({"":"asset","P":"assets","C":"Asset","PC":"Assets"},[h._enum(o,{"":"asset",P:"assets",C:"Asset",PC:"Assets"})])}}};f.exports=j}),null);
__d("AdsAssetSelector.react",["ix","cx","fbt","invariant","xuiglyph","AdsAssetSectionType","AdsFBIconDownsized.react","AdsFilterWidgets.react","AdsLoadState_LEGACY","AssetName.brands","BusinessAssetGrouping.brands","BusinessObjectConstantNames","CenteredContainer.react","CurrentUser","Image.react","Keys","React","ShimButton.react","SUIBusinessTheme","SUISpinner.react","asset","getObjectValues"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m,n,o=c("BusinessObjectConstantNames").ASSET_TYPE,p=c("React").PropTypes,q=j._("No items found");m=babelHelpers.inherits(r,c("React").Component);n=m&&m.prototype;function r(){__p&&__p();var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=n.constructor).call.apply(s,[this].concat(v)),this.$AdsAssetSelector3=function(){if(this.props.bookmarkedAssets.length===0)return null;return this.$AdsAssetSelector8(j._("Bookmarked"),this.props.bookmarkedAssets,null,c("AdsAssetSectionType").BOOKMARKED,false)}.bind(this),this.$AdsAssetSelector7=function(){if(this.props.assetSections.length>0||this.props.searchedAssets&&this.props.searchedAssets.length>0||this.props.searchQuery&&this.props.searchState!==c("AdsLoadState_LEGACY").LOADED)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_1nmf",horizontal:true,vertical:true},this.props.labelNoItemsFound||q)}.bind(this),this.$AdsAssetSelector4=function(){return this.$AdsAssetSelector8(this.props.unownedAssetsHeader,this.props.unownedAssets,null,c("AdsAssetSectionType").UNOWNED,false)}.bind(this),this.$AdsAssetSelector5=function(){return this.props.assetSections.map(function(x){return this.$AdsAssetSelector8(x.name,x.assets,x.businessID,c("AdsAssetSectionType").OWNED,x.businessID===this.props.shownBusinessID)}.bind(this))}.bind(this),this.$AdsAssetSelector8=function(x,y,z,A,B){if(y.length===0)return null;if(this.props.hideBusinessAssets&&(!this.props.showPersonalAssetsInRoot||z!==c("BusinessAssetGrouping.brands").NULL_BIZ_ID))return this.$AdsAssetSelector9(x,z,y.length);return c("React").createElement("div",{key:x+z},this.$AdsAssetSelector10(x,y.length),c("React").createElement("div",null,y.map(function(C){return this.$AdsAssetSelector11(C,z,A)}.bind(this))))}.bind(this),this.$AdsAssetSelector9=function(x,y,z){this.props.renderSectionOption||k(0);return this.props.renderSectionOption(x,y,z)}.bind(this),this.$AdsAssetSelector10=function(x,y){__p&&__p();if(x===c("BusinessAssetGrouping.brands").DEFAULT_NON_BIZ_NAME&&!this.props.showNonBizGroupTitle)return null;var z=null,A=x,B=this.props.assetSections.length-1;if(this.props.hideBusinessAssets&&B&&!this.props.searchQuery)A=j._({"S":"{asset count} {asset name}, {business count} BUSINESS","P":"{asset count} {asset name}, {business count} BUSINESSES"},[j._param("asset count",y),j._param("asset name",c("AssetName.brands").getName(this.props.assetType,y,true)),j._param("business count",B),j._enum(B===1?"S":"P",{S:"BUSINESS",P:"BUSINESSES"})]);else if(this.props.shownBusinessID&&!this.props.searchQuery)A=j._("{asset count} {asset name}",[j._param("asset count",y),j._param("asset name",c("AssetName.brands").getName(this.props.assetType,y,true))]);else{if(x===c("BusinessAssetGrouping.brands").DEFAULT_NON_BIZ_NAME)z=c("React").createElement(c("Image.react"),{className:"_4vh-",src:h("89489")});else z=c("React").createElement(c("Image.react"),{className:"_4vh-",src:h("90055")});if(y&&this.props.showSectionAssetCount)A=j._("{business name} ({asset count})",[j._param("business name",x),j._param("asset count",y)])}return c("React").createElement("div",{className:"_1nme"+(this.props.compactLayout?" _4vhy":"")},z,A)}.bind(this),this.$AdsAssetSelector11=function(x,y,z){return this.props.renderAsset(x,y,z)}.bind(this),this.$AdsAssetSelector2=function(){if(!this.props.searchBarVisible)return null;return c("React").createElement(c("AdsFilterWidgets.react"),{className:(!this.props.compactLayout?"_1nmd":"")+(this.props.compactLayout?" _1t28":""),hasSelector:false,placeholder:this.props.searchBarPlaceholder,value:this.props.searchQuery,onKeyDown:this.$AdsAssetSelector12,onTextChange:this.props.onSearch})}.bind(this),this.$AdsAssetSelector12=function(x){if(x.keyCode===c("Keys").TAB&&!x.shiftKey)x.preventDefault()},this.$AdsAssetSelector6=function(){__p&&__p();if(!c("CurrentUser").isEmployee()||!this.props.searchQuery)return null;var x=null;switch(this.props.searchState){case c("AdsLoadState_LEGACY").NOT_LOADED:x=null;break;case c("AdsLoadState_LEGACY").LOADING:x=c("React").createElement(c("CenteredContainer.react"),{className:"_1nmf",vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}));break;case c("AdsLoadState_LEGACY").LOADED:case c("AdsLoadState_LEGACY").ERROR:if(this.props.searchedAssets&&this.props.searchedAssets.length>0)x=this.props.searchedAssets.map(function(z){return this.$AdsAssetSelector11(z,null,c("AdsAssetSectionType").SEARCH)}.bind(this));else x=c("React").createElement(c("CenteredContainer.react"),{className:"_1nmf",vertical:true},this.props.labelNoItemsFound||q);break}if(x){var y=0;if(this.props.searchedAssets)y=this.props.searchedAssets.length;return c("React").createElement("div",null,this.$AdsAssetSelector10(j._("Search by ID (employees only)"),y),x)}else return null}.bind(this),t}r.prototype.render=function(){return c("React").createElement("div",{className:this.props.showBottomBorder?"_4vhx":""},this.$AdsAssetSelector1(),this.$AdsAssetSelector2(),this.props.listTitle,c("React").createElement("div",{className:"_3x14",style:{maxHeight:this.props.maxListHeight||"auto"}},this.$AdsAssetSelector3(),this.$AdsAssetSelector4(),this.$AdsAssetSelector5(),this.$AdsAssetSelector6(),this.$AdsAssetSelector7()))};r.prototype.$AdsAssetSelector1=function(){if(!this.props.showBackButton)return null;var s=this.props.assetSections.find(function(t){return t.businessID===this.props.shownBusinessID},this);if(!s)return;return c("React").createElement("div",{className:"_2gxl"},c("React").createElement(c("ShimButton.react"),{className:"_2gxm",onClick:this.props.onBack},c("React").createElement(c("AdsFBIconDownsized.react"),{className:"_2gxn",src:h("404534")})),s.name)};r.propTypes={assetSections:p.arrayOf(p.shape({name:p.string.isRequired,businessID:p.string.isRequired,assets:p.array.isRequired})).isRequired,assetType:p.oneOf(c("getObjectValues")(o)).isRequired,bookmarkedAssets:p.array.isRequired,compactLayout:p.bool,hideBusinessAssets:p.bool,labelNoItemsFound:p.node,listTitle:p.node,maxListHeight:p.number,renderAsset:p.func.isRequired,renderSectionOption:p.func,searchedAssets:p.array,searchBarVisible:p.bool.isRequired,searchState:p.string.isRequired,searchQuery:p.string,shownBusinessID:p.string,showBackButton:p.bool,showBottomBorder:p.bool,showNonBizGroupTitle:p.bool,showPersonalAssetsInRoot:p.bool,showSectionAssetCount:p.bool,unownedAssets:p.array.isRequired,unownedAssetsHeader:p.node.isRequired,onSearch:p.func.isRequired,onBack:p.func};r.defaultProps={compactLayout:false,hideBusinessAssets:false,searchBarVisible:true,showBackButton:false,showNonBizGroupTitle:true,showSectionAssetCount:false,showBottomBorder:true};f.exports=r}),null);
__d("BusinessPageSectionOption.react",["cx","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Component,l=c("React").PropTypes;i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$BusinessPageSectionOption1=function(){this.props.revealBusiness(this.props.businessID)}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_5ghu _alf",onClick:this.$BusinessPageSectionOption1},c("React").createElement("span",{className:"_1b_h"},c("React").createElement("div",{className:"_5ghv"}),this.props.businessName),c("React").createElement("div",{className:"_3kin"},this.props.pageCount),c("React").createElement("div",{className:"_3kio"}))};m.propTypes={businessID:l.string.isRequired,businessName:l.string.isRequired,revealBusiness:l.func.isRequired,pageCount:l.number};f.exports=m}),null);
__d("PageSelectorItem.react",["cx","fbt","ix","AdsAssetSectionType","AdsTestIDs","AdsWhatsAppUtils","Image.react","ImageBlock.react","Keys","React","SUIBusinessTheme","SUISimplePopover.react","Tooltip"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").Component,n=c("React").PropTypes,o=function o(){return c("React").createElement(c("SUISimplePopover.react"),{content:c("AdsWhatsAppUtils").getPageNotConnectedPopoverLabel(),contentWidthUseSparingly:288,theme:c("SUIBusinessTheme")},c("React").createElement("span",{className:"_4c70 _2yw2"},i._("WhatsApp Business not connected")))};k=babelHelpers.inherits(p,m);l=k&&k.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$PageSelectorItem4=function(v){if(v.keyCode===c("Keys").RETURN||v.keyCode===c("Keys").BACKSPACE)this.$PageSelectorItem3()}.bind(this),this.$PageSelectorItem3=function(){this.props.onPageSelected(this.props.pageID,this.props.businessID,this.props.sectionType)}.bind(this),this.$PageSelectorItem1=function(event){event.preventDefault();event.stopPropagation();this.props.onPageRemoved(this.props.pageID,this.props.sectionType)}.bind(this),this.$PageSelectorItem2=function(event){event.preventDefault();event.stopPropagation();this.props.onPageBookmarked(this.props.pageID)}.bind(this),r}p.prototype.render=function(){__p&&__p();var q=this.props.sectionType===c("AdsAssetSectionType").BOOKMARKED||this.props.sectionType===c("AdsAssetSectionType").UNOWNED,r=!this.props.isBookmarked&&this.props.sectionType===c("AdsAssetSectionType").OWNED&&this.props.showBookmark,s=null;if(q)s=c("React").createElement("div",babelHelpers["extends"]({className:"_1wcw"},c("Tooltip").propsFor(i._("Remove Page from this list")),{"data-tooltip-position":"right",onClick:this.$PageSelectorItem1,role:"button",tabIndex:"0"}));else if(r)s=c("React").createElement("div",babelHelpers["extends"]({className:"_50a_"},c("Tooltip").propsFor(i._("Bookmark this Page")),{"data-tooltip-position":"right",onClick:this.$PageSelectorItem2,role:"button",tabIndex:"0"}));else if(this.props.isSelected)s=c("React").createElement("div",{className:"_55fc"});var t=null;if(this.props.showPageID)t=c("React").createElement("div",{className:"_4c70"},this.props.pageID);var u=this.props.showWhatsAppStatus&&(!this.props.hasWhatsAppNumber||!this.props.hasWhatsAppBusinessNumber)?c("React").createElement(o,null):null;return c("React").createElement(c("ImageBlock.react"),{"aria-checked":this.props.isSelected,className:(!this.props.compactLayout?"_2sl3":"")+(this.props.compactLayout?" _5dsl":"")+(this.props.hoverStyle==="dark-blue"?" _alf":"")+(this.props.hoverStyle==="light-gray"?" _2z3h":"")+(this.props.isSelected?" _2246":"")+(this.props.isRecentlyBookmarked?" _50b0":""),role:"menuitem",onClick:this.$PageSelectorItem3,onKeyDown:this.$PageSelectorItem4},c("React").createElement(c("Image.react"),{className:"_4-rj",height:30,src:this.props.imageSrc||j("22120"),width:30}),c("React").createElement("div",{className:"_1wcv","data-testid":c("AdsTestIDs").PAGE_SELECTOR_OVERLAY_ITEM},c("React").createElement("div",{className:"_2sl4"+(!this.props.showPageID?" _4c71":""),"data-testid":c("AdsTestIDs").PAGE_SELECTOR_OVERLAY_ITEM_CONTENT},this.props.name),t,s,u))};p.propTypes={businessID:n.string,compactLayout:n.bool.isRequired,hasWhatsAppBusinessNumber:n.bool,hasWhatsAppNumber:n.bool,hoverStyle:n.oneOf(["dark-blue","light-gray"]),imageSrc:n.string,isBookmarked:n.bool.isRequired,isRecentlyBookmarked:n.bool.isRequired,isSelected:n.bool.isRequired,name:n.string.isRequired,pageID:n.string.isRequired,sectionType:n.oneOf(Object.keys(c("AdsAssetSectionType"))).isRequired,showBookmark:n.bool.isRequired,showPageID:n.bool.isRequired,showWhatsAppStatus:n.bool,onPageBookmarked:n.func.isRequired,onPageRemoved:n.func.isRequired,onPageSelected:n.func.isRequired};p.defaultProps={hoverStyle:"dark-blue"};f.exports=p}),null);
__d("AdsPageAssetSelector.react",["cx","fbt","AdsAssetSectionType","AdsAssetSelector.react","AdsLoadState_LEGACY","AdsPageUtils","ApiPagePaths","BusinessAssetGrouping.brands","BusinessObjectConstantNames","BusinessPageSectionOption.react","PageSelectorItem.react","React","areEqual","getByPath","sumOfArray"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("BusinessObjectConstantNames").ASSET_TYPE,m=c("React").PropTypes,n=[],o=i._("Pages You Don't Own (Employees Only)");j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={recentlyBookmarkedPageIDs:null},this.$AdsPageAssetSelector5=function(v,w,x){var y=!w?this.$AdsPageAssetSelector9(v):w,z=this.props.selectedPageID===v.id&&this.props.selectedSectionType===x&&this.props.selectedBusinessID===y||this.props.selectedPageID===v.id&&!this.props.selectedBusinessID&&y===c("BusinessAssetGrouping.brands").NULL_BIZ_ID,A=this.props.bookmarkedPages.some(function(D){return D.id===v.id}),B=c("AdsPageUtils").getPageUIName(v),C=!!(x===c("AdsAssetSectionType").BOOKMARKED&&this.state&&this.state.recentlyBookmarkedPageIDs&&this.state.recentlyBookmarkedPageIDs.has(v.id));return c("React").createElement(c("PageSelectorItem.react"),{businessID:y,compactLayout:!!this.props.compactLayout,hasWhatsAppBusinessNumber:v.has_whatsapp_business_number,hasWhatsAppNumber:v.has_whatsapp_number,hoverStyle:this.props.listItemHoverStyle,imageSrc:this.$AdsPageAssetSelector11(v),isBookmarked:A,isRecentlyBookmarked:C,isSelected:z,key:v.id+":"+y,name:B||"",pageID:v.id,sectionType:x,showBookmark:!!this.props.showBookmarks,showPageID:!!this.props.showPageIDs,showWhatsAppStatus:!!this.props.showWhatsAppStatus,onPageBookmarked:this.props.onPageBookmarked,onPageRemoved:this.props.onPageRemoved,onPageSelected:this.props.onPageSelected})}.bind(this),this.$AdsPageAssetSelector6=function(v,w,x){return c("React").createElement(c("BusinessPageSectionOption.react"),{businessID:w,businessName:v,key:v+w,pageCount:x,revealBusiness:this.$AdsPageAssetSelector12})}.bind(this),this.$AdsPageAssetSelector12=function(v){this.props.onBusinessSelected&&this.props.onBusinessSelected(v)}.bind(this),this.$AdsPageAssetSelector13=function(v){return this.props.sortPages?(v.name||"").toLowerCase():null}.bind(this),this.$AdsPageAssetSelector8=function(){this.props.onBusinessSelected&&this.props.onBusinessSelected(null)}.bind(this),r}p.prototype.UNSAFE_componentWillReceiveProps=function(q){var r,s=this,t=new Set();if(!c("areEqual")(this.props.bookmarkedPages,q.bookmarkedPages))(function(){var u=new Set(s.props.bookmarkedPages.map(function(v){return v.id}));q.bookmarkedPages.forEach(function(v){if(!u.has(v.id))t.add(v.id)});s.setState({recentlyBookmarkedPageIDs:t})})()};p.prototype.render=function(){return c("React").createElement("div",{className:"_8g0"+(this.props.shownBusinessID?" showBusiness":"")},c("React").createElement("div",{className:"_8g2"},this.$AdsPageAssetSelector1()),c("React").createElement("div",{className:"_8g2"},this.$AdsPageAssetSelector2(this.props)))};p.prototype.$AdsPageAssetSelector1=function(){var q=null;if(this.props.filteredBusinessID)q=this.$AdsPageAssetSelector3(this.props.filteredBusinessID);else q=this.$AdsPageAssetSelector4();var r=null,s=c("sumOfArray")(q.map(function(t){return t.assets.length}));if(this.props.showPageCount)r=c("React").createElement("div",{className:"_2z3f"},i._({"PAGE":"{page count} PAGE","PAGES":"{page count} PAGES"},[i._param("page count",s),i._enum(s===1?"PAGE":"PAGES",{PAGE:"PAGE",PAGES:"PAGES"})]));return c("React").createElement(c("AdsAssetSelector.react"),{assetSections:q,assetType:l.PAGE,bookmarkedAssets:this.props.bookmarkedPages,compactLayout:this.props.compactLayout,hideBusinessAssets:!this.props.showBusinessPages&&this.props.searchQuery==="",labelNoItemsFound:this.props.labelNoItemsFound,listTitle:r,maxListHeight:this.props.maxListHeight,renderAsset:this.$AdsPageAssetSelector5,renderSectionOption:this.$AdsPageAssetSelector6,searchBarPlaceholder:i._("Search Pages"),searchBarVisible:this.props.searchBarVisible,searchedAssets:this.props.searchedPages,searchQuery:this.props.searchQuery,searchState:this.props.searchState,showBottomBorder:this.props.showBottomBorder,shownBusinessID:this.props.shownBusinessID,showNonBizGroupTitle:this.props.showNonBizGroupTitle,showPersonalAssetsInRoot:this.props.showPersonalPagesInRoot,showSectionAssetCount:this.props.showSectionPageCount,unownedAssets:this.$AdsPageAssetSelector7(),unownedAssetsHeader:o,onSearch:this.props.onSearch})};p.prototype.$AdsPageAssetSelector2=function(q){return c("React").createElement(c("AdsAssetSelector.react"),{assetSections:this.$AdsPageAssetSelector3(q.shownBusinessID),assetType:l.PAGE,bookmarkedAssets:q.bookmarkedPages,compactLayout:q.compactLayout,labelNoItemsFound:this.props.labelNoItemsFound,listTitle:null,maxListHeight:q.maxListHeight,renderAsset:this.$AdsPageAssetSelector5,renderSectionOption:this.$AdsPageAssetSelector6,searchBarPlaceholder:i._("Search Pages"),searchBarVisible:q.searchBarVisible,searchedAssets:q.searchedPages,searchQuery:q.searchQuery,searchState:q.searchState,showBackButton:true,showBottomBorder:q.showBottomBorder,shownBusinessID:q.shownBusinessID,showNonBizGroupTitle:q.showNonBizGroupTitle,showSectionAssetCount:q.showSectionPageCount,unownedAssets:this.$AdsPageAssetSelector7(),unownedAssetsHeader:o,onBack:this.$AdsPageAssetSelector8,onSearch:q.onSearch})};p.prototype.$AdsPageAssetSelector9=function(q){return q.business?q.business.id:c("BusinessAssetGrouping.brands").NULL_BIZ_ID};p.prototype.$AdsPageAssetSelector10=function(q,r){var s=c("AdsPageUtils").getPageUIName(r),t=c("AdsPageUtils").getPageLink(r),u=c("getByPath")(r,c("ApiPagePaths").ID);return!!(!q||s&&s.toLowerCase().includes(q.toLowerCase())||u&&u.includes(q)||t&&t.toLowerCase().includes(q.toLowerCase()))};p.prototype.$AdsPageAssetSelector11=function(q){var r=c("getByPath")(q,["picture"]);if(typeof r=="string")return r;return c("getByPath")(r,["data","url"])||undefined};p.prototype.$AdsPageAssetSelector3=function(q){return this.$AdsPageAssetSelector4().filter(function(r){return r.businessID===q})};p.prototype.$AdsPageAssetSelector4=function(){__p&&__p();var q=this.props.pages.filter(function(u){return this.$AdsPageAssetSelector10(this.props.searchQuery,u)}.bind(this)),r=this.props.currentUserID,s=c("BusinessAssetGrouping.brands").groupAssets(q,function(u){return(u.userpermissions&&u.userpermissions.data?u.userpermissions.data:[]).filter(function(v){return!r||v.user&&v.user.id===r})},function(u){return this.props.groupByProject?u.businessprojects?u.businessprojects.data:[]:[]}.bind(this),this.$AdsPageAssetSelector13,null,c("BusinessAssetGrouping.brands").DEFAULT_NON_BIZ_NAME),t=[];s.groupedAssets.forEach(function(u){if(u.assets.length>0)t.push({name:u.name,assets:u.assets,businessID:u.bizID});u.projects.forEach(function(v){if(v.assets.length>0)t.push({name:v.name,assets:v.assets,businessID:u.bizID})})});return t};p.prototype.$AdsPageAssetSelector7=function(){if(!this.props.unownedPages)return n;return this.props.unownedPages.filter(function(q){return this.$AdsPageAssetSelector10(this.props.searchQuery,q)}.bind(this))};p.propTypes={bookmarkedPages:m.array.isRequired,compactLayout:m.bool,currentUserID:m.string,filteredBusinessID:m.string,groupByProject:m.bool,labelNoItemsFound:m.string,listItemHoverStyle:m.oneOf(["dark-blue","light-gray"]),maxListHeight:m.number,pages:m.array.isRequired,searchedPages:m.array,searchBarVisible:m.bool.isRequired,searchState:m.oneOf(Object.keys(c("AdsLoadState_LEGACY"))).isRequired,searchQuery:m.string,selectedPageID:m.string,selectedBusinessID:m.string,selectedSectionType:m.string,showBookmarks:m.bool,showBottomBorder:m.bool,showBusinessPages:m.bool,showNonBizGroupTitle:m.bool,showPageCount:m.bool,showPersonalPagesInRoot:m.bool,showSectionPageCount:m.bool,showPageIDs:m.bool,showWhatsAppStatus:m.bool,shownBusinessID:m.string,sortPages:m.bool,unownedPages:m.array,onBusinessSelected:m.func,onPageSelected:m.func.isRequired,onPageRemoved:m.func.isRequired,onPageBookmarked:m.func.isRequired,onSearch:m.func.isRequired};p.defaultProps={compactLayout:false,groupByProject:true,listItemHoverStyle:"dark-blue",showBookmarks:true,showBusinessPages:true,showNonBizGroupTitle:false,showPageCount:true,showPersonalPagesInRoot:true,showSectionPageCount:true,showPageIDs:false,showWhatsAppStatus:false,sortPages:true};f.exports=p}),null);
__d("AdsPageDropdownSelectorKeyboardNavigation",["csx","DOMQuery","Event","Focus","Keys","KeyStatus","VirtualCursorStatus","wrapIndex"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("KeyStatus").isKeyDown,j=c("VirtualCursorStatus").isVirtualCursorTriggered;function k(l){__p&&__p();this.$AdsPageDropdownSelectorKeyboardNavigation4=function(){if(i()||j())this.$AdsPageDropdownSelectorKeyboardNavigation6(0);else c("Focus").setWithoutOutline(this.$AdsPageDropdownSelectorKeyboardNavigation1.getRoot())}.bind(this);this.$AdsPageDropdownSelectorKeyboardNavigation5=function(m,event){switch(c("Event").getKeyCode(event)){case c("Keys").UP:event.preventDefault();event.stopPropagation();this.$AdsPageDropdownSelectorKeyboardNavigation6(this.$AdsPageDropdownSelectorKeyboardNavigation3-1);break;case c("Keys").DOWN:event.preventDefault();event.stopPropagation();this.$AdsPageDropdownSelectorKeyboardNavigation6(this.$AdsPageDropdownSelectorKeyboardNavigation3+1);break}}.bind(this);this.$AdsPageDropdownSelectorKeyboardNavigation1=l;this.$AdsPageDropdownSelectorKeyboardNavigation3=-1}k.prototype.enable=function(){this.$AdsPageDropdownSelectorKeyboardNavigation2=[this.$AdsPageDropdownSelectorKeyboardNavigation1.subscribe("aftershow",this.$AdsPageDropdownSelectorKeyboardNavigation4),this.$AdsPageDropdownSelectorKeyboardNavigation1.subscribe("key",this.$AdsPageDropdownSelectorKeyboardNavigation5)]};k.prototype.disable=function(){if(this.$AdsPageDropdownSelectorKeyboardNavigation2){this.$AdsPageDropdownSelectorKeyboardNavigation2.forEach(function(l){return l.unsubscribe()});this.$AdsPageDropdownSelectorKeyboardNavigation2=[]}};k.prototype.$AdsPageDropdownSelectorKeyboardNavigation6=function(l){var m=c("DOMQuery").scry(this.$AdsPageDropdownSelectorKeyboardNavigation1.getRoot(),"._5dsl");if(!m.length)return;this.$AdsPageDropdownSelectorKeyboardNavigation3=c("wrapIndex")(l,m.length);c("Focus").set(m[this.$AdsPageDropdownSelectorKeyboardNavigation3])};f.exports=k}),null);
__d("AdsPageDropdownSelector.react",["cx","ix","AdsAssetSectionType","AdsLoadState_LEGACY","AdsPageAssetSelector.react","AdsTestIDs","ApiPagePaths","AdsPageDropdownSelectorKeyboardNavigation","BizSiteIdentifier.brands","BusinessAssetGrouping.brands","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","LayerTabIsolation","React","XUIPopoverButton.react","emptyFunction","getByPath","getObjectValues","joinClasses","mapObject"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=300,n=12,o={AdsPageDropdownSelectorKeyboardNavigation:c("AdsPageDropdownSelectorKeyboardNavigation"),ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerRefocusOnHide:c("LayerRefocusOnHide"),LayerTabIsolation:c("LayerTabIsolation")};j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AdsPageDropdownSelector1=false,this.$AdsPageDropdownSelector4=function(){return this.$AdsPageDropdownSelector2}.bind(this),this.$AdsPageDropdownSelector5=function(v){this.$AdsPageDropdownSelector2=v}.bind(this),this.$AdsPageDropdownSelector3=function(v){var w=v.selectedBusinessID;if(!v.selectedBusinessID&&v.selectedActorID)w=this.$AdsPageDropdownSelector12(v.selectedActorID);var x=this.$AdsPageDropdownSelector13(w)?w:null;return{selectedBusinessID:w,shownBusinessID:x,selectedActorID:v.selectedActorID}}.bind(this),this.$AdsPageDropdownSelector15=function(v){this.setState({shownBusinessID:v})}.bind(this),this.$AdsPageDropdownSelector16=function(v,w,x){this.setState({selectedActorID:v,selectedBusinessID:w,shownBusinessID:w},this.$AdsPageDropdownSelector18)}.bind(this),this.$AdsPageDropdownSelector17=function(v){this.setState({searchQuery:v})}.bind(this),this.$AdsPageDropdownSelector11=function(){this.setState({showDialog:!this.state.showDialog},this.props.onClick)}.bind(this),this.$AdsPageDropdownSelector6=function(v){setTimeout(function(){if(this.$AdsPageDropdownSelector1)this.setState({showDialog:v})}.bind(this),0)}.bind(this),this.$AdsPageDropdownSelector8=function(){return!!this.props.pages[this.state.selectedActorID]}.bind(this),this.$AdsPageDropdownSelector9=function(){__p&&__p();if(!this.$AdsPageDropdownSelector8())return null;var v=this.props.pages[this.state.selectedActorID];if(!v)return null;if(v.picture&&typeof v.picture==="object")return c("getByPath")(v,c("ApiPagePaths").PICTURE.DATA.URL)||c("getByPath")(v,c("ApiPagePaths").PICTURE.path);else if(v.picture&&typeof v.picture==="string")return v.picture;return null}.bind(this),this.$AdsPageDropdownSelector10=function(){if(!this.$AdsPageDropdownSelector8())return this.props.defaultLabel;return this.props.pages[this.state.selectedActorID].name}.bind(this),this.$AdsPageDropdownSelector14=function(){return c("getObjectValues")(this.props.pages)}.bind(this),this.$AdsPageDropdownSelector18=function(){var v=this.state.selectedActorID;if(!v)return;this.setState({searchQuery:"",showDialog:false});this.props.onChange(v)}.bind(this),this.state=babelHelpers["extends"]({showDialog:this.props.showDialogOnInit,searchQuery:""},this.$AdsPageDropdownSelector3(this.props)),r}p.prototype.UNSAFE_componentWillReceiveProps=function(q){this.setState(this.$AdsPageDropdownSelector3(q))};p.prototype.componentDidMount=function(){this.$AdsPageDropdownSelector1=true};p.prototype.componentWillUnmount=function(){this.$AdsPageDropdownSelector1=false};p.prototype.renderLayers=function(){if(!this.state.showDialog)return null;return c("React").createElement(c("ContextualLayer.react"),{alignment:this.props.alignment,behaviors:o,contextRef:this.$AdsPageDropdownSelector4,position:"below",shown:true,onToggle:this.$AdsPageDropdownSelector6},this.$AdsPageDropdownSelector7())};p.prototype.render=function(){return c("React").createElement("span",{"data-testid":c("AdsTestIDs").PAGE_SELECTOR},c("React").createElement(c("XUIPopoverButton.react"),{className:this.props.className,disabled:this.props.disabled,haschevron:!this.props.covered,image:this.$AdsPageDropdownSelector8()&&!!this.props.showPageProfileImage?c("React").createElement(c("Image.react"),{height:this.props.popoverHeight,src:this.props.covered?i("95410"):this.$AdsPageDropdownSelector9()||i("22120"),width:this.props.popoverWidth}):null,label:this.props.showPageName?this.$AdsPageDropdownSelector10():"",maxwidth:this.props.maxwidth,ref:this.$AdsPageDropdownSelector5,size:this.props.size,suppressed:this.props.suppressed,type:"button",onClick:this.$AdsPageDropdownSelector11}),this.renderLayers())};p.prototype.$AdsPageDropdownSelector7=function(){var q=this.$AdsPageDropdownSelector14();return c("React").createElement("div",{className:c("joinClasses")("_21wq _70b",this.props.selectorClassName),"data-testid":c("AdsTestIDs").PAGE_SELECTOR_OVERLAY},c("React").createElement(c("AdsPageAssetSelector.react"),{bookmarkedPages:[],compactLayout:true,currentUserID:this.props.currentUserID,groupByProject:this.props.groupByProject,labelNoItemsFound:this.props.labelNoItemsFound,listItemHoverStyle:"dark-blue",maxListHeight:m,pages:q,searchBarVisible:q.length>=n,searchQuery:this.state.searchQuery,searchState:c("AdsLoadState_LEGACY").NOT_LOADED,searchedPages:[],selectedBusinessID:this.state.selectedBusinessID,selectedPageID:this.props.selectedActorID,selectedSectionType:c("AdsAssetSectionType").OWNED,showBookmarks:false,showBottomBorder:false,showBusinessPages:this.props.showBusinessPages,showNonBizGroupTitle:this.props.showNonBizGroupTitle,showPageCount:false,showPersonalPagesInRoot:this.props.showPersonalPagesInRoot||false,showSectionPageCount:true,showWhatsAppStatus:this.props.showWhatsAppStatus||false,shownBusinessID:this.props.disableAnimation?null:this.state.shownBusinessID,sortPages:false,unownedPages:[],onBusinessSelected:this.$AdsPageDropdownSelector15,onPageBookmarked:c("emptyFunction"),onPageRemoved:c("emptyFunction"),onPageSelected:this.$AdsPageDropdownSelector16,onSearch:this.$AdsPageDropdownSelector17}))};p.prototype.$AdsPageDropdownSelector12=function(q){__p&&__p();if(!q)return null;var r=null,s=c("BizSiteIdentifier.brands").getBusinessID(),t=this.props.pages[q];if(t&&c("getByPath")(t,["userpermissions","data"]))for(var u=t.userpermissions.data.length-1;u>=0;u--){r=c("getByPath")(t.userpermissions.data[u],["business","id"]);if(r&&s===r)break}return r?r:c("BusinessAssetGrouping.brands").NULL_BIZ_ID};p.prototype.$AdsPageDropdownSelector13=function(q){__p&&__p();if(q===c("BusinessAssetGrouping.brands").NULL_BIZ_ID)return true;var r=false;c("mapObject")(this.props.pages,function(s,t){if(s&&c("getByPath")(s,["userpermissions","data"]))for(var u=s.userpermissions.data.length-1;u>=0;u--){var v=c("getByPath")(s.userpermissions.data[u],["business","id"]);if(v&&q===v){r=true;return}}});return r};p.propTypes={alignment:l.string,covered:l.bool,defaultLabel:l.node.isRequired,disableAnimation:l.bool,disabled:l.bool,groupByProject:l.bool,labelNoItemsFound:l.node,onChange:l.func.isRequired,permissions:l.object,pages:l.object.isRequired,selectedActorID:l.string,selectedBusinessID:l.string,showBusinessPages:l.bool,showDialogOnInit:l.bool.isRequired,showPersonalPageInRoot:l.bool,showNonBizGroupTitle:l.bool,showPageProfileImage:l.bool,showWhatsAppStatus:l.bool,size:l.string,suppressed:l.bool.isRequired,maxwidth:l.number,popoverWidth:l.number,popoverHeight:l.number,selectorClassName:l.string};p.defaultProps={alignment:"right",covered:false,currentUserID:null,disableAnimation:false,disabled:false,groupByProject:false,size:"xlarge",showBusinessPages:true,showDialogOnInit:false,showNonBizGroupTitle:true,showPageName:false,showPageProfileImage:true,maxwidth:260,popoverWidth:16,popoverHeight:16};f.exports=p}),null);
__d("AdsFilterChangeTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_INPUT:null,ADD_PRESET:null,CLEAR:null,CREATE_NEW:null,EDIT:null,REMOVE:null,REMOVE_PRESET:null});f.exports=h}),null);
__d("AdsCFCheckbox.react",["cx","Event","Keys","React","SUIBusinessTheme","SUISimplePopover.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$AdsCFCheckbox4=function(event){var n=c("Event").getKeyCode(event);if(n===c("Keys").RETURN||n===c("Keys").SPACE)this.$AdsCFCheckbox2(event)}.bind(this);this.$AdsCFCheckbox5=function(){if(!this.state.pressed)this.setState({pressed:true})}.bind(this);this.$AdsCFCheckbox6=function(){if(this.state.pressed)this.setState({pressed:false})}.bind(this);this.$AdsCFCheckbox2=function(event){event.preventDefault();this.props.onChange&&this.props.onChange(!this.props.checked,this.props.name||"",this.props.value)}.bind(this);this.$AdsCFCheckbox3=function(){this.setState({focused:true})}.bind(this);this.$AdsCFCheckbox1=function(){this.setState({focused:false,pressed:false})}.bind(this);this.state={focused:false,pressed:false}}l.prototype.render=function(){var m=this.props.label?c("React").createElement("span",{className:"_5y_a"},this.props.label):null,n=this.props.checked,o=!!this.props.disabled,p=!o&&this.state.focused,q=void 0;if(this.props.helpText)q=c("React").createElement(c("SUISimplePopover.react"),{content:this.props.helpText,contentWidthUseSparingly:368,theme:c("SUIBusinessTheme")});var r=!o&&this.state.pressed,s=c("joinClasses")("_5y_b"+(!!this.props.inline?" _5y_c":"")+(n?" checked":"")+(o?" disabled":"")+(p?" focused":"")+(r?" pressed":""),this.props.className),t=o?-1:0;return c("React").createElement("div",{"aria-checked":n,"aria-disabled":o,"aria-labelledby":this.props.label,className:s,"data-testid":this.props["data-testid"],role:"checkbox",tabIndex:t,onBlur:o?null:this.$AdsCFCheckbox1,onClick:o?null:this.$AdsCFCheckbox2,onFocus:o?null:this.$AdsCFCheckbox3,onKeyUp:o?null:this.$AdsCFCheckbox4,onMouseDown:o?null:this.$AdsCFCheckbox5,onMouseUp:o?null:this.$AdsCFCheckbox6},c("React").createElement("i",{className:"_5y_d"}),c("React").createElement("span",{className:"_5y_a"},this.props.label,q))};l.propTypes={name:k.string,onChange:k.func,checked:k.bool.isRequired,helpText:k.node,label:k.string.isRequired,inline:k.bool};f.exports=l}),null);
__d("FBNoSelect",["DOMQuery","Event","UserAgent"],(function a(b,c,d,e,f,g){__p&&__p();var h=["input","select","textarea","object","embed"],i=new(function(){__p&&__p();function j(){"use strict";this.$FBNoSelectSingleton1=false;this.$FBNoSelectSingleton2={};this.$FBNoSelectSingleton3={};this.$FBNoSelectSingleton4=Array.from(h)}j.prototype.addBlockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton6(this.$FBNoSelectSingleton2,k)};j.prototype.removeBlockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton7(this.$FBNoSelectSingleton2,k)};j.prototype.addUnblockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton6(this.$FBNoSelectSingleton3,k)};j.prototype.removeUnblockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton7(this.$FBNoSelectSingleton3,k)};j.prototype.addUnblockNodeType=function(k){"use strict";this.$FBNoSelectSingleton5();if(!this.$FBNoSelectSingleton4.includes(k))this.$FBNoSelectSingleton4.push(k);return this};j.prototype.removeUnblockNodeType=function(k){"use strict";this.$FBNoSelectSingleton5();var l=this.$FBNoSelectSingleton4.indexOf(k);if(l!==-1)this.$FBNoSelectSingleton4.splice(l,1);return this};j.prototype.addUnblockLayers=function(){"use strict";this.addUnblockClass("uiLayer");return this};j.prototype.$FBNoSelectSingleton6=function(k,l){"use strict";if(k[l])k[l]++;else k[l]=1;return this};j.prototype.$FBNoSelectSingleton7=function(k,l){"use strict";if(k[l]){k[l]--;if(k[l]==0)delete k[l]}return this};j.prototype.shouldBlock=function(k){"use strict";__p&&__p();if(!this.$FBNoSelectSingleton1)return false;for(var l=k;l!==null&&l!==document;l=l.parentNode){if(l.classList){for(var m in this.$FBNoSelectSingleton2)if(l.classList.contains(m))return true;for(var n in this.$FBNoSelectSingleton3)if(l.classList.contains(n))return false}var o=c("DOMQuery").isNodeOfType(l,this.$FBNoSelectSingleton4);if(o)return false}return false};j.prototype.$FBNoSelectSingleton5=function(){__p&&__p();var k,l=this;"use strict";if(this.$FBNoSelectSingleton1)return;this.$FBNoSelectSingleton1=true;if(c("UserAgent").isEngine("Gecko")){c("Event").listen(document,"mousedown",function(m){if(this.shouldBlock(m.getTarget()))document.body.style.MozUserSelect="none"}.bind(this));c("Event").listen(document,"mouseup",function(m){document.body.style.MozUserSelect=""})}else(function(){__p&&__p();var m=false,n=false;c("Event").listen(document,"selectstart",function(o){__p&&__p();if(m){if(n)o.kill();return}n=false;m=true;if(this.shouldBlock(o.getTarget())){n=true;o.kill()}}.bind(l));c("Event").listen(document,{mousedown:function o(){m=false},mouseup:function o(){m=false}})})()};return j}())();f.exports=i}),null);
__d("BUIDraggableList.react",["cx","invariant","AbstractDraggableList.react","BUIComponent","FBOverlayBase.react","React","XUIGrayText.react","joinClasses","mapObject"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("BUIComponent"));k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$BUIDraggableList1=function(s){var t=c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium"},c("React").createElement("div",null,s))));return t},this.$BUIDraggableList2=function(s){var t=c("mapObject")(s,function(u){var v=this.$BUIDraggableList1(u.label),w=babelHelpers["extends"]({},u,{label:v});return w}.bind(this));return t}.bind(this),o}m.prototype.render=function(){this.props.itemIDs.length!==0||i(0);var n=c("joinClasses")(this.props.className,"_5nz6");return c("React").createElement(c("AbstractDraggableList.react"),babelHelpers["extends"]({},this.props,{className:n,itemsByID:this.$BUIDraggableList2(this.props.itemsByID)}))};m.propTypes={itemIDs:l.arrayOf(l.string.isRequired).isRequired,itemsByID:l.object.isRequired,itemsRenderer:l.func,onRemove:l.func.isRequired,onReorder:l.func.isRequired};f.exports=m}),null);
__d("BUIPresetFilterModes_DEPRECATED",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={DRAWER:"drawer",POPOVER:"popover",propTypes:h.oneOf(["drawer","popover"])};f.exports=i}),null);
__d("BUIPresetFiltersHeader_DEPRECATED.react",["cx","BUIPresetFilterModes_DEPRECATED","InlineBlock.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$BUIPresetFiltersHeader_DEPRECATED2=function(event){event.preventDefault();if(!this.props.isCollapsible)return;this.props.onTextClick(!this.props.collapsed)}.bind(this),this.$BUIPresetFiltersHeader_DEPRECATED3=function(event){event.preventDefault();this.props.onCheckmarkClick()}.bind(this),n}l.prototype.render=function(){var m="_3l9f"+(!this.props.collapsed?" _3l9g":""),n="_3l9h"+(this.props.collapsed&&this.props.isAnyChecked&&this.$BUIPresetFiltersHeader_DEPRECATED1()?" _3l9i":"")+(this.props.isAnyChecked&&this.$BUIPresetFiltersHeader_DEPRECATED1()?" _3l9j":"");return c("React").createElement("div",{className:m,onClick:this.$BUIPresetFiltersHeader_DEPRECATED2,role:"presentation"},c("React").createElement(c("InlineBlock.react"),{className:n,onClick:this.$BUIPresetFiltersHeader_DEPRECATED1()?this.$BUIPresetFiltersHeader_DEPRECATED3:null}),c("React").createElement(c("InlineBlock.react"),{className:"_3l9k"},c("React").createElement("h3",{className:"_3l9m"},this.props.children)),c("React").createElement(c("InlineBlock.react"),{className:"_3la8"+(!this.props.isCollapsible?" hidden_elem":"")}))};l.prototype.$BUIPresetFiltersHeader_DEPRECATED1=function(){return this.props.mode===c("BUIPresetFilterModes_DEPRECATED").DRAWER};l.propTypes={collapsed:k.bool,isAnyChecked:k.bool,isCollapsible:k.bool,mode:c("BUIPresetFilterModes_DEPRECATED").propTypes.isRequired,onCheckmarkClick:k.func.isRequired,onTextClick:k.func.isRequired};l.defaultProps={mode:c("BUIPresetFilterModes_DEPRECATED").DRAWER};f.exports=l}),null);
__d("BUIPopoverSection_DEPRECATED.react",["cx","BUIPresetFilterModes_DEPRECATED","BUIPresetFiltersHeader_DEPRECATED.react","React","ReactCSSTransitionGroup","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.$BUIPopoverSection_DEPRECATED1=function(event){event.preventDefault()};l.prototype.render=function(){var m=!this.props.isHidden?this.props.renderItems():null;if(this.props.shouldAnimate)m=c("React").createElement(c("ReactCSSTransitionGroup"),{transitionName:{enter:"_1d6a",enterActive:"_1d6b",leave:"_1d6c",leaveActive:"_1d6e",appear:"_1d6a",appearActive:"_1d6b"},transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionAppear:true,transitionAppearTimeout:500},m);return c("React").createElement("div",{key:this.props.id,className:c("joinClasses")(this.props.className,"_3top"+(this.props.isCollapsible?" _3tox":"")),onMouseDown:this.$BUIPopoverSection_DEPRECATED1},c("React").createElement(c("BUIPresetFiltersHeader_DEPRECATED.react"),{collapsed:this.props.isHidden,isAnyChecked:this.props.isAnyChecked,isCollapsible:this.props.isCollapsible,mode:this.props.mode,onCheckmarkClick:this.props.onCheckmarkClick,onTextClick:this.props.onTextClick},this.props.title),m,this.props.children)};function l(){i.apply(this,arguments)}l.propTypes={className:k.string,id:k.string.isRequired,isAnyChecked:k.bool.isRequired,isCollapsible:k.bool.isRequired,isHidden:k.bool.isRequired,mode:c("BUIPresetFilterModes_DEPRECATED").propTypes.isRequired,onCheckmarkClick:k.func.isRequired,onTextClick:k.func.isRequired,renderItems:k.func.isRequired,shouldAnimate:k.bool,title:k.node.isRequired};f.exports=l}),null);
__d("BUIPresetFiltersGroup_DEPRECATED",["ClientIDs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){return 0};function i(j,k,l,m,n,o,p,q){this.$BUIPresetFiltersGroup_DEPRECATED7=j;this.$BUIPresetFiltersGroup_DEPRECATED2=k;this.$BUIPresetFiltersGroup_DEPRECATED6=l;this.$BUIPresetFiltersGroup_DEPRECATED5=m||0;this.$BUIPresetFiltersGroup_DEPRECATED1=n||h;this.$BUIPresetFiltersGroup_DEPRECATED3=o||c("ClientIDs").getNewClientID();this.$BUIPresetFiltersGroup_DEPRECATED4=p===undefined?true:p;this.$BUIPresetFiltersGroup_DEPRECATED8=[];this.$BUIPresetFiltersGroup_DEPRECATED9=q===undefined?false:q}i.prototype.getTitle=function(){return this.$BUIPresetFiltersGroup_DEPRECATED7};i.prototype.getFilters=function(){return this.$BUIPresetFiltersGroup_DEPRECATED2};i.prototype.getID=function(){return this.$BUIPresetFiltersGroup_DEPRECATED3};i.prototype.getMaxItemCount=function(){return this.$BUIPresetFiltersGroup_DEPRECATED5};i.prototype.doCompare=function(j,k){return this.$BUIPresetFiltersGroup_DEPRECATED1(j,k)};i.prototype.doOnChange=function(j,k,l){this.$BUIPresetFiltersGroup_DEPRECATED6(j,k,l)};i.prototype.isCollapsible=function(){return this.$BUIPresetFiltersGroup_DEPRECATED4};i.prototype.hasSeparator=function(){return this.$BUIPresetFiltersGroup_DEPRECATED9};i.prototype.addSubgroup=function(j){this.$BUIPresetFiltersGroup_DEPRECATED8.push(j)};i.prototype.getSubgroups=function(){return this.$BUIPresetFiltersGroup_DEPRECATED8};i.prototype.hasSubgroups=function(){return this.$BUIPresetFiltersGroup_DEPRECATED8.length>0};f.exports=i}),null);
__d("BUIPresetFiltersItem_DEPRECATED",["invariant","ClientIDs"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k,l,m,n,o){this.$BUIPresetFiltersItem_DEPRECATED1=j;this.$BUIPresetFiltersItem_DEPRECATED2=!!k;this.$BUIPresetFiltersItem_DEPRECATED3=!!l;this.$BUIPresetFiltersItem_DEPRECATED4=m;this.$BUIPresetFiltersItem_DEPRECATED5=n;this.$BUIPresetFiltersItem_DEPRECATED6=o||c("ClientIDs").getNewClientID()}i.prototype.getText=function(){return this.$BUIPresetFiltersItem_DEPRECATED1};i.prototype.isChecked=function(){return this.$BUIPresetFiltersItem_DEPRECATED2};i.prototype.isDisabled=function(){return this.$BUIPresetFiltersItem_DEPRECATED3};i.prototype.getFilterReference=function(){return this.$BUIPresetFiltersItem_DEPRECATED4};i.prototype.getID=function(){return this.$BUIPresetFiltersItem_DEPRECATED6};i.prototype.canBeDeleted=function(){return!!this.$BUIPresetFiltersItem_DEPRECATED5};i.prototype.doOnDelete=function(){this.$BUIPresetFiltersItem_DEPRECATED5||h(0);this.$BUIPresetFiltersItem_DEPRECATED5(this)};f.exports=i}),null);
__d("BUIPresetFiltersSelectableItem_DEPRECATED.react",["cx","BUIAdoptionCloseButton.react","BUIPresetFilterModes_DEPRECATED","InlineBlock.react","React","XUIContextualDialog.react","XUIContextualDialogBody.react","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=200;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$BUIPresetFiltersSelectableItem_DEPRECATED2=function(s){this.$BUIPresetFiltersSelectableItem_DEPRECATED1=s}.bind(this),this.$BUIPresetFiltersSelectableItem_DEPRECATED3=function(){return this.$BUIPresetFiltersSelectableItem_DEPRECATED1}.bind(this),this.$BUIPresetFiltersSelectableItem_DEPRECATED5=function(event){event.preventDefault();this.props.onClick(!this.props.checked)}.bind(this),this.$BUIPresetFiltersSelectableItem_DEPRECATED4=function(event){event.preventDefault();c("nullthrows")(this.props.onDelete)();event.stopPropagation()}.bind(this),o}m.prototype.render=function(){var n=!!this.props.disabled,o=(!n?"_24qd":"")+(n?" _25li":""),p="_4yk7"+(this.props.checked?" _3l9i":""),q="_25lj"+(!!this.props.onDelete?" _4ykb":"")+(this.props.checked?" _4ykc":""),r=this.props.onDelete?c("React").createElement(c("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_4ykd",shade:this.isDrawer()?"dark":"light",onClick:this.$BUIPresetFiltersSelectableItem_DEPRECATED4}):null,s=this.props.position==="left"?10:-4,t=this.props.tooltipWidth?this.props.tooltipWidth:l,u=this.props.showTooltip?c("React").createElement(c("XUIContextualDialog.react"),{contextRef:this.$BUIPresetFiltersSelectableItem_DEPRECATED3,hoverContextRef:this.$BUIPresetFiltersSelectableItem_DEPRECATED3,hoverHideDelay:0,onToggle:this.props.onToggle,offsetX:s,position:this.props.position,width:t},c("React").createElement(c("XUIContextualDialogBody.react"),null,this.props.tooltip)):null;return c("React").createElement("li",{"data-testid":this.props["data-testid"]||"",onClick:n?null:this.$BUIPresetFiltersSelectableItem_DEPRECATED5},c("React").createElement("div",{className:o,ref:this.$BUIPresetFiltersSelectableItem_DEPRECATED2},c("React").createElement(c("InlineBlock.react"),{className:p}),c("React").createElement(c("InlineBlock.react"),{className:q},this.props.children),r),u)};m.prototype.isDrawer=function(){return this.props.mode===c("BUIPresetFilterModes_DEPRECATED").DRAWER};m.propTypes={"data-testid":k.string,children:k.any,mode:c("BUIPresetFilterModes_DEPRECATED").propTypes.isRequired,position:k.string};m.defaultProps={mode:c("BUIPresetFilterModes_DEPRECATED").DRAWER,position:"left"};f.exports=m}),null);
__d("BUIPresetFiltersUniqueItem_DEPRECATED.react",["cx","InlineBlock.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$BUIPresetFiltersUniqueItem_DEPRECATED1=function(event){if(this.props.disabled)return;event.preventDefault();this.props.onClick()}.bind(this),n}l.prototype.render=function(){var m="_25l9"+(!this.props.disabled?" _24qd":"")+(this.props.disabled?" _25li":"");return c("React").createElement("div",{className:m,onClick:this.$BUIPresetFiltersUniqueItem_DEPRECATED1,role:"presentation"},c("React").createElement(c("InlineBlock.react"),{className:"_25lj"},this.props.label))};l.propTypes={label:k.node.isRequired,disabled:k.bool.isRequired,onClick:k.func.isRequired};f.exports=l}),null);
__d("BUIPresetFilters_DEPRECATED.react",["cssVar","cx","ix","BUIPopoverSection_DEPRECATED.react","BUIPresetFilterModes_DEPRECATED","BUIPresetFiltersGroup_DEPRECATED","Image.react","immutable","BUIPresetFiltersSelectableItem_DEPRECATED.react","React","ReactDOM","ResponsiveBlock.react","ShimButton.react","BUIPresetFiltersUniqueItem_DEPRECATED.react","curry","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o,p,q=c("React").PropTypes,r=parseInt("32",10),s={mode:c("BUIPresetFilterModes_DEPRECATED").DRAWER};k=babelHelpers.inherits(t,c("React").PureComponent);l=k&&k.prototype;function t(){var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=l.constructor).call.apply(w,[this].concat(z)),this.state={heightList:c("immutable").List(),prevSelected:-1,selected:this.props.isSubgroup?undefined:0},x}t.prototype.render=function(){var w=this.props.maxWidth;return c("React").createElement("div",{className:(this.$BUIPresetFilters_DEPRECATED1()?"_-s3":"")+(this.$BUIPresetFilters_DEPRECATED2()?" _3c-_":""),style:{maxWidth:w}},this.$BUIPresetFilters_DEPRECATED3())};t.prototype.$BUIPresetFilters_DEPRECATED3=function(){var w=this.$BUIPresetFilters_DEPRECATED4(),x=this.$BUIPresetFilters_DEPRECATED5();if(!w)return x;if(this.props.shouldRenderUniqueFiltersFirst)return w.concat(x);return x.concat(w)};t.prototype.$BUIPresetFilters_DEPRECATED6=function(){return c("React").createElement("div",{className:"_nbs",style:{backgroundColor:"#dddfe2",marginBottom:5,marginLeft:5,marginRight:5,marginTop:5}})};t.prototype.$BUIPresetFilters_DEPRECATED5=function(){__p&&__p();return this.props.filterGroups.map(function(w,x){__p&&__p();var y=c("React").createElement(u,{shouldAnimate:this.props.shouldAnimate,className:w.isCollapsible()?"_3tox":"",filterBlacklist:this.props.filterBlacklist,group:w,key:w.getID(),mode:this.props.mode,isPrev:this.state.prevSelected===x,isHidden:this.$BUIPresetFilters_DEPRECATED1()?false:this.state.selected!==x,onHeaderClick:this.$BUIPresetFilters_DEPRECATED7.bind(this,x),ref:x});if(this.props.shouldAnimate){var z=void 0,A=this.state.heightList.get(x,0);if(A!==undefined)z={height:A,marginTop:-1*A};var B=c("React").createElement("div",{className:"_-s4",key:"placeHolder",style:z});return c("React").createElement(c("ResponsiveBlock.react"),{key:w.getID(),onResize:function(){return this.$BUIPresetFilters_DEPRECATED8(x)}.bind(this)},y,B)}else return c("React").createElement("div",{key:w.getID()},y,w.hasSeparator()?this.$BUIPresetFilters_DEPRECATED6():null)}.bind(this))};t.prototype.$BUIPresetFilters_DEPRECATED4=function(){if(!this.props.uniqueFilters)return null;return this.props.uniqueFilters.map(function(w,x){return c("React").createElement(c("BUIPresetFiltersUniqueItem_DEPRECATED.react"),{disabled:!!w.disabled,label:w.label,onClick:w.onClick,key:x})})};t.prototype.$BUIPresetFilters_DEPRECATED1=function(){return this.props.mode===c("BUIPresetFilterModes_DEPRECATED").DRAWER};t.prototype.$BUIPresetFilters_DEPRECATED2=function(){return this.props.mode===c("BUIPresetFilterModes_DEPRECATED").POPOVER};t.prototype.$BUIPresetFilters_DEPRECATED8=function(w){__p&&__p();if(this.state.prevSelected!==w&&(this.state.heightList.get(w)===0||this.state.heightList.get(w)===undefined)){var x=c("nullthrows")(c("ReactDOM").findDOMNode(this.refs[w])),y=x.offsetHeight;if(y>r){var z=this.state.prevSelected;if(z===-1&&w!==0)z=0;var A=this.state.heightList.set(w,y);if(z!==-1)A=A.set(z,0);this.setState({heightList:A,prevSelected:z})}}};t.prototype.$BUIPresetFilters_DEPRECATED7=function(w){if(!this.$BUIPresetFilters_DEPRECATED2())return;this.setState({prevSelected:this.state.selected!=null?this.state.selected:-1});if(this.state.selected===w){var x=this.state.heightList.set(w,0);this.setState({heightList:x})}var y=this.state.selected===w&&this.state.selected!==undefined?{selected:undefined}:{selected:w};this.setState(y)};t.propTypes={className:q.string,filterBlacklist:q.array,filterGroups:q.arrayOf(q.instanceOf(c("BUIPresetFiltersGroup_DEPRECATED"))).isRequired,shouldAnimate:q.bool,uniqueFilters:q.array,mode:c("BUIPresetFilterModes_DEPRECATED").propTypes.isRequired,isSubgroup:q.bool,shouldRenderUniqueFiltersFirst:q.bool,maxWidth:q.string};t.defaultProps=s;m=babelHelpers.inherits(u,c("React").PureComponent);n=m&&m.prototype;function u(){__p&&__p();var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=n.constructor).call.apply(w,[this].concat(z)),this.state=this.$Section1(this.props,null),this.$Section2=function(){this.setState({isHidden:!this.state.isHidden});this.props.onHeaderClick&&this.props.onHeaderClick()}.bind(this),this.$Section3=function(B,C){return this.props.group.getFilters().filter(function(D){if(D.getID()===B.getID())return C;return D.isChecked()})}.bind(this),this.$Section4=function(B){var C=!B.isChecked();this.props.group.doOnChange(this.$Section3(B,C),[B],C)}.bind(this),this.$Section5=function(){var B=false,C=[];this.props.group.getFilters().forEach(function(D){if(D.isChecked()){C.push(D);B=true}});if(B)this.props.group.doOnChange([],C,false)}.bind(this),this.$Section6=function(B){return c("React").createElement("ul",{className:"_3c_0"},B.map(function(C){var D=C.getText(),E=false;if(this.props.filterBlacklist!=null&&this.props.filterBlacklist.includes(D))E=true;return c("React").createElement(c("BUIPresetFiltersSelectableItem_DEPRECATED.react"),{checked:C.isChecked(),disabled:E||C.isDisabled(),key:C.getID(),mode:this.props.mode,onClick:c("curry")(this.$Section4,C),onDelete:C.canBeDeleted()?C.doOnDelete.bind(C):null,"data-testid":"filter-item"+C.getText().toString()},C.getText())}.bind(this)))}.bind(this),this.$Section8=function(B){var C=this.state.howManyToShow;C+=B.getMaxItemCount();this.setState({howManyToShow:C})}.bind(this),x}u.prototype.UNSAFE_componentWillReceiveProps=function(w){this.setState(this.$Section1(w,this.state))};u.prototype.$Section1=function(w,x){var y=w.group,z=w.isHidden!=null?w.isHidden:x?x.isHidden:false,A={};if(y.getMaxItemCount()){var B=y.getFilters().slice(0);B.sort(y.doCompare.bind(y));B.forEach(function(C,D){A[C.getID()]=D+1})}return{filterIDToRankMap:A,howManyToShow:x?x.howManyToShow:y.getMaxItemCount(),isHidden:z}};u.prototype.$Section7=function(w){return c("React").createElement(v,{group:w,onClick:this.$Section8})};u.prototype.render=function(){__p&&__p();var w=this.props.group,x=null;if(w.hasSubgroups())x=c("React").createElement("li",{className:"_-s5"},c("React").createElement(t,{filterGroups:w.getSubgroups(),isSubgroup:true,mode:c("BUIPresetFilterModes_DEPRECATED").POPOVER}));var y=w.getFilters(),z=this.state.howManyToShow,A=null,B=z&&y.length>z;if(B&&!this.state.isHidden){y=y.filter(function(C){return this.state.filterIDToRankMap[C.getID()]<=z}.bind(this));A=this.$Section7(w)}return c("React").createElement(c("BUIPopoverSection_DEPRECATED.react"),{className:this.props.className,filterBlacklist:this.props.filterBlacklist,id:w.getID(),isHidden:this.state.isHidden,isAnyChecked:w.getFilters().some(function(C){return C.isChecked()}),isCollapsible:w.isCollapsible(),onCheckmarkClick:this.$Section5,onTextClick:this.$Section2,mode:this.props.mode,shouldAnimate:this.props.shouldAnimate,title:w.getTitle(),renderItems:c("curry")(this.$Section6,y)},this.state.isHidden?null:x,A)};u.propTypes={filterBlacklist:q.array,group:q.instanceOf(c("BUIPresetFiltersGroup_DEPRECATED")).isRequired,isHidden:q.bool,isPrev:q.bool,mode:c("BUIPresetFilterModes_DEPRECATED").propTypes.isRequired,onHeaderClick:q.func,shouldAnimate:q.bool};o=babelHelpers.inherits(v,c("React").PureComponent);p=o&&o.prototype;function v(){var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=p.constructor).call.apply(w,[this].concat(z)),this.$ShowMoreLink1=function(event){event.preventDefault();this.props.onClick(this.props.group)}.bind(this),x}v.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_-s6",onClick:this.$ShowMoreLink1},c("React").createElement(c("Image.react"),{className:"_-t0",src:j("29095")}))};v.propTypes={group:q.instanceOf(c("BUIPresetFiltersGroup_DEPRECATED")).isRequired};f.exports=t}),null);
__d("BUIFilterTokenInputHelper",["invariant","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterOperatorConfigUtil"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=function i(s){return s},j={},k=[[c("AdsGenericFilterOperator").GREATER_THAN,c("AdsGenericFilterOperator").LESS_THAN,c("AdsGenericFilterOperator").EQUAL,c("AdsGenericFilterOperator").NOT_EQUAL],[c("AdsGenericFilterOperator").CONTAIN,c("AdsGenericFilterOperator").NOT_CONTAIN],[c("AdsGenericFilterOperator").IN_RANGE,c("AdsGenericFilterOperator").NOT_IN_RANGE],[c("AdsGenericFilterOperator").IN,c("AdsGenericFilterOperator").NOT_IN],[c("AdsGenericFilterOperator").BEFORE,c("AdsGenericFilterOperator").AFTER],[c("AdsGenericFilterOperator").ANY,c("AdsGenericFilterOperator").ALL,c("AdsGenericFilterOperator").NONE]];function l(s,t){if(s.name===t.name)return true;return s.type!==c("AdsGenericFilterFieldType").NUMBER_SET&&s.type!==c("AdsGenericFilterFieldType").STRING_SET&&s.type===t.type}function m(s,t){__p&&__p();if(s===t)return true;var u;if(s<t)u=s+","+t;else u=t+","+s;if(u in j)return j[u];var v,w=false,x=k.length;for(v=0;v<x;v++){var y=k[v];if(y.indexOf(s)>-1&&y.indexOf(t)>-1){w=true;break}}j[u]=w;return w}function n(s,t){__p&&__p();var u=t.fieldConfig,v=u?u.field.name:null,w={},x=[],y;if(!u&&s.defaultFilter){var z=s.defaultFilter.field;u=c("AdsGenericFilterFieldConfigUtil").getConfigByField(s.fieldsConfig,z);v=u.field.name}if(s.filterBlacklist)s.filterBlacklist.forEach(function(A){A instanceof c("AdsGenericFilter")||h(0);w[A.field.name]=true});s.validFieldConfigs.forEach(function(A){var B=A.field.name;if(!w[B]){if(B===v)y=true;x.push(A)}});if(!y){u=x[0];t.operatorConfig=undefined}u||h(0);t.fieldConfig=u;t.fieldConfigOptions=x;t.fieldValueRenderer=u.valueRenderer||i;t.fieldValueParser=u.valueParser||i}function o(s,t){__p&&__p();var u=t.fieldConfig;u||h(0);var v=t.operatorConfig,w=v&&v.operator,x=[],y;if(!v&&s.defaultFilter){w=s.defaultFilter.operator;v=c("AdsGenericFilterOperatorConfigUtil").getConfigByOperator(w)}if(u)u.operators.forEach(function(z){if(z.operator===w)y=true;x.push(z)});if(!y)v=x[0];t.operatorConfig=v;t.operatorConfigOptions=x}function p(s,t){__p&&__p();var u=t.fieldConfig,v=t.value,w=t.valueField,x=t.valueOperator,y=q(u);if(v===undefined&&s.defaultFilter){v=u.defaultValue||s.defaultFilter.value;w=s.defaultFilter.field;x=s.defaultFilter.operator}else if(u&&!u.isFieldOnly){var z=t.operatorConfig.operator,A=u.field;if(!x||!z||!m(x,z)||!l(w,A)){x=z;w=A;switch(z){case c("AdsGenericFilterOperator").EQUAL:case c("AdsGenericFilterOperator").NOT_EQUAL:var B=u.values;if(Array.isArray(B)&&B.length)v=B[0].value;else v=y;break;case c("AdsGenericFilterOperator").IN_RANGE:case c("AdsGenericFilterOperator").NOT_IN_RANGE:v=[y,y];break;case c("AdsGenericFilterOperator").IN:case c("AdsGenericFilterOperator").NOT_IN:v=[];break;case c("AdsGenericFilterOperator").ANY:case c("AdsGenericFilterOperator").ALL:case c("AdsGenericFilterOperator").NONE:v=[];break;default:v=y}}}else v=y;t.value=v;t.valueField=w;t.valueOperator=x}function q(s){if(s.isFieldOnly)return s.defaultValue||0;return s.field.type===c("AdsGenericFilterFieldType").DATE_RANGE?null:""}var r={calibrateFieldState:n,calibrateOperatorState:o,calibrateValueState:p};f.exports=r}),null);
__d("ClockFormatConverter",["fbt","invariant","VideoFormattingUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1e3,k=60,l=/^\d\d$/,m=/^\d?\d?$/,n={TIME_SEPARATOR:h._(":"),validate:function o(p,q){__p&&__p();var r=p.split(/:|\./);if(r.length===0)return false;for(var s=0;s<r.length;s++){var t=q&&s===r.length-1||s===0?m:l;if(!t.test(r[s]))return false;if(parseInt(r[s],10)>=k)return false}return true},timestampToSeconds:function o(p){this.validate(p)||i(0);var q=p.split(this.TIME_SEPARATOR),r=void 0,s=0,t=1;while(r=q.pop()){s+=parseInt(r,10)*t;t*=k}return s},timestampToMillis:function o(p){return this.timestampToSeconds(p)*j},secondsToTimestamp:function o(p){if(p===0)return"0"+this.TIME_SEPARATOR+"00";return c("VideoFormattingUtils").formatTime(p)},millisToTimestamp:function o(p){return this.secondsToTimestamp(p/j)},normalize:function o(p){var q=this.timestampToSeconds(p);return this.secondsToTimestamp(q)},normalizedSecondsTimestamp:function o(p){var q=p.split(this.TIME_SEPARATOR).map(function(r){return r.length===1?"0"+r:r});return this.normalize(q.join(this.TIME_SEPARATOR))},normalizeMinutesTimestamp:function o(p){var q=p.split(this.TIME_SEPARATOR);if(q.length===1)q.push("00");else for(var r=1;r<q.length;r++)q[r]=("00"+q[r]).slice(-2);return this.normalize(q.join(this.TIME_SEPARATOR))}};f.exports=n}),null);
__d("BUIFilterTokenTextInput.react",["cx","fbt","BUIComponent","ClockFormatConverter","ContextualDialog.react","Keys","React","ReactDOM","focusNode"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=/^-?\d+\.?\d*$/;j=babelHelpers.inherits(n,c("BUIComponent"));k=j&&j.prototype;function n(p){k.constructor.call(this,p);o.call(this);this.$BUIFilterTokenTextInput1=null;this.state={focused:false,tempValue:null,tooltip:null}}n.prototype.componentDidMount=function(){if(this.props.shouldFocus)this.$BUIFilterTokenTextInput2()};n.prototype.UNSAFE_componentWillReceiveProps=function(p){if(p.shouldFocus&&!this.state.focused)this.$BUIFilterTokenTextInput2()};n.prototype.componentWillUnmount=function(){clearTimeout(this.$BUIFilterTokenTextInput1)};n.prototype.$BUIFilterTokenTextInput2=function(){var p=c("ReactDOM").findDOMNode(this.refs.input);if(p instanceof HTMLElement)this.$BUIFilterTokenTextInput1=setTimeout(function(){c("focusNode")(p);this.$BUIFilterTokenTextInput1=null}.bind(this),400)};n.prototype.renderLayers=function(){if(this.state.tooltip)return c("React").createElement(c("ContextualDialog.react"),{contextRef:function(){return this.refs.main}.bind(this),shown:true,position:"above",key:"layer"},c("React").createElement("div",{className:"_48f_"},this.state.tooltip));else return null};n.prototype.render=function(){var p=this.$BUIFilterTokenTextInput3(this.props.value),q=this.props.placeholder||"",r="_48g0"+(this.state.focused?" _48g1":""),s="_48g2"+(!!p?" _48g3":"");return c("React").createElement("span",{className:"_4m56"},c("React").createElement("div",{className:r,ref:"main"},c("React").createElement("div",{"aria-hidden":"true",className:"_48g4"},(p||"-").replace(/\s/g,"-")),c("React").createElement("div",{"aria-hidden":"true",className:"_48g5"},q.replace(/\s/g,"-")),c("React").createElement("div",{className:"_48g6"},c("React").createElement("input",{"data-testid":"filter-token-text-input",title:q,placeholder:q,onKeyDown:this.$BUIFilterTokenTextInput4,onFocus:this.$BUIFilterTokenTextInput5,onBlur:this.$BUIFilterTokenTextInput6,onChange:this.$BUIFilterTokenTextInput7,className:s,type:"text",value:this.state.tempValue!==null?this.state.tempValue:p,ref:"input"}))),this.renderLayers())};n.prototype.$BUIFilterTokenTextInput3=function(p){if(p)switch(this.props.format){case"number":p=m.test(p)?p:"";break;case"duration":p=c("ClockFormatConverter").validate(p,true)?p:"";break}return p};n.propTypes={format:l.oneOf(["string","number","currency","duration"]),label:l.string,shouldFocus:l.bool,value:l.string.isRequired,onChange:l.func.isRequired,onEnter:l.func,onEscape:l.func};var o=function o(){__p&&__p();this.$BUIFilterTokenTextInput4=function(event){if(event.keyCode===c("Keys").RETURN&&this.props.onEnter)this.props.onEnter(event);else if(event.keyCode===c("Keys").ESC&&this.props.onEscape)this.props.onEscape(event)}.bind(this);this.$BUIFilterTokenTextInput7=function(event){__p&&__p();var p=event.target.value,q=this.$BUIFilterTokenTextInput3(p);if(p!==q){event.preventDefault();if(this.state.tooltip===null){var r;switch(this.props.format){case"number":r=i._("Please enter numbers only");break;case"duration":r=i._("Please use clock format (mm{Time Separator}ss)",[i._param("Time Separator",c("ClockFormatConverter").TIME_SEPARATOR)]);break;default:return}this.setState({tooltip:r})}return}if(this.state.tooltip)this.setState({tooltip:null});if(this.props.format==="currency")this.setState({tempValue:q});this.props.onChange(q)}.bind(this);this.$BUIFilterTokenTextInput5=function(){this.setState({focused:true})}.bind(this);this.$BUIFilterTokenTextInput6=function(){this.setState(function(p,q){return{focused:false,tooltip:null,tempValue:q.format==="currency"?null:p.tempValue}})}.bind(this)};f.exports=n}),null);
__d("BUIFilterTokenTextSetSelector.react",["cx","fbt","invariant","AdsCFCheckbox.react","BUIComponent","ContextualLayer.react","LayerHideOnBlur","React","ScrollableArea.react","XUIButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=c("React").PropTypes;k=babelHelpers.inherits(p,c("BUIComponent"));l=k&&k.prototype;function p(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={showMenu:false},this.$BUIFilterTokenTextSetSelector1=function(){this.setState(function(w){return{showMenu:!w.showMenu}})}.bind(this),this.$BUIFilterTokenTextSetSelector2=function(w,x,y){__p&&__p();var z=[];c("React").Children.forEach(this.props.children,function(A,B){var C="option_"+B;if(C===x){if(w)z.push(A.props.value)}else if(A.props.checked)z.push(A.props.value)});this.props.onChange(z)}.bind(this),s}p.prototype.render=function(){var r=[];c("React").Children.forEach(this.props.children,function(u){u&&u.type===p.Option||j(0);if(u.props.checked)r.push(u.props.text)});var s=r.length?r.join(", "):i._("choose from..."),t=c("joinClasses")("_3nk6",this.props.className);return c("React").createElement("span",{className:t},c("React").createElement(c("XUIButton.react"),{use:"default",className:"_3nk7",ref:"menuOpener",onClick:this.$BUIFilterTokenTextSetSelector1,label:s,suppressed:true}),this.renderLayers())};p.prototype.renderLayers=function(){if(this.state.showMenu){var r=c("React").Children.map(this.props.children,function(s,t){return c("React").cloneElement(s,{optionName:"option_"+t,onOptionChange:this.$BUIFilterTokenTextSetSelector2})}.bind(this));return c("React").createElement(c("ContextualLayer.react"),{key:"menu",onToggle:this.$BUIFilterTokenTextSetSelector1,behaviors:{LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.menuOpener}.bind(this),position:"below",shown:this.state.showMenu},c("React").createElement(c("ScrollableArea.react"),{className:"_25sp",maxHeight:190,role:"menu"},r))}else return null};p.propTypes={onChange:o.func.isRequired};p.Option=q;m=babelHelpers.inherits(q,c("React").Component);n=m&&m.prototype;q.prototype.render=function(){return c("React").createElement("div",{className:"_25sq","aria-selected":this.props.checked},c("React").createElement(c("AdsCFCheckbox.react"),{name:this.props.optionName,onChange:this.props.onOptionChange,checked:this.props.checked,value:this.props.value,label:this.props.text}))};function q(){m.apply(this,arguments)}q.propTypes={checked:o.bool.isRequired,text:o.string.isRequired,value:o.oneOfType([o.string,o.number,o.object])};f.exports=p}),null);
__d("BUIFilterTokenTypeaheadInput.react",["cx","fbt","invariant","AbstractSearchSource","BUIComponent","React","SearchableEntry","XUIText.react","XUITokenizer.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=20;k=babelHelpers.inherits(o,c("BUIComponent"));l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$BUIFilterTokenTypeaheadInput2=function(u){if(this.$BUIFilterTokenTypeaheadInput6(u))return;var v=Array.from(this.props.entries);v.push(u);this.props.onChange(v)}.bind(this),this.$BUIFilterTokenTypeaheadInput3=function(u){var v=void 0,w=this.props.entries.indexOf(u);if(w>-1){v=Array.from(this.props.entries);v.splice(w,1)}this.props.onChange(v)}.bind(this),q}o.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("XUITokenizer.react"),{limit:this.$BUIFilterTokenTypeaheadInput1(),entries:this.props.entries,focusedOnInit:this.props.focusedOnInit,onAddEntryAttempt:this.$BUIFilterTokenTypeaheadInput2,onRemoveEntryAttempt:this.$BUIFilterTokenTypeaheadInput3,placeholder:this.props.placeholder,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,className:this.props.className}),this.$BUIFilterTokenTypeaheadInput4())};o.prototype.$BUIFilterTokenTypeaheadInput1=function(){this.props.maxTypeaheadTokens==null||this.props.maxTypeaheadTokens>0||j(0);return this.props.maxTypeaheadTokens||n};o.prototype.$BUIFilterTokenTypeaheadInput5=function(){return this.props.entries.length===this.$BUIFilterTokenTypeaheadInput1()};o.prototype.$BUIFilterTokenTypeaheadInput6=function(p){var q=p.getUniqueID(),r=this.props.entries;return r.some(function(p){return p.getUniqueID()===q})};o.prototype.$BUIFilterTokenTypeaheadInput4=function(){if(!this.$BUIFilterTokenTypeaheadInput5())return null;return c("React").createElement("div",{className:"_2pid"},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},i._("You've added the maximum number of tokens.")))};o.defaultProps={focusedOnInit:true,placeholder:i._("Add tokens, e.g. football, childcare etc.")};o.propTypes={entries:m.arrayOf(m.instanceOf(c("SearchableEntry"))).isRequired,focusedOnInit:m.bool,maxTypeaheadTokens:m.number,onChange:m.func.isRequired,placeholder:m.node.isRequired,presenter:m.object,searchSource:m.instanceOf(c("AbstractSearchSource")).isRequired,searchSourceOptions:m.object};f.exports=o}),null);
__d("BUIFilterTokenInput.react",["ix","csx","cx","fbt","glyph","invariant","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterFieldType","AdsGenericFilterOperator","BUIAdoptionCloseButton.react","BUIComponent","BUIDatePicker.react","BUIDateRangePicker.react","BUIDateRangeUtils","BUIFilterTokenInputHelper","BUIFilterTokenTextInput.react","BUIFilterTokenTextSetSelector.react","BUIFilterTokenTypeaheadInput.react","ClockFormatConverter","DOM","Event","Image.react","LocalDate","LocalDateInterval","Parent","React","ReactDOM","Rect","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUISelectorOptionGroup.react","SUISelectorSeparator.react","SUISimplePopover.react","Timezone","XUIButton.react","XUISelector.react","XUISpinner.react","XUIMenuStaticItem.react","XUISelectorButton.react","autoFlipStyleProps","compactArray","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n,o,p,q,r,s,t=c("XUISelector.react").Option,u=c("BUIDateRangeUtils").isSameInterval,v=c("React").PropTypes,w=c("BUIFilterTokenTextSetSelector.react").Option,x=function x(C){var D=parseInt(C,10);if(!isNaN(D))return c("LocalDate").fromUTCDate(new Date(D));return null},y={applyOnly:false,autoOpenFieldSelector:false,confirmOnBlur:false,dismissOnBlur:true};n=babelHelpers.inherits(z,c("BUIComponent"));o=n&&n.prototype;function z(C){__p&&__p();o.constructor.call(this);this.$BUIFilterTokenInput5=function(){if(!this.props.useSUI_EXPERIMENTAL)this.refs.fieldSelector.showMenu()}.bind(this);this.$BUIFilterTokenInput21=function(D){!D.isDynamic||m(0);var E=!this.props.canAddStandalone,F=D.adsHelpLinkText?{tooltip:D.adsHelpLinkText}:{};return c("React").createElement(c("SUISelectorOption.react"),babelHelpers["extends"]({disabled:D.isStandalone&&E,icon:this.$BUIFilterTokenInput14(D.iconURI,D.largeIcon),key:"field_option_"+D.field.toString()},F,{value:D}),D.text)}.bind(this);this.$BUIFilterTokenInput16=function(){var D=this.state.fieldValueRenderer;switch(this.state.fieldConfig.field.type){case c("AdsGenericFilterFieldType").CURRENCY:return this.$BUIFilterTokenInput29("currency");case c("AdsGenericFilterFieldType").NUMBER:return this.$BUIFilterTokenInput29("number");case c("AdsGenericFilterFieldType").DURATION:return this.$BUIFilterTokenInput29("duration");case c("AdsGenericFilterFieldType").STRING_SET:case c("AdsGenericFilterFieldType").NUMBER_SET:return this.$BUIFilterTokenInput30();case c("AdsGenericFilterFieldType").DATE_RANGE:return this.$BUIFilterTokenInput31();case c("AdsGenericFilterFieldType").TOKENIZED_TYPEAHEAD:return this.$BUIFilterTokenInput32();default:return c("React").createElement(c("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput33,onEscape:this.props.onCancel,value:D(this.state.value),onChange:this.$BUIFilterTokenInput34,format:"string",shouldFocus:this.state.shouldFocusInput})}}.bind(this);this.$BUIFilterTokenInput30=function(){var D=this.state.fieldConfig,E=this.state.fieldValueRenderer,F=void 0;switch(this.state.operatorConfig.operator){case c("AdsGenericFilterOperator").EQUAL:case c("AdsGenericFilterOperator").NOT_EQUAL:F=D.values.map(function(G){return c("React").createElement(t,{value:G.value,key:G.value},G.text||E(G.value))});return c("React").createElement(A,{className:"_5b5s",key:"value_set_selector_"+D.field.name,onChange:this.$BUIFilterTokenInput39,defaultValue:this.state.value},F);default:F=D.values.map(function(G){var H=this.state.value.indexOf(G.value)>-1;return c("React").createElement(w,{value:G.value,key:G.value,text:G.text||E(G.value),checked:H})}.bind(this));return c("React").createElement(c("BUIFilterTokenTextSetSelector.react"),{className:"_5b5s _bm6",onChange:this.$BUIFilterTokenInput40},F)}}.bind(this);this.$BUIFilterTokenInput41=function(D){var E=D&&D.length?D:"";this.$BUIFilterTokenInput42({value:E})}.bind(this);this.$BUIFilterTokenInput43=function(){var D=this.state.operatorConfig.operator;switch(D){case c("AdsGenericFilterOperator").GREATER_THAN:case c("AdsGenericFilterOperator").LESS_THAN:var E=this.state.value;if(!E||!Number(E))return false;break}return this.$BUIFilterTokenInput44()}.bind(this);this.$BUIFilterTokenInput44=function(){__p&&__p();if(this.state.fieldConfig.isFieldOnly)return true;var D=this.state.value;if(D){var E=this.state.operatorConfig.operator;switch(E){case c("AdsGenericFilterOperator").IN_RANGE:case c("AdsGenericFilterOperator").NOT_IN_RANGE:if(!D[0]||!D[1]||Number(D[1])<=Number(D[0]))return false;break;case c("AdsGenericFilterOperator").IN:case c("AdsGenericFilterOperator").NOT_IN:case c("AdsGenericFilterOperator").ANY:case c("AdsGenericFilterOperator").NONE:case c("AdsGenericFilterOperator").ALL:if(!Array.isArray(D)||!D.length)return false;break}var F=this.state.fieldConfig.field.type;switch(F){case c("AdsGenericFilterFieldType").DURATION:if(!c("ClockFormatConverter").validate(D))return false;break}return true}else return false}.bind(this);this.$BUIFilterTokenInput11=function(){if(this.$BUIFilterTokenInput44()){var D=this.props.defaultFilter?k._("Apply"):k._("Add");return c("React").createElement(c("XUIButton.react"),{className:"_5b5u _5b5v",label:D,use:"default",onClick:this.$BUIFilterTokenInput45})}return null}.bind(this);this.$BUIFilterTokenInput33=function(event){if(this.$BUIFilterTokenInput44())this.$BUIFilterTokenInput45(event)}.bind(this);this.$BUIFilterTokenInput45=function(event){event.preventDefault();var D=this.state.fieldConfig.converter;if(D)this.setState({value:D.toIds(this.state.value)},function(){this.props.onSubmit(this.state.fieldConfig.field,this.state.operatorConfig.operator,this.state.value)});else this.props.onSubmit(this.state.fieldConfig.field,this.state.operatorConfig.operator,this.state.value)}.bind(this);this.$BUIFilterTokenInput46=function(event){event.preventDefault();this.props.onCancel&&this.props.onCancel()}.bind(this);this.$BUIFilterTokenInput42=function(D){var E=babelHelpers["extends"]({},this.state,D);this.setState(this.$BUIFilterTokenInput1(this.props,E))}.bind(this);this.$BUIFilterTokenInput47=function(D){var E=this.state.fieldValueParser;return E(D)}.bind(this);this.$BUIFilterTokenInput27=function(D){this.$BUIFilterTokenInput42({fieldConfig:D.value,shouldFocusInput:true})}.bind(this);this.$BUIFilterTokenInput28=function(D){this.$BUIFilterTokenInput42({operatorConfig:D.value,shouldFocusInput:true})}.bind(this);this.$BUIFilterTokenInput26=function(D){this.$BUIFilterTokenInput42({fieldConfig:D,shouldFocusInput:true})}.bind(this);this.$BUIFilterTokenInput19=function(D){this.$BUIFilterTokenInput42({operatorConfig:D,shouldFocusInput:true})}.bind(this);this.$BUIFilterTokenInput34=function(D){this.$BUIFilterTokenInput42({value:this.$BUIFilterTokenInput47(D)})}.bind(this);this.$BUIFilterTokenInput38=function(D){var E=D.toUTCDate();this.$BUIFilterTokenInput42({value:this.$BUIFilterTokenInput47(E.getTime())})}.bind(this);this.$BUIFilterTokenInput37=function(D){var E=D.interval,F=E.start.toUTCDate(),G=E.end.toUTCDate(),H=[this.$BUIFilterTokenInput47(F.getTime()),this.$BUIFilterTokenInput47(G.getTime())];this.$BUIFilterTokenInput42({value:H})}.bind(this);this.$BUIFilterTokenInput35=function(D){this.$BUIFilterTokenInput42({value:[this.$BUIFilterTokenInput47(D),this.state.value[1]],shouldFocusInput:false})}.bind(this);this.$BUIFilterTokenInput36=function(D){this.$BUIFilterTokenInput42({value:[this.state.value[0],this.$BUIFilterTokenInput47(D)]})}.bind(this);this.$BUIFilterTokenInput39=function(D){this.$BUIFilterTokenInput42({value:this.$BUIFilterTokenInput47(D.value)})}.bind(this);this.$BUIFilterTokenInput40=function(D){this.$BUIFilterTokenInput42({value:D.map(this.$BUIFilterTokenInput47,this)})}.bind(this);this.$BUIFilterTokenInput48=function(event){__p&&__p();if(!this.props.dismissOnBlur&&!this.props.confirmOnBlur)return;var D=event.target,E=c("ReactDOM").findDOMNode(this);if(c("DOM").contains(E,D)||c("Parent").bySelector(D,"._1t-2")||c("Parent").bySelector(D,"._5b5q")||c("Parent").bySelector(D,"._5mwk")||c("Parent").bySelector(D,"._5c02")||c("Parent").bySelector(D,"._58zx"))return;var F=D;while(F&&F.nodeType===1){F=F;if(F.getAttribute("role")==="menu")return;F=F.parentNode}var G=c("Rect").getElementBounds(E),H=20;G=new(c("Rect"))(G.t-H,G.r+H,G.b+H,G.l-H);var I=c("Rect").getElementBounds(D);if(G.contains(I))return;this.setState({shouldFocusInput:false});if(this.props.confirmOnBlur&&this.$BUIFilterTokenInput43())this.$BUIFilterTokenInput45(event);else if(this.props.dismissOnBlur&&this.props.onCancel)this.props.onCancel()}.bind(this);this.$BUIFilterTokenInput4=function(){if(!this.$BUIFilterTokenInput49)this.$BUIFilterTokenInput49=c("Event").listen(document,"click",this.$BUIFilterTokenInput48)}.bind(this);this.$BUIFilterTokenInput6=function(){if(this.$BUIFilterTokenInput49){this.$BUIFilterTokenInput49.remove();this.$BUIFilterTokenInput49=null}}.bind(this);this.state=this.$BUIFilterTokenInput1(C,{shouldFocusInput:!C.applyOnly})}z.prototype.componentDidMount=function(){this.$BUIFilterTokenInput2=setTimeout(this.$BUIFilterTokenInput4,16);if(this.props.autoOpenFieldSelector&&!this.props.applyOnly)this.$BUIFilterTokenInput3=setTimeout(this.$BUIFilterTokenInput5,200)};z.prototype.componentWillUnmount=function(){clearTimeout(this.$BUIFilterTokenInput2);clearTimeout(this.$BUIFilterTokenInput3);this.$BUIFilterTokenInput6()};z.prototype.UNSAFE_componentWillReceiveProps=function(C){if(String(C.defaultFilter)!==String(this.props.defaultFilter))this.setState(this.$BUIFilterTokenInput1(C,{}));else this.setState(this.$BUIFilterTokenInput1(C,this.state))};z.prototype.render=function(){if(!this.state.fieldConfig)return c("React").createElement("i",{className:"hidden_elem"});var C=c("joinClasses")("_5b5o",this.props.className);if(this.props.applyOnly)return this.$BUIFilterTokenInput7(C);else if(this.state.fieldConfig.isFieldOnly)return this.$BUIFilterTokenInput8(C);else return this.$BUIFilterTokenInput9(C)};z.prototype.$BUIFilterTokenInput8=function(C){return c("React").createElement("div",{className:C},this.$BUIFilterTokenInput10(),this.$BUIFilterTokenInput11(),this.$BUIFilterTokenInput12())};z.prototype.$BUIFilterTokenInput7=function(C){C=c("joinClasses")(C,"_4cld");return c("React").createElement("div",{className:C},this.$BUIFilterTokenInput13(),this.$BUIFilterTokenInput11())};z.prototype.$BUIFilterTokenInput13=function(){!!this.props.defaultFilter||m(0);var C=c("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,this.props.defaultFilter.field),D=C.helpText,E=C.iconURI,F=C.largeIcon,G=C.text,H=this.props.defaultFilter.value,I=D?c("React").createElement(c("SUISimplePopover.react"),{content:D,contentWidthUseSparingly:168,position:"below",theme:c("SUIBusinessTheme")}):null;return c("React").createElement("div",{className:"_5b5t _2d2k"},this.$BUIFilterTokenInput14(E,F),c("React").createElement("div",{className:"_5b5r"},k._("{field}: ({value})",[k._param("field",G),k._param("value",H.length)]),I))};z.prototype.$BUIFilterTokenInput9=function(C){return this.props.expandTokenInput?c("React").createElement("div",{className:C},c("React").createElement("div",null,this.$BUIFilterTokenInput10(),this.$BUIFilterTokenInput15(),this.$BUIFilterTokenInput16(),this.$BUIFilterTokenInput11()),c("React").createElement("div",{style:{marginTop:2}},this.$BUIFilterTokenInput12())):c("React").createElement("div",{className:C},this.$BUIFilterTokenInput10(),this.$BUIFilterTokenInput15(),this.$BUIFilterTokenInput16(),this.$BUIFilterTokenInput11(),this.$BUIFilterTokenInput12())};z.prototype.$BUIFilterTokenInput14=function(C,D){if(!C)return null;return c("React").createElement(c("Image.react"),{className:"_5b5p"+(!!D?" _4gem":""),src:C})};z.prototype.$BUIFilterTokenInput17=function(C){this.props.useSUI_EXPERIMENTAL||m(0);return c("React").createElement(c("SUISelectorButton.react"),{height:"short",label:c("React").createElement("div",{"data-hover":"tooltip","data-tooltip-display":"overflow"},C),style:c("autoFlipStyleProps")({marginRight:"4px"}),textAlign:"center",uniformOverride:{chevron:c("React").createElement("span",null),padding:"4px",margins:{label:{right:"0"}}}})};z.prototype.$BUIFilterTokenInput18=function(){this.props.useSUI_EXPERIMENTAL||m(0);var C=this.state.operatorConfigOptions.map(function(D){return c("React").createElement(c("SUISelectorOption.react"),{value:D,key:"operator_"+D.operator},D.text)});return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("SUISelector.react"),{button:this.$BUIFilterTokenInput17(this.state.operatorConfig.text),key:"operator_"+this.state.fieldConfig.field.name,maxHeight:400,value:this.state.operatorConfig,onChange:this.$BUIFilterTokenInput19},C))};z.prototype.$BUIFilterTokenInput20=function(C,D){var E=D.get(C);if(!E)return null;return this.$BUIFilterTokenInput21(E)};z.prototype.$BUIFilterTokenInput22=function(C,D){switch(C.type){case"separator":return c("React").createElement(c("SUISelectorSeparator.react"),null);case"item":return this.$BUIFilterTokenInput20(C.item,D);case"group":var E=c("compactArray")(C.children.map(function(F){return this.$BUIFilterTokenInput20(F,D)}.bind(this)));return this.$BUIFilterTokenInput23(C.group,C.label,E)}return m(false,"Unsupported item type: %s",C.type)};z.prototype.$BUIFilterTokenInput24=function(C,D){if(!D)return C.map(this.$BUIFilterTokenInput21);var E=new Map();C.forEach(function(F){var G=F.field.toString();!E.has(G)||m(0);E.set(G,F)});return c("compactArray")(D.map(function(F){return this.$BUIFilterTokenInput22(F,E)}.bind(this)))};z.prototype.$BUIFilterTokenInput23=function(C,D,E){return c("React").createElement(c("SUISelectorOptionGroup.react"),{key:C,label:D},E)};z.prototype.$BUIFilterTokenInput25=function(){this.props.useSUI_EXPERIMENTAL||m(0);var C=this.$BUIFilterTokenInput24(this.state.fieldConfigOptions,this.props.fieldGroupingConfig);return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("SUISelector.react"),{button:this.$BUIFilterTokenInput17(this.state.fieldConfig.text),disabled:this.props.disableFieldSelector,dropdownWidth:240,key:"field_"+this.state.fieldConfig.field.toString(),maxHeight:400,shouldOpenAutomatically:this.props.autoOpenFieldSelector,value:this.state.fieldConfig,onChange:this.$BUIFilterTokenInput26},C))};z.prototype.$BUIFilterTokenInput10=function(){__p&&__p();if(this.props.useSUI_EXPERIMENTAL)return this.$BUIFilterTokenInput25();var C=this.state.fieldConfigOptions.map(function(D){__p&&__p();var E=t,F=void 0,G=void 0;if(D.iconURI)F=this.$BUIFilterTokenInput14(D.iconURI,D.largeIcon);if(D.isDynamic){if(D.values===undefined){E=c("XUIMenuStaticItem.react");F=c("React").createElement(c("XUISpinner.react"),null)}if(D.values===null){E=c("XUIMenuStaticItem.react");F=c("React").createElement(c("Image.react"),{className:"_5b5p",src:h("101449")})}}if(D.adsHelpLinkText)G=c("React").createElement(c("SUISimplePopover.react"),{content:D.adsHelpLinkText,theme:c("SUIBusinessTheme")});return c("React").createElement(E,{disabled:D.isStandalone&&!this.props.canAddStandalone,value:D,key:"field_option_"+D.field.toString()},c("React").createElement("div",{className:"_5b5q"},F,c("React").createElement("div",{className:"ellipsis _5b5r","data-hover":"tooltip","data-tooltip-display":"overflow"},D.text,G)))}.bind(this));return c("React").createElement(A,{className:"_5b5s",defaultValue:this.state.fieldConfig,key:"field_"+this.state.fieldConfig.field.toString(),ref:"fieldSelector",disabled:this.props.disableFieldSelector,onChange:this.$BUIFilterTokenInput27},C)};z.prototype.$BUIFilterTokenInput15=function(){if(this.props.useSUI_EXPERIMENTAL)return this.$BUIFilterTokenInput18();var C=this.state.operatorConfigOptions.map(function(D){return c("React").createElement(t,{value:D,key:"operator_"+D.operator},c("React").createElement("div",{className:"_5b5q"},D.text))});return c("React").createElement(A,{key:"operator_"+this.state.fieldConfig.field.name,className:"_5b5s",onChange:this.$BUIFilterTokenInput28,defaultValue:this.state.operatorConfig},C)};z.prototype.$BUIFilterTokenInput29=function(C){if(Array.isArray(this.state.fieldConfig.values))return this.$BUIFilterTokenInput30();var D=this.state.value,E=this.state.fieldValueRenderer;switch(this.state.valueOperator){case c("AdsGenericFilterOperator").IN_RANGE:case c("AdsGenericFilterOperator").NOT_IN_RANGE:return c("React").createElement("div",{className:"_5b5t"},c("React").createElement(c("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput33,onEscape:this.props.onCancel,value:E(D[0]),onChange:this.$BUIFilterTokenInput35,format:C,shouldFocus:this.state.shouldFocusInput}),c("React").createElement("span",{className:"_60-g"},"\u2013"),c("React").createElement(c("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput33,onEscape:this.props.onCancel,value:E(D[1]),onChange:this.$BUIFilterTokenInput36,format:C}));default:return c("React").createElement(c("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput33,onEscape:this.props.onCancel,value:E(D),onChange:this.$BUIFilterTokenInput34,format:C,shouldFocus:this.state.shouldFocusInput})}};z.prototype.$BUIFilterTokenInput31=function(){this.props.timezoneID==null;if(this.state.operatorConfig.operator===c("AdsGenericFilterOperator").IN_RANGE){var C=null,D=x(this.state.value[0]),E=x(this.state.value[1]);if(D&&E)C=new(c("LocalDateInterval"))(D,E);return c("React").createElement(B,{onChange:this.$BUIFilterTokenInput37,timezoneID:this.props.timezoneID||c("Timezone").UTC,value:{interval:C}})}return c("React").createElement(c("BUIDatePicker.react"),{value:x(this.state.value),onChange:this.$BUIFilterTokenInput38})};z.prototype.$BUIFilterTokenInput32=function(){var C=this.state.value,D=this.state.fieldConfig.converter;if(D)C=D.toEntries(C,this.state.fieldConfig.values);return c("React").createElement(c("BUIFilterTokenTypeaheadInput.react"),{className:this.state.fieldConfig.className,entries:C||[],onChange:this.$BUIFilterTokenInput41,placeholder:this.state.fieldConfig.placeholder,presenter:this.state.fieldConfig.presenter,searchSource:this.state.fieldConfig.searchSource,searchSourceOptions:this.state.fieldConfig.searchSourceOptions})};z.prototype.$BUIFilterTokenInput12=function(){return c("React").createElement(c("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_3-8h",onClick:this.$BUIFilterTokenInput46})};z.prototype.$BUIFilterTokenInput1=function(C,D){c("BUIFilterTokenInputHelper").calibrateFieldState(C,D);c("BUIFilterTokenInputHelper").calibrateOperatorState(C,D);c("BUIFilterTokenInputHelper").calibrateValueState(C,D);return D};z.propTypes={autoOpenFieldSelector:v.bool,defaultFilter:v.instanceOf(c("AdsGenericFilter")),filterBlacklist:v.array,onSubmit:v.func.isRequired,onCancel:v.func,validFieldConfigs:v.array.isRequired,fieldsConfig:v.object.isRequired,timezoneID:v.number,applyOnly:v.bool.isRequired,confirmOnBlur:v.bool.isRequired,dismissOnBlur:v.bool.isRequired,hideMenuOnSingleItem:v.bool,disableFieldSelector:v.bool,canAddStandalone:v.bool,useSUI_EXPERIMENTAL:v.bool,fieldGroupingConfig:v.array,expandTokenInput:v.bool};z.defaultProps=y;p=babelHelpers.inherits(A,c("React").Component);q=p&&p.prototype;A.prototype.render=function(){var C=this.props.children.length==1&&this.props.hideMenuOnSingleItem;return c("React").createElement(c("XUISelector.react"),{className:this.props.className,onChange:this.props.onChange,defaultValue:this.props.defaultValue,disabled:C||this.props.disabled,ref:"selector"},c("React").createElement(c("XUISelectorButton.react"),{maxwidth:500,className:"_bm6",haschevron:false,suppressed:true}),this.props.children)};A.prototype.showMenu=function(){this.refs.selector.showMenu()};function A(){p.apply(this,arguments)}r=babelHelpers.inherits(B,c("React").Component);s=r&&r.prototype;function B(C){s.constructor.call(this,C);this.$DateRangePicker2=function(D){this.setState({value:D});this.props.onChange(D)}.bind(this);this.state={value:B.$DateRangePicker1(C)}}B.prototype.UNSAFE_componentWillReceiveProps=function(C){this.setState(function(D){var E=B.$DateRangePicker1(C);return u(D.value.interval,E.interval)?undefined:{value:E}})};B.$DateRangePicker1=function(C){var D=c("BUIDateRangeUtils").calculateSelectedOption({dateRestraints:C.dateRestraints,defaultIncludeToday:false,options:c("BUIDateRangePicker.react").defaultProps.options,timezoneID:C.timezoneID,value:C.value&&C.value.interval});return c("BUIDateRangeUtils").rangeSelectionToValue(D)};B.prototype.render=function(){return c("React").createElement(c("BUIDateRangePicker.react"),{onChange:this.$DateRangePicker2,timezoneID:this.props.timezoneID,value:this.state.value,verbose:"all"})};B.propTypes={value:v.shape({interval:v.instanceOf(c("LocalDateInterval"))})};f.exports=z}),null);
__d("BUIFilterToken.react",["ix","cx","fbt","invariant","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterOperatorConfigUtil","AdsGenericFilterValueTextUtil","AdsPopoverLink_DEPRECATED.react","BUIAdoptionCloseButton.react","BUIComponent","BUIFilterTokenInput.react","Image.react","React","ReactDOM","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o=4;l=babelHelpers.inherits(p,c("BUIComponent"));m=l&&l.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=m.constructor).call.apply(q,[this].concat(t)),this.$BUIFilterToken11=function(){if(this.props.onEditCancelAttempt)this.props.onEditCancelAttempt(this.props.filter,this.props.index)}.bind(this),this.$BUIFilterToken17=function(event){event.preventDefault();if(!this.$BUIFilterToken1()&&!this.$BUIFilterToken2()&&this.props.onEditAttempt)this.props.onEditAttempt(this.props.filter,this.props.index)}.bind(this),this.$BUIFilterToken19=function(event){event.preventDefault();this.props.onRemove(this.props.filter,this.props.index)}.bind(this),this.$BUIFilterToken10=function(v,w,x){if(this.props.filterConstructor==null)return;var y=new this.props.filterConstructor(v,w,x);this.props.onChange(y,this.props.index)}.bind(this),r}p.prototype.render=function(){var q=this.props.contentEditable,r="_3yz1"+(q?" _3yz2":"")+(!this.$BUIFilterToken1()&&!this.$BUIFilterToken2()?" _4tod":"")+(this.$BUIFilterToken1()?" _3dad":"")+(this.$BUIFilterToken3()?" _2sy-":"")+(this.$BUIFilterToken4()?" _5k1u":""),s=this.$BUIFilterToken5();return c("React").createElement("div",{className:r},c("React").createElement("div",{className:"_3yz4",ref:"filterToken","aria-hidden":!q},this.$BUIFilterToken6(),this.$BUIFilterToken7(),this.$BUIFilterToken8(),this.$BUIFilterToken9()),s)};p.prototype.$BUIFilterToken5=function(){if(this.props.contentEditable)return c("React").createElement(c("BUIFilterTokenInput.react"),{ref:"filterTokenInput",applyOnly:this.$BUIFilterToken1(),className:"_3yz3",defaultFilter:this.props.filter,confirmOnBlur:this.props.confirmOnBlur,dismissOnBlur:this.props.dismissOnBlur,expandTokenInput:this.props.expandTokenInput,onSubmit:this.$BUIFilterToken10,onCancel:this.$BUIFilterToken11,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,timezoneID:this.props.timezoneID,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,disableFieldSelector:this.props.disableFieldSelector,canAddStandalone:this.props.canAddStandalone,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig});return null};p.prototype.$BUIFilterToken7=function(){if(!this.$BUIFilterToken12())return null;var q=this.$BUIFilterToken13();return c("React").createElement(c("Image.react"),{"aria-label":q.deprecationMessage,className:"_3-99","data-hover":"tooltip","data-tooltip-content":q.deprecationMessage,src:h("140185")})};p.prototype.componentDidMount=function(){this.$BUIFilterToken14()};p.prototype.componentDidUpdate=function(){this.$BUIFilterToken14()};p.prototype.$BUIFilterToken6=function(){var q=this.$BUIFilterToken15(),r=q.fieldIcon,s=q.fieldText,t=q.operatorText,u=q.valueText,v=this.$BUIFilterToken16(t,u);return c("React").createElement("div",{className:"_3yz5",onClick:this.$BUIFilterToken17,role:"presentation"},this.$BUIFilterToken18(r),c("React").createElement("div",{className:"_3yz7"},s),c("React").createElement("div",{className:"ellipsis _3yz8","data-hover":"tooltip","data-tooltip-display":"overflow"},v))};p.prototype.$BUIFilterToken18=function(q){var r=q.uri,s=q.isLarge;if(!r)return null;return c("React").createElement(c("Image.react"),{className:"_3yz6"+(s?" _5whs":""),src:r})};p.prototype.$BUIFilterToken8=function(){var q=this.$BUIFilterToken3();if(!this.props.isReadOnly)return c("React").createElement(c("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_3-99 _1t-2 _3yz9",shade:q?"light":"dark",onClick:this.$BUIFilterToken19});return null};p.prototype.$BUIFilterToken9=function(){__p&&__p();if(this.props.theme!=="regular")return null;var q=this.props.filter.extraRenderingProps,r=q.tooltip;if(r){var s=r.render();if(!s)return null;var t=this.$BUIFilterToken20(r.type);return c("React").createElement("span",{className:"_5pjl"+(r.type==="notify"?" _5pjm":"")+(r.type==="recommend"?" _5pjo":"")+(r.type==="warn"?" _5pjp":"")},c("React").createElement(c("AdsPopoverLink_DEPRECATED.react"),{imgHover:t,imgNormal:t,linkContainerClassName:"_5pkj",onClick_DEPRECATED:this.$BUIFilterToken17,popover:s,width:400}))}return null};p.prototype.$BUIFilterToken20=function(q){switch(q){case"notify":return h("115127");case"warn":return h("114553");case"recommend":return h("114553")}return k(false,"no icon for tooltipType %s",q)};p.prototype.$BUIFilterToken2=function(){return this.props.disabled||this.props.isReadOnly||this.$BUIFilterToken12()};p.prototype.$BUIFilterToken15=function(){var q=this.$BUIFilterToken13();return{fieldIcon:{uri:q.iconURI,isLarge:!!q.largeIcon},fieldText:this.$BUIFilterToken21(q),operatorText:q.isStatic?"":this.$BUIFilterToken22(),valueText:c("AdsGenericFilterValueTextUtil").getValueText(this.props.filter,q,this.props.valuesConfig)}};p.prototype.$BUIFilterToken13=function(){return c("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,this.props.filter.field)};p.prototype.$BUIFilterToken1=function(){var q=this.$BUIFilterToken13();return!!q.applyOnly};p.prototype.$BUIFilterToken23=function(){var q=this.$BUIFilterToken13();return!!q.isFieldOnly};p.prototype.$BUIFilterToken3=function(){return this.props.theme==="dark"};p.prototype.$BUIFilterToken4=function(){return this.props.theme==="plain"};p.prototype.$BUIFilterToken21=function(q){var r=q.text,s=q.isFieldOnly?"":":";return j._("{field}{field colon}",[j._param("field",r),j._param("field colon",s)])};p.prototype.$BUIFilterToken22=function(){var q=this.props.filter.operator,r=c("AdsGenericFilterOperatorConfigUtil").getConfigByOperator(q);return r.shortText||""};p.prototype.$BUIFilterToken16=function(q,r){if(this.$BUIFilterToken1())return j._("({value})",[j._param("value",r)]);else if(this.$BUIFilterToken23())return"";else{var s=q?c("React").createElement("span",{className:"_3_lp"},q):"";return j._("{operator} {value}",[j._param("operator",s),j._param("value",r)])}};p.prototype.$BUIFilterToken14=function(){if(!this.refs.filterToken)return;var q=c("ReactDOM").findDOMNode(this.refs.filterToken);if(this.$BUIFilterToken1()&&this.refs.filterTokenInput){var r=c("ReactDOM").findDOMNode(this.refs.filterTokenInput),s=getComputedStyle(r).width;s=parseInt(s,10)+o;q.style.width=s+"px"}else q.style.width="auto"};p.prototype.$BUIFilterToken12=function(){var q=this.$BUIFilterToken13();return!!q.deprecationMessage};p.propTypes={contentEditable:n.bool.isRequired,disabled:n.bool,confirmOnBlur:n.bool,dismissOnBlur:n.bool.isRequired,index:n.number.isRequired,isReadOnly:n.bool,filter:n.instanceOf(c("AdsGenericFilter")).isRequired,onChange:n.func.isRequired,onRemove:n.func.isRequired,onEditAttempt:n.func,onEditCancelAttempt:n.func,validFieldConfigs:n.array.isRequired,filterConstructor:n.func,fieldsConfig:n.object.isRequired,valuesConfig:n.object.isRequired,theme:n.oneOf(["regular","dark","plain"]).isRequired,timezoneID:n.number,hideMenuOnSingleItem:n.bool,disableFieldSelector:n.bool,canAddStandalone:n.bool,useSUI_EXPERIMENTAL:n.bool,fieldGroupingConfig:n.array,expandTokenInput:n.bool};p.defaultProps={confirmOnBlur:false,dismissOnBlur:true,filterConstructor:c("AdsGenericFilter"),theme:"regular"};f.exports=p}),null);
__d("BUIFilterTokenCreateButton.react",["ix","cx","xuiglyph","fbt","BUIComponent","BUIFilterTokenInput.react","Image.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("BUIComponent"));m=l&&l.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.state={editing:this.props.isInitiallyEditing,field:null,operator:null,value:null},this.$BUIFilterTokenCreateButton5=function(event){event.preventDefault();this.setState({editing:true});if(this.props.onCreateButtonToggle)this.props.onCreateButtonToggle(true)}.bind(this),this.$BUIFilterTokenCreateButton2=function(){this.setState({editing:false});if(this.props.onCreateButtonToggle)this.props.onCreateButtonToggle(false)}.bind(this),this.$BUIFilterTokenCreateButton1=function(u,v,w){this.setState({editing:false,field:u,operator:v,value:w},this.$BUIFilterTokenCreateButton6);if(this.props.onCreateButtonToggle)this.props.onCreateButtonToggle(false)}.bind(this),this.$BUIFilterTokenCreateButton6=function(){this.props.onSubmit(this.state.field,this.state.operator,this.state.value)}.bind(this),q}o.prototype.render=function(){if(this.state.editing)return c("React").createElement("div",{className:"_1tc"},c("React").createElement(c("BUIFilterTokenInput.react"),{autoOpenFieldSelector:this.props.autoOpenFieldSelector,className:"_1tb",confirmOnBlur:this.props.confirmOnBlur,dismissOnBlur:this.props.dismissOnBlur,expandTokenInput:this.props.expandTokenInput,filterBlacklist:this.props.filterBlacklist,onSubmit:this.$BUIFilterTokenCreateButton1,onCancel:this.$BUIFilterTokenCreateButton2,timezoneID:this.props.timezoneID,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,canAddStandalone:this.props.canAddStandalone,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig}));else{var p=this.$BUIFilterTokenCreateButton3();return c("React").createElement("div",{className:"_1tc"+(this.$BUIFilterTokenCreateButton4()?" _1wde":"")},c("React").createElement(c("XUIButton.react"),{className:"_1wdf",size:"small",onClick:this.$BUIFilterTokenCreateButton5,image:p,label:k._("Create Filter"),labelIsHidden:true}))}};o.prototype.$BUIFilterTokenCreateButton3=function(){var p=void 0;if(this.$BUIFilterTokenCreateButton4())p=h("89674");else p=h("89668");return c("React").createElement(c("Image.react"),{src:p})};o.prototype.$BUIFilterTokenCreateButton4=function(){return this.props.theme==="dark"};o.propTypes={autoOpenFieldSelector:n.bool,confirmOnBlur:n.bool,dismissOnBlur:n.bool,filterBlacklist:n.array,onSubmit:n.func.isRequired,onCreateButtonToggle:n.func,validFieldConfigs:n.array.isRequired,fieldsConfig:n.object.isRequired,theme:n.oneOf(["regular","dark"]).isRequired,timezoneID:n.number,hideMenuOnSingleItem:n.bool,isInitiallyEditing:n.bool,canAddStandalone:n.bool,useSUI_EXPERIMENTAL:n.bool,fieldGroupingConfig:n.array,expandTokenInput:n.bool};o.defaultProps={autoOpenFieldSelector:false,confirmOnBlur:false,isInitiallyEditing:false,theme:"regular"};f.exports=o}),null);
__d("BUIFilterTokenizer.react",["cx","fbt","invariant","AdsCMSaveFilterSetDialog.react","AdsFilterChangeTypes","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterSet","ShimButton.react","SUIButton.react","BUIComponent","BUIFilterToken.react","BUIFilterTokenCreateButton.react","DOM","React","ReactDOM","XUIAmbientNUX.react","curry","joinClasses","requiredIfPropIsTruthy"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("BUIComponent"));l=k&&k.prototype;function n(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$BUIFilterTokenizer13=function(){var u=this.props.filterSet;return u?u.values.some(function(v){var w=c("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,v.field);return w.isStandalone}.bind(this)):false}.bind(this),this.$BUIFilterTokenizer17=function(){if(this.props.showSaveButtonNUX){this.props.onSaveButtonNUXSeen&&this.props.onSaveButtonNUXSeen();return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",offsetY:-10,position:"below",width:"custom",customwidth:390,contextRef:function(){return this.refs.saveButton}.bind(this),shown:this.props.showSaveButtonNUX,onCloseButtonClick:this.props.onSaveButtonNUXClosed},i._("New! Save your custom filters to streamline your work. Saved filters appear in your filter menu."))}return null}.bind(this),this.$BUIFilterTokenizer7=function(u){if(!this.props.isReadOnly&&u.length>0&&this.props.onClear)return c("React").createElement(c("ShimButton.react"),{className:"_49u2 _3yz4 _3yz8",onClick:this.$BUIFilterTokenizer18},i._("Clear"));return null}.bind(this),this.$BUIFilterTokenizer12=function(u,v){var w=this.$BUIFilterTokenizer19(u),x=this.$BUIFilterTokenizer20(u),y=this.$BUIFilterTokenizer4();return c("React").createElement("div",{className:!this.props.verticalLayout?"_3u0k":"",key:"token"+v},c("React").createElement(c("BUIFilterToken.react"),{contentEditable:o(this.state.activeFilter,u),disabled:!x||this.props.isReadOnly,confirmOnBlur:this.props.confirmTokensOnBlur,dismissOnBlur:this.props.dismissTokensOnBlur,expandTokenInput:this.props.expandTokenInput,filter:u,isReadOnly:this.props.isReadOnly,index:v,onEditCancelAttempt:this.$BUIFilterTokenizer21,onEditAttempt:this.$BUIFilterTokenizer22,onRemove:this.$BUIFilterTokenizer23,onChange:this.$BUIFilterTokenizer24,validFieldConfigs:w,filterConstructor:this.props.filterConstructor,fieldsConfig:this.props.fieldsConfig,valuesConfig:this.props.valuesConfig,timezoneID:this.props.timezoneID,theme:this.props.theme,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,disableFieldSelector:this.props.disableFieldSelector,canAddStandalone:y<=1,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig}))}.bind(this),this.$BUIFilterTokenizer9=function(u){if(!u)return null;return c("React").createElement("div",{className:"_4pfn"},u)},this.$BUIFilterTokenizer22=function(u,v){this.setState({activeFilter:u})}.bind(this),this.$BUIFilterTokenizer21=function(u,v){if(this.$BUIFilterTokenizer27(u.value))this.$BUIFilterTokenizer23(u,v);else this.setState({activeFilter:null})}.bind(this),this.$BUIFilterTokenizer23=function(u,v){var w=this.props.filterSet.values.slice(0);w.splice(v,1);var x=w.length?new this.props.filterSetConstructor(w):null;this.props.onChange(x,c("AdsFilterChangeTypes").REMOVE,this.$BUIFilterTokenizer4())}.bind(this),this.$BUIFilterTokenizer24=function(u,v){var w=this.$BUIFilterTokenizer28();w[v]=u;var x=c("curry")(this.props.onChange,new this.props.filterSetConstructor(w),c("AdsFilterChangeTypes").EDIT);this.setState({activeFilter:null},x)}.bind(this),this.$BUIFilterTokenizer14=function(u,v,w){var x=this.props.filterSet?this.props.filterSet.values.slice(0):[];x.push(new this.props.filterConstructor(u,v,w));var y=new this.props.filterSetConstructor(x);this.props.onChange(y,c("AdsFilterChangeTypes").ADD_INPUT,this.$BUIFilterTokenizer4())}.bind(this),this.$BUIFilterTokenizer18=function(event){this.props.onClear(event,this.$BUIFilterTokenizer4())}.bind(this),this.$BUIFilterTokenizer16=function(){var u=c("DOM").create("div");function v(){c("ReactDOM").unmountComponentAtNode(u)}c("ReactDOM").render(c("React").createElement(c("AdsCMSaveFilterSetDialog.react"),{onSave:this.props.onSave,onHide:v}),u)}.bind(this),this.$BUIFilterTokenizer25=function(u,v){this.$BUIFilterTokenizer26();this.$BUIFilterTokenizer24(u,v)}.bind(this),this.$BUIFilterTokenizer26=function(){if(this.props.onApplyOnlyRemove)this.props.onApplyOnlyRemove()}.bind(this),this.$BUIFilterTokenizer29=function(){if(this.props.filterSet)return this.props.filterSet.values.find(function(u){return u.value===""})}.bind(this),this.$BUIFilterTokenizer28=function(){var u=void 0;if(this.props.filterSet)u=this.props.filterSet.values.slice(0);else u=[];return u}.bind(this),this.$BUIFilterTokenizer19=function(u){return this.state.validFieldConfigs.filter(function(v){if(u.field.key===v.field.key)return true;if(v.allowDuplication)return true;return!c("AdsGenericFilterFieldConfigUtil").isFieldInFilterSet(v.field,this.props.filterSet)}.bind(this))}.bind(this),this.$BUIFilterTokenizer27=function(u){if(u==="")return true;if(Array.isArray(u)&&u.length===0)return true;return false},this.$BUIFilterTokenizer20=function(u){return this.state.validFieldConfigs.some(function(v){return u.field.key===v.field.key&&!v.isStatic})}.bind(this),this.$BUIFilterTokenizer4=function(){if(!this.props.filterSet)return 0;return this.props.filterSet.values.filter(function(u){return this.state.validFieldConfigs.some(function(v){return u.field.key===v.field.key})}.bind(this)).length}.bind(this),this.$BUIFilterTokenizer1=function(u){return u.filter(function(v){return!v.applyOnly})},this.$BUIFilterTokenizer11=function(){return this.props.theme==="dark"}.bind(this),this.$BUIFilterTokenizer15=function(u){if(u&&(!this.props.dismissTokensOnBlur||!this.props.dismissCreatedTokensOnBlur))this.setState({activeFilter:null});if(this.props.onCreateButtonToggle)this.props.onCreateButtonToggle(u)}.bind(this),this.state={activeFilter:this.$BUIFilterTokenizer29(),validFieldConfigs:this.$BUIFilterTokenizer1(this.props.validFieldConfigs)},q}n.prototype.UNSAFE_componentWillReceiveProps=function(p){__p&&__p();var q=this.state.activeFilter,r=this.state.validFieldConfigs,s=null,t=false;if(p.validFieldConfigs!==this.props.validFieldConfigs)r=this.$BUIFilterTokenizer1(p.validFieldConfigs);if(p.filterSet)p.filterSet.values.forEach(function(u){if(q&&q.key===u.key)t=true;if(u.value===""||u.value.length===0)s=u});if(!t)q=s;this.setState({activeFilter:q,validFieldConfigs:r})};n.prototype.render=function(){var p=this.$BUIFilterTokenizer2(),q=this.$BUIFilterTokenizer3(),r=q.tokens,s=q.filterBlacklist,t=q.incompleteTokenCount,u=this.$BUIFilterTokenizer4(),v=this.$BUIFilterTokenizer5(u,s),w=this.$BUIFilterTokenizer6(u,t),x=this.$BUIFilterTokenizer7(r),y=this.$BUIFilterTokenizer8(this.props.applyOnlyFilter),z=this.$BUIFilterTokenizer9(this.props.trailingNotice),A=this.$BUIFilterTokenizer10(),B=c("joinClasses")(this.props.className,""+(this.$BUIFilterTokenizer11()?" _1nj0":"")+(this.$BUIFilterTokenizer11()?" _2sy-":"")+(this.props.inlineMode?" _5xvq":"")+(this.props.expandTokenInput?" _659z":"")+" clearfix");return c("React").createElement("div",{className:B},p,r,y,v,z,c("React").createElement("div",{className:"_49u3"},w,x,A))};n.prototype.$BUIFilterTokenizer3=function(){__p&&__p();var p=[],q={},r=this.props.filterBlacklist||[],s=0;if(this.props.filterSet)this.props.filterSet.values.forEach(function(t,u){__p&&__p();var v=t.field,w=c("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,v);if(w){var x=v.name;s+=!t.isComplete();if(!w.allowDuplication){r.push(t);!q[x]||j(0);q[x]=true}p.push(this.$BUIFilterTokenizer12(t,u))}}.bind(this));return{tokens:p,filterBlacklist:r,incompleteTokenCount:s}};n.prototype.$BUIFilterTokenizer5=function(p,q){if(!this.props.disableCreateNewButton&&!this.props.hideAddButton&&!this.props.isReadOnly&&!this.$BUIFilterTokenizer13()&&p<this.state.validFieldConfigs.length)return c("React").createElement(c("BUIFilterTokenCreateButton.react"),{autoOpenFieldSelector:this.props.autoOpenAddButtonFieldSelector,confirmOnBlur:this.props.confirmTokensOnBlur,dismissOnBlur:this.props.dismissCreatedTokensOnBlur,expandTokenInput:this.props.expandTokenInput,filterBlacklist:q,isInitiallyEditing:p===0&&this.props.autoOpenAddButtonWhenEmpty,onSubmit:this.$BUIFilterTokenizer14,validFieldConfigs:this.state.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,theme:this.props.theme,timezoneID:this.props.timezoneID,onCreateButtonToggle:this.$BUIFilterTokenizer15,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,canAddStandalone:p===0,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig});return null};n.prototype.$BUIFilterTokenizer6=function(p,q){if(p>q&&this.props.onSave)return c("React").createElement("span",null,c("React").createElement(c("ShimButton.react"),{className:"_49u2"+(this.props.disableSaveButton||this.state.activeFilter?" _wda":"")+" _3yz4 _3yz8",onClick:this.props.disableSaveButton||this.state.activeFilter?null:this.$BUIFilterTokenizer16,ref:"saveButton"},i._("Save Filter")),this.$BUIFilterTokenizer17());return null};n.prototype.$BUIFilterTokenizer10=function(){if(this.props.onCancel)return c("React").createElement("div",{className:"_3-8_"},c("React").createElement(c("SUIButton.react"),{height:"tall",label:i._("Cancel"),onClick:this.props.onCancel}));return null};n.prototype.$BUIFilterTokenizer2=function(){if(!this.props.hideLabel)return c("React").createElement("span",{className:"_3o1w"},i._("Filters:"))};n.prototype.$BUIFilterTokenizer8=function(p){if(!p)return null;var q=this.props.filterSet?this.props.filterSet.values.length:0,r=c("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,p.field);return c("React").createElement("div",{className:!this.props.verticalLayout?"_3u0k":"",key:"token"+q},c("React").createElement(c("BUIFilterToken.react"),{applyOnly:true,contentEditable:true,dismissOnBlur:false,fieldsConfig:this.props.fieldsConfig,filter:p,filterConstructor:this.props.filterConstructor,index:q,onChange:this.$BUIFilterTokenizer25,onRemove:this.$BUIFilterTokenizer26,onEditCancelAttempt:this.$BUIFilterTokenizer26,theme:this.props.theme,timezoneID:this.props.timezoneID,validFieldConfigs:[r],valuesConfig:this.props.valuesConfig,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig}))};n.propTypes={applyOnlyFilter:m.instanceOf(c("AdsGenericFilter")),autoOpenAddButtonFieldSelector:m.bool,autoOpenAddButtonWhenEmpty:m.bool,filterSet:m.instanceOf(c("AdsGenericFilterSet")),isReadOnly:m.bool,onApplyOnlyRemove:m.func,onChange:m.func.isRequired,onCreateButtonToggle:m.func,onCancel:m.func,onSave:m.func,onClear:m.func,validFieldConfigs:m.array.isRequired,filterSetConstructor:m.func,filterConstructor:m.func,fieldsConfig:m.object.isRequired,filterBlacklist:m.array,valuesConfig:m.object.isRequired,theme:m.oneOf(["regular","dark"]).isRequired,timezoneID:m.number,hideLabel:m.bool,hideAddButton:m.bool,inlineMode:m.bool.isRequired,confirmTokensOnBlur:m.bool.isRequired,dismissTokensOnBlur:m.bool.isRequired,dismissCreatedTokensOnBlur:m.bool,trailingNotice:m.oneOfType([m.string,m.node]),hideMenuOnSingleItem:m.bool,disableFieldSelector:m.bool,showSaveButtonNUX:m.bool,onSaveButtonNUXSeen:c("requiredIfPropIsTruthy")("showSaveButtonNUX",m.func),onSaveButtonNUXClosed:c("requiredIfPropIsTruthy")("showSaveButtonNUX",m.func),disableCreateNewButton:m.bool,useSUI_EXPERIMENTAL:m.bool,fieldGroupingConfig:m.array,verticalLayout:m.bool,expandTokenInput:m.bool};n.defaultProps={autoOpenAddButtonFieldSelector:false,autoOpenAddButtonWhenEmpty:false,confirmTokensOnBlur:false,dismissTokensOnBlur:true,expandTokenInput:false,filterSetConstructor:c("AdsGenericFilterSet"),filterConstructor:c("AdsGenericFilter"),hideLabel:false,hideAddButton:false,inlineMode:false,theme:"regular",verticalLayout:false};function o(p,q){if(p&&q)return p.key===q.key;else return p===q}f.exports=n}),null);
__d("MentionsInputTypeaheadView.react",["cx","MentionsTypeaheadViewItem.react","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MentionsInputTypeaheadView1=function(r){var s=r===this.props.highlightedEntry;return c("React").createElement(c("MentionsTypeaheadViewItem.react"),{key:r.getUniqueID(),entry:r,highlighted:s,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight})}.bind(this),n}l.prototype.render=function(){"use strict";var m="_5u8_"+(!this.props.entries.length?" _5u90":"");return c("React").createElement("ul",{className:m,role:"listbox",id:this.props.id},this.props.entries.map(this.$MentionsInputTypeaheadView1))};l.propTypes={id:k.string,highlightedEntry:k.object,entries:k.array.isRequired,onSelect:k.func.isRequired,onHighlight:k.func,onRenderHighlight:k.func};f.exports=l}),null);
__d("XUIBackgroundBar.react",["cx","React","sumOfArray"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getColorAtIndex=function(q){if(Array.isArray(this.props.colors))return this.props.colors[q];else return this.props.colors(q)}.bind(this),m}k.prototype.render=function(){"use strict";__p&&__p();var l=this.props.values,m=c("sumOfArray")(l),n=this.props.scale;n.rangeRound([0,100]);var o={width:n(m)+"%"};function p(q,r){if(r>0&&q===0)return null;var s=n(m)!==0?100*n(q)/n(m)+"%":"0",t={backgroundColor:this.getColorAtIndex(r),width:s};return c("React").createElement("div",{className:"_5abn",key:r,style:t})}return c("React").createElement("div",{className:"_5abm",style:o},l.map(p,this),c("React").createElement("div",{className:"_352g"}))};f.exports=k}),null);
__d("TimelineInfoReviewParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",SURFACE:"profile_question_surface",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"})}),null);
__d("ProgressiveDatepickerMixin",["DateConsts","React","TimelineInfoReviewParam"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={propTypes:{descendingYears:h.bool,initialDay:function j(k,l,m){var n=k.initialYear,o=k.initialMonth,j=k.initialDay;if(!j)return;var p=o&&n&&j<=c("DateConsts").getDaysInMonth(n,o);if(!p)return new Error("A valid initialYear and initialMonth must be provided if initialDay is set.");return h.number.apply(this,arguments)},initialMonth:function j(k,l,m){if(k.initialMonth&&!k.initialYear)return new Error("A valid initialYear must be provided if initialMonth is set.");return h.number.apply(this,arguments)},initialYear:h.number,inputPrefix:h.string,maxTime:h.number.isRequired,minTime:h.number.isRequired,minTimeUnit:h.oneOf(["day","month","year"]),onDateChange:h.func,setDateTo:h.object,supressDaySelector:h.bool,forceYearSelection:h.bool,className:h.string,wrapperClassName:h.string,reverseOrder:h.bool},getDefaultProps:function j(){return{descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:"",minTimeUnit:"year",supressDaySelector:false,forceYearSelection:false,reverseOrder:false}},getInitialState:function j(){if(this.props.setDateTo!=null)return this.props.setDateTo;else return{day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear}},clearDate:function j(){this.setState(this.getInitialState())},_getDayName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").DAY:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").DAY},_getMonthName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").MONTH:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").MONTH},_getYearName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").YEAR:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").YEAR},_getMinDate:function j(){return new Date(this.props.minTime*c("DateConsts").MS_PER_SEC)},_getMinYear:function j(){return this._getMinDate().getFullYear()},_getMinMonth:function j(){return this._getMinDate().getMonth()+1},_getMinDay:function j(){return this._getMinDate().getDate()},_isMinYear:function j(){return this.state.year===this._getMinYear()},_isMinYearAndMonth:function j(){return this._isMinYear()&&this.state.month===this._getMinMonth()},_getMaxDate:function j(){return new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC)},_getMaxYear:function j(){return this._getMaxDate().getFullYear()},_getMaxMonth:function j(){return this._getMaxDate().getMonth()+1},_getMaxDay:function j(){return this._getMaxDate().getDate()},_isMaxYear:function j(){return this.state.year===this._getMaxYear()},_isMaxYearAndMonth:function j(){return this._isMaxYear()&&this.state.month===this._getMaxMonth()},_getCurrentDate:function j(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime()},getCurrentDateInSeconds:function j(){return this._getCurrentDate()/c("DateConsts").MS_PER_SEC},getCurrentDateWithoutAutoCorrection:function j(){if(this.state.year===0||this.state.month===0||this.state.day===0)return new Date(0,0,0).getTime();return this.getCurrentDateInSeconds()},getMaxPossibleDateInSeconds:function j(){__p&&__p();var k={year:this.state.year,month:this.state.month,day:this.state.day};if(!k.day)if(k.month)k.month+=1;else if(k.year){k.year+=1;k.day=1}var l=new Date(k.year,!k.month?0:k.month-1,k.day);return l.getTime()/c("DateConsts").MS_PER_SEC},_onYearChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(k,10),month:this.state.month,day:this.state.day})},_onMonthChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(k,10),day:this.state.day})},_onDayChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(k,10)})},_onDateChange:function j(k){var l=this._getValidDate(k);this.setState(l,function(){this.props.onDateChange&&this.props.onDateChange(l)}.bind(this))},_getValidDate:function j(k,l,m){__p&&__p();if(typeof l==="undefined")l=new Date(this.props.minTime*c("DateConsts").MS_PER_SEC);if(typeof m==="undefined")m=new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC);var n=k.year,o=k.month,p=k.day;if(n){if(n<=l.getFullYear()){n=l.getFullYear();if(o&&o<=l.getMonth()+1){o=l.getMonth()+1;if(p&&p<l.getDate())p=l.getDate()}}else if(n>=m.getFullYear()){n=m.getFullYear();if(o&&o>=m.getMonth()+1){o=m.getMonth()+1;if(p&&p>m.getDate())p=m.getDate()}}if(o){if(p&&p>c("DateConsts").getDaysInMonth(n,o))p=c("DateConsts").getDaysInMonth(n,o)}else p=0}else o=p=0;return{year:n,month:o,day:p}},UNSAFE_componentWillReceiveProps:function j(k){var l=new Date(k.minTime*c("DateConsts").MS_PER_SEC),m=new Date(k.maxTime*c("DateConsts").MS_PER_SEC);if(k.setDateTo!=null)this.setState(k.setDateTo);else this.setState(this._getValidDate(this.state,l,m))}};f.exports=i}),null);
__d("XUIProgressiveDatepicker.react",["cx","DateConsts","DateStrings","ProgressiveDatepickerMixin","React","InlineBlock.react","XUISelector.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("XUISelector.react").Option,j=c("React").createClass({displayName:"TimelineProgressiveDatepicker",mixins:[c("ProgressiveDatepickerMixin")],render:function k(){__p&&__p();var l=[];for(var m=this._getMinYear();m<=this._getMaxYear();m++){var n=c("React").createElement(i,{key:m,title:m,value:m},m);this.props.descendingYears?l.unshift(n):l.push(n)}l.unshift(c("React").createElement(i,{key:0,title:c("DateStrings").getYearLabel(),value:0},c("DateStrings").getYearLabel()));var o=null;if(this.state.year||this.props.minTimeUnit!=="year"){var p=[c("React").createElement(i,{key:0,title:c("DateStrings").getMonthLabel(),value:0},c("DateStrings").getMonthLabel())],q=1,r=c("DateConsts").MONTHS_PER_YEAR;if(this._isMinYear())q=this._getMinMonth();if(this._isMaxYear())r=this._getMaxMonth();for(var s=q;s<=r;s++){var t=c("DateStrings").getMonthName(s);p.push(c("React").createElement(i,{key:s,title:t,value:s},t))}o=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/monthSelector",disabled:this.props.disabled||!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},p)}var u=null;if(this.state.month||this.props.minTimeUnit==="day"){var v=[c("React").createElement(i,{key:0,title:c("DateStrings").getDayLabel(),value:0},c("DateStrings").getDayLabel())],w=1,x=c("DateConsts").getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())w=this._getMinDay();if(this._isMaxYearAndMonth())x=this._getMaxDay();for(var y=w;y<=x;y++)v.push(c("React").createElement(i,{key:y,title:y,value:y},y));u=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/daySelector",disabled:this.props.disabled||!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},v)}return c("React").createElement(c("InlineBlock.react"),null,c("React").createElement(c("XUISelector.react"),{"data-testid":"ProgressiveDatepicker/yearSelector",disabled:this.props.disabled,maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},l),o,u)}});f.exports=j}),null);
__d("FixedDataTableColumnGroupNew.react",["React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";return null};function k(){"use strict";h.apply(this,arguments)}k.__TableColumnGroup__=true;k.propTypes={align:j.oneOf(["left","center","right"]),fixed:j.bool,hideHeaders:j.bool,header:j.oneOfType([j.node,j.func])};k.defaultProps={fixed:false,hideHeaders:false};f.exports=k}),null);
__d("FixedDataTableCellTransition.react",["cx","React","joinClasses","shallowEqual","FixedDataTableCellDefault.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TransitionCell4=function(r){if(r.rowGetter)return r.rowGetter(r.rowIndex)||{};if(r.footerDataGetter)return r.footerDataGetter()||{};if(r.footerData)return r.footerData||{};return{}},n}l.prototype.shouldComponentUpdate=function(m){"use strict";__p&&__p();var n=false,o;if(m.rowGetter){o=m.rowGetter(m.rowIndex);if(this.$TransitionCell1!==o)n=true}var p;if(m.dataKey!=null){if(m.cellDataGetter)p=m.cellDataGetter(m.dataKey,o);else if(m.headerDataGetter)p=m.headerDataGetter(m.dataKey);if(!p&&o)p=o[m.dataKey]}if(this.$TransitionCell2!==p||this.props.isRowHovered!==m.isRowHovered)n=true;this.$TransitionCell1=o;this.$TransitionCell2=p;return n||!c("shallowEqual")(m,this.props)};l.prototype.$TransitionCell3=function(m){"use strict";__p&&__p();var n=m.dataKey;if(n==null)return null;var o;if(m.rowGetter)o=m.rowGetter(m.rowIndex);if(m.cellDataGetter)return m.cellDataGetter(n,o);if(o)return o[n];if(m.footerDataGetter)return m.footerDataGetter()[n];if(m.footerData)return m.footerData[n];if(typeof m.headerDataGetter==="function")return m.headerDataGetter(n);if(m.headerDataGetter)return m.headerDataGetter[n]};l.prototype.render=function(){"use strict";__p&&__p();var m=this.props,n=this.$TransitionCell3(m),o=n,p=this.$TransitionCell4(m),q=!!(m.cellRenderer||m.groupHeaderRenderer);if(m.isHeaderCell||m.isFooterCell)o=o||m.label;if(m.cellRenderer)if(m.isHeaderCell||m.isFooterCell)o=m.cellRenderer(o,m.dataKey,m.columnData,p,m.width,m.isRowHovered)||m.label;else o=m.cellRenderer(n,m.dataKey,p,m.rowIndex,m.columnData,m.width,m.isRowHovered);if(m.groupHeaderRenderer)o=m.groupHeaderRenderer(m.label,m.dataKey,m.groupHeaderData,m.groupHeaderLabels,m.width)||o;var r="_4h2r";if(c("React").isValidElement(o)&&q)o=c("React").cloneElement(o,{className:c("joinClasses")(o.props.className,r)});else return c("React").createElement(c("FixedDataTableCellDefault.react"),m,o);var s=babelHelpers["extends"]({height:m.height,width:m.width},m.style);if(m.useDefaultCellLayout===false){if(!this.props.className)return o;return c("React").createElement("div",{className:this.props.className},o)}else return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")("_4lgc","_4h2u",this.props.className),style:s}),c("React").createElement("div",{className:c("joinClasses")("_4lgd","_4h2w")},c("React").createElement("div",{className:c("joinClasses")("_4lge","_4h2x")},o)))};l.propTypes={label:k.oneOfType([k.node,k.string]),className:k.string,rowIndex:k.number,rowGetter:k.func,dataKey:k.oneOfType([k.string,k.number]),cellRenderer:k.func,cellDataGetter:k.func,footerDataGetter:k.func,footerData:k.any,columnData:k.any,width:k.number,height:k.number,isHeaderCell:k.bool,isFooterCell:k.bool,isRowHovered:k.bool,style:k.object,useDefaultCellLayout:k.bool};f.exports=l}),null);
__d("FixedDataTable.react",["React","FixedDataTableNew.react","FixedDataTableColumnNew.react","FixedDataTableColumnGroupNew.react","FixedDataTableCellTransition.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k="0.7.0",l="https://fburl.com/FixedDataTable-v0.6",m={},n={};function o(q,r){}h=babelHelpers.inherits(p,c("React").Component);i=h&&h.prototype;function p(q){i.constructor.call(this,q);var r={};r.needsMigration=!!q.rowGetter;this.state=r}p.prototype.$TransitionTable1=function(){__p&&__p();if(this.props.rowGetter)o("rowGetter","Please use the cell API in Column to fetch data for your cells.");if(this.props.headerDataGetter)o("headerDataGetter","Please use the header API in Column to fetch data for your header cells.");if(this.props.footerData)o("footerData","Please use the footer API in Column to fetch data for your footer cells.");if(this.props.footerDataGetter)o("footerDataGetter","Please use the footer API in Column to fetch data for your footer cells.");c("React").Children.forEach(this.props.children,function(q){__p&&__p();if(!q||!q.props)return;var r=q.props;if(r.label)o("label","Please use `header` instead.");if(r.dataKey)o("dataKey","Please use the `cell` API to pass in a dataKey");if(r.cellRenderer)o("cellRenderer","Please use the `cell` API to pass in a React Element instead.");if(r.headerRenderer)o("headerRenderer","Please use the `header` API to pass in a React Element instead.");if(r.columnData)o("columnData","Please pass data in through props to your header, cell or footer.");if(r.groupHeaderRenderer)o("groupHeaderRenderer","Please use the `header` API in ColumnGroup to pass in a React Element instead of a function that creates one.");if(r.groupHeaderData)o("groupHeaderData","Please pass in any data through props to your header.")})};p.prototype.$TransitionTable2=function(q,r){if(!r)return undefined;return function(s,t){r(s,t,q.rowGetter&&q.rowGetter(t)||m)}};p.prototype.$TransitionTable3=function(q,r,s){var t=q.props;if(q.type.__TableColumn__)return c("React").createElement(c("FixedDataTableColumnNew.react"),babelHelpers["extends"]({key:"column_"+s},t,{header:c("React").createElement(c("FixedDataTableCellTransition.react"),{isHeaderCell:true,label:t.label,width:t.width,dataKey:t.dataKey,className:t.headerClassName,columnData:t.columnData||m,cellRenderer:t.headerRenderer,headerDataGetter:r.headerDataGetter,style:t.headerStyle}),columnKey:t.dataKey,cell:c("React").createElement(c("FixedDataTableCellTransition.react"),{dataKey:t.dataKey,className:t.cellClassName,rowGetter:r.rowGetter,width:t.width,columnData:t.columnData||m,cellDataGetter:t.cellDataGetter,cellRenderer:t.cellRenderer,useDefaultCellLayout:r.useDefaultCellLayout}),footer:c("React").createElement(c("FixedDataTableCellTransition.react"),{isFooterCell:true,className:t.footerClassName,dataKey:t.dataKey,cellRenderer:t.footerRenderer,footerDataGetter:r.footerDataGetter,footerData:r.footerData||m})}));return null};p.prototype.$TransitionTable4=function(q,r,s,t){var u=q.props,v=0,w=c("React").Children.map(u.children,function(x){v++;return this.$TransitionTable3(x,r,s+"_"+v)}.bind(this));return c("React").createElement(c("FixedDataTableColumnGroupNew.react"),babelHelpers["extends"]({},u,{key:"group_"+s,header:c("React").createElement(c("FixedDataTableCellTransition.react"),{isHeaderCell:true,label:q.props.label,dataKey:s,groupHeaderRenderer:u.groupHeaderRenderer,groupHeaderLabels:t,groupHeaderData:u.columnGroupData||m})}),w)};p.prototype.$TransitionTable5=function(q){__p&&__p();if(!q)return c("React").Children.map(this.props.children,function(t){if(!t)return null;if(t.type.__TableColumn__)return c("React").createElement(c("FixedDataTableColumnNew.react"),t.props);if(t.type.__TableColumnGroup__)return c("React").createElement(c("FixedDataTableColumnGroupNew.react"),t.props);return null});var r=this.props,s=0;return c("React").Children.map(this.props.children,function(t){__p&&__p();if(!t)return null;if(t.type.__TableColumn__)t=this.$TransitionTable3(t,r,s);if(t.type.__TableColumnGroup__){var u=[];c("React").Children.forEach(this.props.children,function(t){u.push(t.props.label)});t=this.$TransitionTable4(t,r,s,u)}s++;return t}.bind(this))};p.prototype.render=function(){var q=this.props;return c("React").createElement(c("FixedDataTableNew.react"),babelHelpers["extends"]({},q,{ref:"fixedDataTable",onRowMouseDown:this.$TransitionTable2(q,q.onRowMouseDown),onRowClick:this.$TransitionTable2(q,q.onRowClick),onRowDoubleClick:this.$TransitionTable2(q,q.onRowDoubleClick),onRowKeyPress:this.$TransitionTable2(q,q.onRowKeyPress),onRowMouseEnter:this.$TransitionTable2(q,q.onRowMouseEnter),onRowMouseLeave:this.$TransitionTable2(q,q.onRowMouseLeave)}),this.$TransitionTable5(this.state.needsMigration))};p.propTypes={width:j.number.isRequired,height:j.number,maxHeight:j.number,ownerHeight:j.number,overflowX:j.oneOf(["hidden","auto"]),overflowY:j.oneOf(["hidden","auto"]),rowsCount:j.number.isRequired,rowHeight:j.number.isRequired,rowHeightGetter:j.func,rowGetter:j.func,rowClassNameGetter:j.func,rowStyleGetter:j.func,groupHeaderHeight:j.number,headerHeight:j.number.isRequired,headerStyle:j.object,headerDataGetter:j.func,footerHeight:j.number,footerData:j.oneOfType([j.object,j.array]),footerDataGetter:j.func,scrollLeft:j.number,scrollToColumn:j.number,scrollTop:j.number,scrollToRow:j.number,scrollToRowBehavior:j.oneOfType([j.objectOf(j.number),j.string]),useDefaultCellLayout:j.bool,onScrollStart:j.func,onScrollEnd:j.func,onRangeChange:j.func,onChangeHorizontalScrollbarVisibility:j.func,onContentHeightChange:j.func,onRowClick:j.func,onRowDoubleClick:j.func,onRowKeyPress:j.func,onRowMouseDown:j.func,onRowMouseEnter:j.func,onRowMouseLeave:j.func,onColumnResizeEndCallback:j.func,isColumnResizing:j.bool,isRTL:j.bool,bufferRowCount:j.number};p.defaultProps={useDefaultCellLayout:true};f.exports=p}),null);
__d("PageInsightsPostFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION:"caption",CREATION_TIME:"created_time",DESCRIPTION:"description",ID:"id",IDENTIFIER:"identifier",IS_HOT:"is_hot",LINK:"link",MESSAGE:"message",NAME:"name",PICTURE:"picture",PRIVACY:"privacy",PRIVACY_COUNTRIES:"privacy_countries",PRIVACY_CITIES:"privacy_cities",PRIVACY_DESCRIPTION:"privacy_description",PRIVACY_LOCALES:"privacy_locales",PRIVACY_POST_TARGETING:"privacy_post_targeting",PROMOTABLE_POST_ID:"promotable_post_id",PROPERTY:"properties",STATUS_TYPE:"status_type",STYLE:"style",TYPE:"type",HAS_HINTS:"has_hints",HINTS_CONFIG:"hints_config",AUDIENCE_TARGETING:"audience_targeting",VISIBILITY:"visibility",TIMELINE_TOKEN:"timeline_token",BREAKING_STATUS:"breaking_status",BREAKING_BOUNDS:"breaking_bounds"})}),null);
__d("HubbleConstants",["PageInsightsPostFields"],(function a(b,c,d,e,f,g){var h={DATE_RANGE:{TODAY:"today",YESTERDAY:"yesterday",WEEK:"7_days",MONTH:"28_days"},DEFAULT_SECTION:"navOverview",NAV_SECTIONS:{LIKES:"navLikes",FOLLOWERS:"navFollowers",LOCAL:"navLocal",OVERVIEW:"navOverview",PEOPLE:"navPeople",POSTS:"navPosts",REACH:"navReach",VISITS:"navVisits",PAGE_VIEWS:"navPageViews",GROUPS:"navGroups",ACTIONS_ON_PAGE:"navActionsOnPage",WIFI:"navWifi",EVENTS:"navEvents",VIDEOS:"navVideos",SHOP:"navShop",BRANDED_CONTENT:"navBrandedContent",MESSAGES:"navMessages",PROMOTIONS:"navPromotions",API:"navAPI",IA_CTA_INSIGHTS:"navIaCtaInsights",OFFERS:"navOffers",PAGE_INVITES:"navPageInvites",REWARDS:"navRewards",PREVIEWS:"navPreviews",PURCHASES:"navPurchases",AD_BREAKS:"navAdBreaks",QR_CODE:"navQRCode",FB_STORIES:"navStories"},SCROLL_TARGETS:{ENGAGEMENT:"engagement"},PIPELINE_DAILY:"pipe_daily",PIPELINE_WEEKLY:"pipe_weekly",PIPELINE_MONTHLY:"pipe_monthly",PIPELINE_LIFETIME:"pipe_lifetime",PIPELINE_DEMO:"pipe_demo",PERIOD_DAY:"day",PERIOD_WEEK:"week",PERIOD_28_DAYS:"days_28",PERIOD_LIFETIME:"lifetime",SERIES_AREA:"area",SERIES_LINE:"line",SEC_IN_MIN:60,DAYS_PER_WEEK:7,SORT_BY_DATE:"date",SORT_BY_REACH:"reach",SORT_BY_CLICKS:"clicks",SORT_BY_LCS:"lcs",REQ_PREMIUM_VIDEO:"premium_video",REQ_PUBLISHED:"published",REQ_SMART_PUBLISHING:"smart_publishing",REQ_UNPUBLISHED:"unpublished",REQ_VIDEO:"video",TABLE_PAGE_SIZE:10,FACEBOOK_DEMOGRAPHICS:{F:{ageBuckets:{"13-17":7.2,"18-24":14.4,"25-34":11.8,"35-44":6.2,"45-54":3.6,"55-64":1.9,"65+":1.1},total:46.2},M:{ageBuckets:{"13-17":7.7,"18-24":17.9,"25-34":14.8,"35-44":7,"45-54":3.6,"55-64":1.6,"65+":1.3},total:53.8},total:100},MIN_WIFI_USERS_COUNT:100,POSTS_TABLE_FIELDS:[c("PageInsightsPostFields").CAPTION,c("PageInsightsPostFields").CREATION_TIME,c("PageInsightsPostFields").DESCRIPTION,c("PageInsightsPostFields").ID,c("PageInsightsPostFields").IDENTIFIER,c("PageInsightsPostFields").MESSAGE,c("PageInsightsPostFields").NAME,c("PageInsightsPostFields").PICTURE,c("PageInsightsPostFields").PRIVACY,c("PageInsightsPostFields").PROMOTABLE_POST_ID,c("PageInsightsPostFields").STATUS_TYPE,c("PageInsightsPostFields").TYPE,c("PageInsightsPostFields").HAS_HINTS,c("PageInsightsPostFields").HINTS_CONFIG,c("PageInsightsPostFields").VISIBILITY,c("PageInsightsPostFields").TIMELINE_TOKEN],FBTYPE_VIDEO:128};f.exports=h}),null);
__d("RidgeMatchingErrorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:RidgeMatchingErrorLoggerConfig",this.$RidgeMatchingErrorTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:RidgeMatchingErrorLoggerConfig",this.$RidgeMatchingErrorTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$RidgeMatchingErrorTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$RidgeMatchingErrorTypedLogger1)};h.prototype.updateData=function(j){this.$RidgeMatchingErrorTypedLogger1=babelHelpers["extends"]({},this.$RidgeMatchingErrorTypedLogger1,j);return this};h.prototype.setCopyrightID=function(j){this.$RidgeMatchingErrorTypedLogger1.copyright_id=j;return this};h.prototype.setErrorType=function(j){this.$RidgeMatchingErrorTypedLogger1.error_type=j;return this};h.prototype.setMatchID=function(j){this.$RidgeMatchingErrorTypedLogger1.match_id=j;return this};h.prototype.setMatchedVideoID=function(j){this.$RidgeMatchingErrorTypedLogger1.matched_video_id=j;return this};h.prototype.setMatchedVideoStartTime=function(j){this.$RidgeMatchingErrorTypedLogger1.matched_video_start_time=j;return this};h.prototype.setReferenceVideoID=function(j){this.$RidgeMatchingErrorTypedLogger1.reference_video_id=j;return this};h.prototype.setReferenceVideoStartTime=function(j){this.$RidgeMatchingErrorTypedLogger1.reference_video_start_time=j;return this};h.prototype.setSegmentDuration=function(j){this.$RidgeMatchingErrorTypedLogger1.segment_duration=j;return this};h.prototype.setSegmentType=function(j){this.$RidgeMatchingErrorTypedLogger1.segment_type=j;return this};h.prototype.setSegmentTypeString=function(j){this.$RidgeMatchingErrorTypedLogger1.segment_type_string=j;return this};h.prototype.setSource=function(j){this.$RidgeMatchingErrorTypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$RidgeMatchingErrorTypedLogger1.vc=j;return this};var i={copyright_id:true,error_type:true,match_id:true,matched_video_id:true,matched_video_start_time:true,reference_video_id:true,reference_video_start_time:true,segment_duration:true,segment_type:true,segment_type_string:true,source:true,vc:true};f.exports=h}),null);
__d("SphericalMediaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$SphericalMediaPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$SphericalMediaPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SphericalMediaPerformanceTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SphericalMediaPerformanceTypedLogger1=babelHelpers["extends"]({},this.$SphericalMediaPerformanceTypedLogger1,j);return this};h.prototype.setComputationTimeMs=function(j){this.$SphericalMediaPerformanceTypedLogger1.computation_time_ms=j;return this};h.prototype.setEndTimestampS=function(j){this.$SphericalMediaPerformanceTypedLogger1.end_timestamp_s=j;return this};h.prototype.setEvent=function(j){this.$SphericalMediaPerformanceTypedLogger1.event=j;return this};h.prototype.setFallbackDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_duration=j;return this};h.prototype.setFallbackReason=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_reason=j;return this};h.prototype.setNormalizedFrameTime=function(j){this.$SphericalMediaPerformanceTypedLogger1.normalized_frame_time=j;return this};h.prototype.setNumSpatialAudioStutters=function(j){this.$SphericalMediaPerformanceTypedLogger1.num_spatial_audio_stutters=j;return this};h.prototype.setProductName=function(j){this.$SphericalMediaPerformanceTypedLogger1.product_name=j;return this};h.prototype.setProjection=function(j){this.$SphericalMediaPerformanceTypedLogger1.projection=j;return this};h.prototype.setSpatialReactionsCacheUsed=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_cache_used=j;return this};h.prototype.setSpatialReactionsClustersCount=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_clusters_count=j;return this};h.prototype.setSpatialReactionsCount=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_count=j;return this};h.prototype.setSphericalRendererSetupDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.spherical_renderer_setup_duration=j;return this};h.prototype.setStartTimestampS=function(j){this.$SphericalMediaPerformanceTypedLogger1.start_timestamp_s=j;return this};h.prototype.setVideoID=function(j){this.$SphericalMediaPerformanceTypedLogger1.video_id=j;return this};var i={computation_time_ms:true,end_timestamp_s:true,event:true,fallback_duration:true,fallback_reason:true,normalized_frame_time:true,num_spatial_audio_stutters:true,product_name:true,projection:true,spatial_reactions_cache_used:true,spatial_reactions_clusters_count:true,spatial_reactions_count:true,spherical_renderer_setup_duration:true,start_timestamp_s:true,video_id:true};f.exports=h}),null);
__d("VideoAssetWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$VideoAssetWaterfallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$VideoAssetWaterfallTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$VideoAssetWaterfallTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$VideoAssetWaterfallTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoAssetWaterfallTypedLogger1)};h.prototype.updateData=function(j){this.$VideoAssetWaterfallTypedLogger1=babelHelpers["extends"]({},this.$VideoAssetWaterfallTypedLogger1,j);return this};h.prototype.setComposerDialogVersion=function(j){this.$VideoAssetWaterfallTypedLogger1.composer_dialog_version=j;return this};h.prototype.setCrosspostingPageIds=function(j){this.$VideoAssetWaterfallTypedLogger1.crossposting_page_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setError=function(j){this.$VideoAssetWaterfallTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$VideoAssetWaterfallTypedLogger1.event=j;return this};h.prototype.setIsBulk=function(j){this.$VideoAssetWaterfallTypedLogger1.is_bulk=j;return this};h.prototype.setPageID=function(j){this.$VideoAssetWaterfallTypedLogger1.page_id=j;return this};h.prototype.setSource=function(j){this.$VideoAssetWaterfallTypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$VideoAssetWaterfallTypedLogger1.vc=j;return this};h.prototype.setVideoAssetIDOverride=function(j){this.$VideoAssetWaterfallTypedLogger1.video_asset_id_override=j;return this};h.prototype.setVideoAssetIds=function(j){this.$VideoAssetWaterfallTypedLogger1.video_asset_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setVideoID=function(j){this.$VideoAssetWaterfallTypedLogger1.video_id=j;return this};h.prototype.setVideoIds=function(j){this.$VideoAssetWaterfallTypedLogger1.video_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};var i={composer_dialog_version:true,crossposting_page_ids:true,error:true,event:true,is_bulk:true,page_id:true,source:true,vc:true,video_asset_id_override:true,video_asset_ids:true,video_id:true,video_ids:true};f.exports=h}),null);
__d("VideoCaptionEditEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionEditEventLoggerConfig",this.$VideoCaptionEditEventTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionEditEventLoggerConfig",this.$VideoCaptionEditEventTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCaptionEditEventTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCaptionEditEventTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionEditEventTypedLogger1,j);return this};h.prototype.setAdGroupID=function(j){this.$VideoCaptionEditEventTypedLogger1.ad_group_id=j;return this};h.prototype.setAppID=function(j){this.$VideoCaptionEditEventTypedLogger1.app_id=j;return this};h.prototype.setCaptionID=function(j){this.$VideoCaptionEditEventTypedLogger1.caption_id=j;return this};h.prototype.setErrorMessage=function(j){this.$VideoCaptionEditEventTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$VideoCaptionEditEventTypedLogger1.event=j;return this};h.prototype.setPlacement=function(j){this.$VideoCaptionEditEventTypedLogger1.placement=j;return this};h.prototype.setTranscription=function(j){this.$VideoCaptionEditEventTypedLogger1.transcription=j;return this};h.prototype.setVC=function(j){this.$VideoCaptionEditEventTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoCaptionEditEventTypedLogger1.video_id=j;return this};var i={ad_group_id:true,app_id:true,caption_id:true,error_message:true,event:true,placement:true,transcription:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoCopyrightUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCopyrightUILoggerConfig",this.$VideoCopyrightUITypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCopyrightUILoggerConfig",this.$VideoCopyrightUITypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:VideoCopyrightUILoggerConfig",this.$VideoCopyrightUITypedLogger1,{signal:true})};h.prototype.clear=function(){this.$VideoCopyrightUITypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoCopyrightUITypedLogger1)};h.prototype.updateData=function(j){this.$VideoCopyrightUITypedLogger1=babelHelpers["extends"]({},this.$VideoCopyrightUITypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$VideoCopyrightUITypedLogger1.app_id=j;return this};h.prototype.setAttributionID=function(j){this.$VideoCopyrightUITypedLogger1.attribution_id=j;return this};h.prototype.setContentCategory=function(j){this.$VideoCopyrightUITypedLogger1.content_category=j;return this};h.prototype.setCopyrightChecked=function(j){this.$VideoCopyrightUITypedLogger1.copyright_checked=j;return this};h.prototype.setCopyrightContentID=function(j){this.$VideoCopyrightUITypedLogger1.copyright_content_id=j;return this};h.prototype.setCopyrightID=function(j){this.$VideoCopyrightUITypedLogger1.copyright_id=j;return this};h.prototype.setEvent=function(j){this.$VideoCopyrightUITypedLogger1.event=j;return this};h.prototype.setExceptionClass=function(j){this.$VideoCopyrightUITypedLogger1.exception_class=j;return this};h.prototype.setExceptionMessage=function(j){this.$VideoCopyrightUITypedLogger1.exception_message=j;return this};h.prototype.setExceptionStack=function(j){this.$VideoCopyrightUITypedLogger1.exception_stack=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setIsReference=function(j){this.$VideoCopyrightUITypedLogger1.is_reference=j;return this};h.prototype.setIsReferenceDisabled=function(j){this.$VideoCopyrightUITypedLogger1.is_reference_disabled=j;return this};h.prototype.setLiveStatus=function(j){this.$VideoCopyrightUITypedLogger1.live_status=j;return this};h.prototype.setMatchID=function(j){this.$VideoCopyrightUITypedLogger1.match_id=j;return this};h.prototype.setMatchedVideoID=function(j){this.$VideoCopyrightUITypedLogger1.matched_video_id=j;return this};h.prototype.setMessage=function(j){this.$VideoCopyrightUITypedLogger1.message=j;return this};h.prototype.setMonitoringType=function(j){this.$VideoCopyrightUITypedLogger1.monitoring_type=j;return this};h.prototype.setOwnershipCountries=function(j){this.$VideoCopyrightUITypedLogger1.ownership_countries=j;return this};h.prototype.setResolvedTimestamp=function(j){this.$VideoCopyrightUITypedLogger1.resolved_timestamp=j;return this};h.prototype.setRightsHolderID=function(j){this.$VideoCopyrightUITypedLogger1.rights_holder_id=j;return this};h.prototype.setRuleID=function(j){this.$VideoCopyrightUITypedLogger1.rule_id=j;return this};h.prototype.setSource=function(j){this.$VideoCopyrightUITypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$VideoCopyrightUITypedLogger1.vc=j;return this};h.prototype.setWhitelistedIds=function(j){this.$VideoCopyrightUITypedLogger1.whitelisted_ids=j;return this};h.prototype.setWhitelistedIgUserIds=function(j){this.$VideoCopyrightUITypedLogger1.whitelisted_ig_user_ids=j;return this};var i={app_id:true,attribution_id:true,content_category:true,copyright_checked:true,copyright_content_id:true,copyright_id:true,event:true,exception_class:true,exception_message:true,exception_stack:true,is_reference:true,is_reference_disabled:true,live_status:true,match_id:true,matched_video_id:true,message:true,monitoring_type:true,ownership_countries:true,resolved_timestamp:true,rights_holder_id:true,rule_id:true,source:true,vc:true,whitelisted_ids:true,whitelisted_ig_user_ids:true};f.exports=h}),null);
__d("VideoThumbnailUIActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$VideoThumbnailUIActionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$VideoThumbnailUIActionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoThumbnailUIActionsTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoThumbnailUIActionsTypedLogger1)};h.prototype.updateData=function(j){this.$VideoThumbnailUIActionsTypedLogger1=babelHelpers["extends"]({},this.$VideoThumbnailUIActionsTypedLogger1,j);return this};h.prototype.setEditLocation=function(j){this.$VideoThumbnailUIActionsTypedLogger1.edit_location=j;return this};h.prototype.setEvent=function(j){this.$VideoThumbnailUIActionsTypedLogger1.event=j;return this};h.prototype.setProfileID=function(j){this.$VideoThumbnailUIActionsTypedLogger1.profile_id=j;return this};h.prototype.setThumbnailIndex=function(j){this.$VideoThumbnailUIActionsTypedLogger1.thumbnail_index=j;return this};h.prototype.setVC=function(j){this.$VideoThumbnailUIActionsTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoThumbnailUIActionsTypedLogger1.video_id=j;return this};var i={edit_location:true,event:true,profile_id:true,thumbnail_index:true,vc:true,video_id:true};f.exports=h}),null);
__d("XPagesAdminVideoCopyrightSettingsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/video_copyright/settings/",{})}),null);
__d("XPagesAdminVideoCopyrightWhitelistController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/video_copyright/whitelist/",{})}),null);
__d("VideoCopyrightSettingsUtil",["ActorURI","AsyncRequest","XPagesAdminVideoCopyrightSettingsController","XPagesAdminVideoCopyrightWhitelistController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k,l){var m=c("ActorURI").create(c("XPagesAdminVideoCopyrightWhitelistController").getURIBuilder().getURI(),j.page_id);new(c("AsyncRequest"))().setURI(m).setData(j).setMethod("POST").setHandler(k).setErrorHandler(l).send()}var i={updateContactInfo:function j(k,l,m){var n=c("XPagesAdminVideoCopyrightSettingsController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(n).setData({page_id:k,new_settings:l}).setMethod("POST").setHandler(function(o){m(o.payload)}).send()},updateWhitelistWithOwnerID:function j(k,l,m,n,o){h({page_id:k,id:l,action:m},n,o)},updateWhitelistWithOwnerOfMatch:function j(k,l,m,n,o){h({page_id:k,match_id:l,action:m},n,o)}};f.exports=i}),null);
__d("PageContentTabDrawerContentWrapper.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PureComponent;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.componentWillUnmount=function(){if(this.props.onClosed)this.props.onClosed()};l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_a7e")},c("React").createElement("div",{className:"_a7l"},c("React").createElement("div",{className:"_a7n"},this.props.drawerView.header),c("React").createElement("div",{className:"_a7o"},this.props.drawerView.content),this.props.footer))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("PageContentTabDrawerHeader.react",["ix","cx","fbt","Image.react","Link.react","React","XUICloseButton.react","XUIText.react","emptyFunction","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PureComponent;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.getBackButton=function(){"use strict";return c("React").createElement(c("Link.react"),{onClick:this.props.onClose,className:"_4c8u"},c("React").createElement(c("Image.react"),{className:"_4c8-",src:h("133542")}),c("React").createElement("div",{className:"_4c8_"},j._("Back")))};n.prototype.getCloseButton=function(){"use strict";return c("React").createElement("div",{className:"_4c90"},c("React").createElement(c("XUICloseButton.react"),{onClick:this.props.onClose,size:"medium"}))};n.prototype.render=function(){"use strict";return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_4c91")},this.props.showBackButton?this.getBackButton():null,this.props.showCloseButton?this.getCloseButton():null,c("React").createElement(c("XUIText.react"),{size:"header3",weight:"bold"},this.props.children))};function n(){"use strict";k.apply(this,arguments)}n.defaultProps={onClose:c("emptyFunction"),showBackButton:false,showCloseButton:false};f.exports=n}),null);
__d("PageContentTabModalBackground.react",["cx","React","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Element,l=c("React").PureComponent,m=c("React").PropTypes;i=babelHelpers.inherits(n,l);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$PageContentTabModalBackground1=function(t){if(t.target===c("ReactDOM").findDOMNode(this))this.props.onClick&&this.props.onClick()}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_s6p"+(this.props.isTransparent?" _2jyj":""),this.props.className),onClick:this.$PageContentTabModalBackground1,role:"presentation"},this.props.children)};n.propTypes={isTransparent:m.bool,onClick:m.func};f.exports=n}),null);
__d("PageContentTabDrawer.react",["cx","Keys","PageContentTabDrawerContentWrapper.react","PageContentTabDrawerHeader.react","PageContentTabModalBackground.react","React","ReactCSSTransitionGroup","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PureComponent;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PageContentTabDrawer1=function(event){if(event.keyCode===c("Keys").ESC&&this.props.position==="open")this.props.onClose()}.bind(this),n}l.prototype.UNSAFE_componentWillMount=function(){document.addEventListener("keydown",this.$PageContentTabDrawer1)};l.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.$PageContentTabDrawer1)};l.prototype.render=function(){var m=this.props,n=m.onClose,o=m.drawerView,p=m.position,q=o&&o.footer?c("React").createElement("div",{className:"_a7d"},o.footer):null;return c("React").createElement("div",null,p==="open"?c("React").createElement(c("PageContentTabModalBackground.react"),{isTransparent:this.props.useTransparentBackground,onClick:this.props.hideOnBackgroundClick?n:c("emptyFunction")}):null,c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_1p07",component:"div",key:"transitionGroup",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionName:"panel"},p==="open"?c("React").createElement(c("PageContentTabDrawerContentWrapper.react"),{className:this.props.className,drawerView:o,footer:q,onClosed:this.props.onClosed,position:p}):null))};l.Header=c("PageContentTabDrawerHeader.react");l.defaultProps={onClose:c("emptyFunction"),hideOnBackgroundClick:true,useTransparentBackground:false};f.exports=l}),null);
__d("RidgeMatchingErrorType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOGO:"LOGO",CREDITS:"CREDITS",ADVERTISEMENT:"ADVERTISEMENT",FALSE_NEGATIVE:"FALSE_NEGATIVE",LOW_QUALITY:"LOW_QUALITY",FALSE_POSITIVE:"FALSE_POSITIVE",AUTO_DETECTED:"AUTO_DETECTED"})}),null);
__d("RidgeMatchingMediaType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUDIO_ONLY:1,VIDEO_ONLY:2,VIDEO_AND_AUDIO:3})}),null);
__d("PageContentTabVideosCopyrightMatchErrorDialog.react",["cx","fbt","ix","Image.react","React","RidgeMatchingErrorType","RidgeMatchingMediaType","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISingleSelector.react","keyMirror"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("XUISingleSelector.react").Option,n=c("React").PropTypes,o=c("keyMirror")({CONTENT_MATCH_ERROR:null,VIDEO_MATCH_ERROR:null,AUDIO_MATCH_ERROR:null,FALSE_MATCH_ERROR:null,UNKNOWN:null}),p=o.CONTENT_MATCH_ERROR;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){__p&&__p();var r,s;"use strict";for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={shown:true,showSuccessMessage:false,value:null},this.showSuccessMessage=function(){this.setState({showSuccessMessage:true})}.bind(this),this.onSave=function(){__p&&__p();this.setState({shown:false});var w,x;switch(this.state.value){case o.CONTENT_MATCH_ERROR:w=c("RidgeMatchingErrorType").FALSE_POSITIVE;x=c("RidgeMatchingMediaType").VIDEO_AND_AUDIO;break;case o.VIDEO_MATCH_ERROR:w=c("RidgeMatchingErrorType").FALSE_POSITIVE;x=c("RidgeMatchingMediaType").VIDEO_ONLY;break;case o.AUDIO_MATCH_ERROR:w=c("RidgeMatchingErrorType").FALSE_POSITIVE;x=c("RidgeMatchingMediaType").AUDIO_ONLY;break;case o.FALSE_MATCH_ERROR:default:w=c("RidgeMatchingErrorType").LOW_QUALITY;x=c("RidgeMatchingMediaType").VIDEO_AND_AUDIO;break}this.props.onSave(w,x)}.bind(this),s}q.prototype.renderSelectorItem=function(r){"use strict";__p&&__p();var s;switch(r){case o.CONTENT_MATCH_ERROR:s=i._("Nothing matched the video");break;case o.VIDEO_MATCH_ERROR:s=i._("Video didn't match at all");break;case o.AUDIO_MATCH_ERROR:s=i._("Audio didn't match at all");break;case o.FALSE_MATCH_ERROR:s=i._("The matching portion is trivial and should be ignored");break;case o.UNKNOWN:default:s=i._("None of the above");break}return c("React").createElement(m,{key:r,value:r},s)};q.prototype.render=function(){"use strict";if(this.state.showSuccessMessage)return this.renderSuccessDialog();var r=Object.keys(o);return c("React").createElement(c("XUIDialog.react"),{width:452,shown:this.state.shown,layerHideOnBlur:false,layerDestroyOnHide:true,layerFadeOnShow:true},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Tell us more about this content")),c("React").createElement(c("XUIDialogBody.react"),{className:"_5xsa"},c("React").createElement(c("Image.react"),{src:j("101751"),className:"_5xsh"}),c("React").createElement("div",{className:"_5xth"},i._("Help us improve the quality of the matches. Why did this not match your content?")),c("React").createElement(c("XUISingleSelector.react"),{className:"_5xti",onChange:function(s){return this.setState({value:s.value})}.bind(this),value:this.state.value||p,defaultValue:p},r.map(function(s){return this.renderSelectorItem(s)}.bind(this)))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),{use:"default",action:"cancel"}),c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",action:"confirm",label:i._("Send"),onClick:this.onSave})))};q.prototype.renderSuccessDialog=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{width:452,shown:true,layerDestroyOnHide:true},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Thank you")),c("React").createElement(c("XUIDialogBody.react"),{className:"_5xtj"},c("React").createElement(c("Image.react"),{src:j("101752"),className:"_5xtk"}),c("React").createElement("div",{className:"_5xtl"},i._("Thank you. {line breaks} Your feedback helps us improve Rights Manager.",[i._param("line breaks",c("React").createElement("div",{className:"_5xt-"}))]))))};q.propTypes={onSave:n.func.isRequired};f.exports=q}),null);
__d("PageContentTabExternalActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({CREATE_ADS_FROM_POSTS:""},"PagesContentTab");f.exports=h}),null);
__d("PageContentTabExternalActions",["AdsDataAtom","PageContentTabExternalActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={createAdsFromPosts:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({posts:j,type:c("PageContentTabExternalActionTypes").CREATE_ADS_FROM_POSTS})}};f.exports=h}),null);
__d("PageAdminVideoCopyrightsWhitelistAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD:"add",REMOVE:"remove"})}),null);
__d("VideosCopyrightDisputeActions",["GraphAPI","VideoCopyrightUtils"],(function a(b,c,d,e,f,g){var h={updateDisputeStatus:function i(j,k,l){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_dispute",j).post({access_token:l,status:k})}};f.exports=h}),null);
__d("VideosCopyrightMatchActions",["GraphAPI","VideoCopyrightMatchValidStates","VideoCopyrightUtils"],(function a(b,c,d,e,f,g){__p&&__p();var h={getMatch:function i(j,k,l){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_match",j).get({access_token:k,fields:c("VideoCopyrightUtils").getGraphAPIFields(l),date_format:"U"})},getMatches:function i(j,k,l){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).objects("video_copyright_match",j).get({access_token:k,fields:c("VideoCopyrightUtils").getGraphAPIFields(l),date_format:"U"})},setMatchIsViewed:function i(j,k,l){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_match",j).post({access_token:k,is_viewed:l})},updateMatchState:function i(j,k,l,m){var n={};n.access_token=l;n.match_state=k;if(m)n.applied_actions=m;return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_match",j).post(n)},updateAppliedActions:function i(j,k,l){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_match",j).post({access_token:k,match_state:c("VideoCopyrightMatchValidStates").VERIFIED_CLAIMED,geo_applied_actions:l})}};f.exports=h}),null);
__d("XVideoCopyrightMatchBulkDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/match/bulk_delete/",{page_id:{type:"FBID",required:true},filtering:{type:"TypeAssert",defaultValue:[]}})}),null);
__d("PageContentTabVideosCopyrightActions",["fbt","Promise","ActorURI","AsyncRequest","ObjectFlip","PageAdminVideoCopyrightsWhitelistAction","PageContentTabAccessToken","PageContentTabCommonConfig","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","PageContentTabLogger","PageContentTabLoggingEvents","PageContentTabRightsManagerStore","RidgeMatchingErrorTypedLogger","RidgeMatchingMediaType","SimpleXUIDialog","VideoCopyrightDisputeGraphFields","VideoCopyrightDisputeStatus","VideoCopyrightMatchActionTypes","VideoCopyrightMatchGraphFields","VideoCopyrightMatchStatus","VideoCopyrightMatchValidStates","VideoCopyrightRuleActionType","VideoCopyrightSettingsUtil","VideoCopyrightUtils","VideosCopyrightDisputeActions","VideosCopyrightMatchActions","XVideoCopyrightMatchBulkDeleteController","mergeDeep"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("ObjectFlip")(c("RidgeMatchingMediaType")),j=c("PageContentTabConstants").TABS,k=50,l={addMatchOwnerToWhitelist:function m(n,o,p){c("PageContentTabLoadingDialog").show();var q=this._getActionData(o,p);c("VideoCopyrightSettingsUtil").updateWhitelistWithOwnerOfMatch(p.page_id,n.id,c("PageAdminVideoCopyrightsWhitelistAction").ADD,function(){c("PageContentTabLoadingDialog").hideWithSuccessMessage(q.successLabel)},function(){c("PageContentTabLoadingDialog").hide();this._logError(q,n.id,"Failed to update whitelist with owner of matches")}.bind(this))},_getStatusesFromAppliedActions:function m(n){__p&&__p();var o=[];n.forEach(function(p){switch(p.action){case c("VideoCopyrightRuleActionType").BLOCK:o.push(c("VideoCopyrightMatchStatus").BLOCKED);break;case c("VideoCopyrightRuleActionType").MONETIZE:o.push(c("VideoCopyrightMatchStatus").CLAIMED);break;case c("VideoCopyrightRuleActionType").TRACK:o.push(c("VideoCopyrightMatchStatus").MONITORED);break}});return o},updateAppliedActions:function m(n,o,p){__p&&__p();if(!o||o.length===0)return this.updateMatchState(n,c("VideoCopyrightMatchActionTypes").MOVE_TO_MANUAL_REVIEW,p);c("PageContentTabLoadingDialog").show();var q=n[0],r=void 0;if(q.applied_actions&&q.applied_actions.length>0)r=this._getStatusesFromAppliedActions(q.applied_actions);else r=[q.match_status];r.forEach(function(s){var t=c("VideoCopyrightUtils")._getTabFromMatchStatus(s,p);c("PageContentTabDispatcher").handlePostRemoved(p.page_id,q.id,t)});c("PageContentTabLoadingDialog").hideWithSuccessMessage(h._("SUCCESS"));return c("VideosCopyrightMatchActions").updateAppliedActions(q.id,c("PageContentTabAccessToken").getAccessToken(),o).then(function(s){if(s.success)c("VideosCopyrightMatchActions").getMatch(q.id,c("PageContentTabAccessToken").getAccessToken(),p).done(function(t){var u=this._getStatusesFromAppliedActions(t.applied_actions);u.forEach(function(v){var w=c("mergeDeep")({},t);w.match_status=v;var x=c("VideoCopyrightUtils")._getTabFromMatchStatus(v,p);c("PageContentTabDispatcher").handlePostCreated(x,w,p.page_id)})}.bind(this))}.bind(this))["catch"](function(s){this._logError({tab:c("VideoCopyrightUtils")._getTabFromMatchStatus(q.match_status,p),action:c("VideoCopyrightMatchActionTypes").UPDATE_APPLIED_ACTIONS},q.id,s)}.bind(this))},updateMatchState:function m(n,o,p){__p&&__p();c("PageContentTabLoadingDialog").show();var q=this._getActionData(o,p);q.tab=c("VideoCopyrightUtils")._getTabFromMatchStatus(n[0].match_status,p);var r=n.map(function(s){c("PageContentTabDispatcher").handlePostRemoved(p.page_id,s.id,q.tab);return c("VideosCopyrightMatchActions").updateMatchState(s.id,q.state,c("PageContentTabAccessToken").getAccessToken(),q.appliedActions).then(function(t){if(t.success)c("VideosCopyrightMatchActions").getMatch(s.id,c("PageContentTabAccessToken").getAccessToken(),p).done(function(u){if(q.newTab)c("PageContentTabDispatcher").handlePostCreated(q.newTab,u,p.page_id)})})["catch"](function(t){this._logError(q,s.id,t)}.bind(this))}.bind(this));if(n.length===1)c("PageContentTabLoadingDialog").hideWithSuccessMessage(q.successLabel);return c("Promise").all(r).then(function(){c("PageContentTabLoadingDialog").hideWithSuccessMessage(q.successLabel)})},updateMatchStateWithBulkSelection:function m(n,o,p,q,r){__p&&__p();var s=this._getActionData(n,o),t=c("ActorURI").create(c("XVideoCopyrightMatchBulkDeleteController").getURIBuilder().setFBID("page_id",o.page_id).setTypeAssert("filtering",r).getURI(),o.page_id);new(c("AsyncRequest"))().setURI(t).setHandler(function(u){__p&&__p();c("PageContentTabLoadingDialog").hide();if(u.payload){var v=Object.assign({},o);v.has_bulk_deletion_in_progress=true;p(v);c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").BULK_ACTION_TAKEN,s.tab,{action:c("VideoCopyrightMatchActionTypes").REMOVE_FROM_DASHBOARD,num_posts:q,filter_set:JSON.stringify(r)})}else{c("PageContentTabCommonConfig").showErrorDialog(h._("Something's happened"),h._("There was a problem while removing the selected matches. Please try again later"));c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").BULK_ACTION_FAILED,s.tab,{action:c("VideoCopyrightMatchActionTypes").REMOVE_FROM_DASHBOARD,num_posts:q})}}).send();c("PageContentTabLoadingDialog").show()},updateDisputeState:function m(n,o,p){__p&&__p();c("PageContentTabLoadingDialog").show();var q=this._getActionData(o,p),r=n.map(function(s){c("PageContentTabDispatcher").handlePostRemoved(p.page_id,s.id,q.tab);return c("VideosCopyrightDisputeActions").updateDisputeStatus(s[c("VideoCopyrightMatchGraphFields").DISPUTE].id,q.status,c("PageContentTabAccessToken").getAccessToken()).then(function(t){if(t.success)if(o!==c("VideoCopyrightMatchActionTypes").RELEASE_CLAIM)c("VideosCopyrightMatchActions").getMatch(s.id,c("PageContentTabAccessToken").getAccessToken(),p).done(function(u){c("PageContentTabDispatcher").handlePostCreated(q.newTab,u,p.page_id)})})["catch"](function(t){this._logError(q,s.id,t)}.bind(this))}.bind(this));if(n.length===1)c("PageContentTabLoadingDialog").hideWithSuccessMessage(q.successLabel);return c("Promise").all(r).then(function(){c("PageContentTabLoadingDialog").hideWithSuccessMessage(q.successLabel)})},reportMatchError:function m(n,o,p,q){var r=n[0],s=r.matched_video_asset,t=r.match_data[0].reference_asset;new(c("RidgeMatchingErrorTypedLogger"))().updateData({error_type:p,match_id:r.id,matched_video_id:s.id,reference_video_id:t.id,segment_type:q,segment_type_string:i[q],source:"DASHBOARD"}).log();return this.updateMatchState(n,c("VideoCopyrightMatchActionTypes").WRONG_MATCH,o)},removeMatchFromReport:function m(n,o){var p=c("VideoCopyrightMatchActionTypes").REMOVE_FROM_REPORT,q=this._getActionData(p,o);c("VideosCopyrightMatchActions").getMatch(n,c("PageContentTabAccessToken").getAccessToken(),o).done(function(r){return this._moveMatchToTab(r,o.page_id,q.tab,q.newTab)}.bind(this),function(r){return this._logError(q,n,r)}.bind(this))},setMatchReported:function m(n,o,p,q){__p&&__p();if(n.length==0)return c("Promise").resolve();c("PageContentTabLoadingDialog").show();var r=this._getActionData(o,q),s=[],t=[],u=n.slice();while(n.length>0){var v=n.splice(0,k);s.push(c("VideosCopyrightMatchActions").getMatches(v,c("PageContentTabAccessToken").getAccessToken(),q).then(function(w){__p&&__p();Object.keys(w).map(function(z){w[z].match_status=r.status});t=t.concat(w);var x=w[0];if(x&&x[c("VideoCopyrightMatchGraphFields").DISPUTE]){var y=x[c("VideoCopyrightMatchGraphFields").DISPUTE];if(y[c("VideoCopyrightDisputeGraphFields").STATUS]===c("VideoCopyrightDisputeStatus").RESOLVED_TAKEDOWN_REQUESTED)r.tab=j.DISPUTES}if(w.length>0)r.tab=j.UNSENT_REPORTS;this._moveMatchesToTab(w,p,r.tab,r.newTab)}.bind(this),function(w){return this._logError(r,v[0],w)}.bind(this)))}return c("Promise").all(s).then(function(){c("PageContentTabLoadingDialog").hide();c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").ACTION_TAKEN_MAIN_VIEW,r.tab,{action:r.action,post_ids:[u],num_posts:u.length,bulk_action:true},t)})},_moveMatchToTab:function m(n,o,p,q){c("PageContentTabDispatcher").handlePostRemoved(o,n.id,p);if(q)c("PageContentTabDispatcher").handlePostCreated(q,n,o)},_moveMatchesToTab:function m(n,o,p,q){var r=Object.keys(n),s=r.map(function(t){return n[t]});c("PageContentTabDispatcher").handlePostsRemoved(o,r,p);c("PageContentTabDispatcher").handlePostsCreated(q,s,o)},setMatchUpdated:function m(n,o){c("PageContentTabDispatcher").handlePostChanged(n,null,o.page_id)},setMatchSeen:function m(n,o){var p=c("VideoCopyrightMatchActionTypes").MARK_SEEN,q=this._getActionData(p,o);n.forEach(function(r){if(!r.is_viewed&&this._canToggleMatchSeen(r,o))c("VideosCopyrightMatchActions").setMatchIsViewed(r.id,c("PageContentTabAccessToken").getAccessToken(),true).done(function(s){r.is_viewed=true;c("PageContentTabDispatcher").handlePostChanged(r,q.tab,o.page_id,true)},function(s){return this._logError(q,r.id,s)}.bind(this))}.bind(this))},setMatchUnseen:function m(n,o){var p=c("VideoCopyrightMatchActionTypes").MARK_SEEN,q=this._getActionData(p,o);n.forEach(function(r){if(r.is_viewed&&this._canToggleMatchSeen(r,o))c("VideosCopyrightMatchActions").setMatchIsViewed(r.id,c("PageContentTabAccessToken").getAccessToken(),false).done(function(s){r.is_viewed=false;c("PageContentTabDispatcher").handlePostChanged(r,q.tab,o.page_id,false)},function(s){return this._logError(q,r.id,s)}.bind(this))}.bind(this))},handleUpdateFilter:function m(n,o,p){c("PageContentTabDispatcher").handleFilterChanged(o.page_id,p,n);c("PageContentTabDispatcher").handleFilterStatus(o.page_id,p,n!==null)},_logError:function m(n,o,p){c("PageContentTabLoadingDialog").hide();c("SimpleXUIDialog").show(p.error_user_msg||h._("There was a problem while performing this action. Please try again later"),p.error_user_title||h._("Something's happened"));c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").API_ERROR,n.tab||j.VIDEOS_COPYRIGHT,{error:JSON.stringify(p),action:n.action,post_id:o});throw p},_canToggleMatchSeen:function m(n,o){if(c("PageContentTabRightsManagerStore").getIsRMLite())return c("VideoCopyrightMatchStatus")[n.match_status]===c("VideoCopyrightMatchStatus").MONITORED;return c("VideoCopyrightMatchStatus")[n.match_status]===c("VideoCopyrightMatchStatus").MANUAL_REVIEW},_getActionData:function m(n,o){__p&&__p();var p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=[],v=c("PageContentTabRightsManagerStore").getIsRMLite();switch(n){case c("VideoCopyrightMatchActionTypes").ALLOW_MATCH:p=c("VideoCopyrightMatchValidStates").VERIFIED_ALLOWED;s=c("VideoCopyrightMatchStatus").ALLOWED;q=j.NEW_MATCHES;r=j.ALLOWED;t=h._("ADDED TO ALLOWED MATCHES");break;case c("VideoCopyrightMatchActionTypes").TRACK:p=c("VideoCopyrightMatchValidStates").VERIFIED_CLAIMED;s=c("VideoCopyrightMatchStatus").MONITORED;u.push(c("VideoCopyrightRuleActionType").TRACK);q=j.MANUAL_REVIEW;r=j.TRACKED;t=h._("MOVED TO MONITORED MATCHES");break;case c("VideoCopyrightMatchActionTypes").REMOVE_FROM_DASHBOARD:case c("VideoCopyrightMatchActionTypes").WRONG_MATCH:p=c("VideoCopyrightMatchValidStates").REMOVED_FROM_DASHBOARD;t=h._("REMOVED FROM DASHBOARD");break;case c("VideoCopyrightMatchActionTypes").ADD_TO_REPORT:p=c("VideoCopyrightMatchValidStates").VERIFIED_STAGED;s=c("VideoCopyrightMatchStatus").ADDED_MATCH;q=j.MANUAL_REVIEW;r=j.UNSENT_REPORTS;t=h._("ADDED TO TAKEDOWN REPORT");break;case c("VideoCopyrightMatchActionTypes").REMOVE_FROM_REPORT:p=c("VideoCopyrightMatchValidStates").MANUAL_REVIEW;s=c("VideoCopyrightMatchStatus").MANUAL_REVIEW;q=j.UNSENT_REPORTS;r=j.MANUAL_REVIEW;t=h._("MOVED TO MANUAL REVIEW");break;case c("VideoCopyrightMatchActionTypes").REMOVE_FROM_ALLOWED:p=c("VideoCopyrightMatchValidStates").UNVERIFIED;s=c("VideoCopyrightMatchStatus").NEW_MATCH;q=j.ALLOWED;r=j.NEW_MATCHES;t=h._("MOVED TO NEW MATCHES");break;case c("VideoCopyrightMatchActionTypes").MONETIZE:p=c("VideoCopyrightMatchValidStates").VERIFIED_CLAIMED;s=c("VideoCopyrightMatchStatus").CLAIMED;u.push(c("VideoCopyrightRuleActionType").MONETIZE);q=j.MANUAL_REVIEW;r=j.CLAIMED;t=h._("CLAIMED");break;case c("VideoCopyrightMatchActionTypes").WHITELIST_PAGE:q=j.MANUAL_REVIEW;t=h._("WHITE-LISTED");break;case c("VideoCopyrightMatchActionTypes").REPORT_SENT:case c("VideoCopyrightMatchActionTypes").LIVE_REPORT_SENT:s=c("VideoCopyrightMatchStatus").REPORTED;r=v?j.TAKEDOWNS:j.REPORTED;break;case c("VideoCopyrightMatchActionTypes").MARK_SEEN:case c("VideoCopyrightMatchActionTypes").MARK_UNSEEN:q=j.MANUAL_REVIEW;break;case c("VideoCopyrightMatchActionTypes").RETRACT_REPORTED:p=c("VideoCopyrightMatchValidStates").RETRACTED;s=c("VideoCopyrightMatchStatus").MONITORED;q=v?j.TAKEDOWNS:j.REPORTED;r=j.TRACKED;t=h._("TAKEDOWN REQUEST CANCELLED");break;case c("VideoCopyrightMatchActionTypes").RETRACT_TAKEDOWN:p=c("VideoCopyrightMatchValidStates").RESTORED_BY_PUBLISHER;s=c("VideoCopyrightMatchStatus").MONITORED;q=j.TAKEDOWNS;r=j.TRACKED;t=h._("VIDEO SUCCESSFULLY RESTORED");break;case c("VideoCopyrightMatchActionTypes").CONFIRM_CLAIM:s=c("VideoCopyrightDisputeStatus").APPEAL_REJECTED;q=j.DISPUTES;t=h._("CLAIM CONFIRMED");break;case c("VideoCopyrightMatchActionTypes").BLOCK:p=c("VideoCopyrightMatchValidStates").VERIFIED_CLAIMED;s=c("VideoCopyrightMatchStatus").BLOCKED;u.push(c("VideoCopyrightRuleActionType").BLOCK);q=j.MANUAL_REVIEW;r=j.BLOCKED;t=h._("BLOCKED");break;case c("VideoCopyrightMatchActionTypes").UNBLOCK:p=c("VideoCopyrightMatchValidStates").REMOVED_FROM_DASHBOARD;q=j.BLOCKED;t=h._("UNBLOCKED");break;case c("VideoCopyrightMatchActionTypes").RELEASE_CLAIM:s=c("VideoCopyrightDisputeStatus").RESOLVED_CLAIM_RETRACTED;q=j.DISPUTES;t=h._("CLAIM RELEASED");break;case c("VideoCopyrightMatchActionTypes").UPHOLD_CLAIM:s=c("VideoCopyrightDisputeStatus").RESOLVED_CLAIM_UPHELD;q=j.DISPUTES;t=h._("CLAIM UPHELD");break;case c("VideoCopyrightMatchActionTypes").MOVE_TO_MANUAL_REVIEW:p=c("VideoCopyrightMatchValidStates").UNVERIFIED;s=c("VideoCopyrightMatchStatus").NEW_MATCH;r=j.NEW_MATCHES;t=h._("MOVED TO MANUAL REVIEW");break}return{action:n,state:p,status:s,appliedActions:u,tab:q,newTab:r,successLabel:t}}};f.exports=l}),null);
__d("PageContentTabCommonActionsConfig",["fbt","PageContentTabConstants","PageContentTabVideosCopyrightActions","PageContentTabExternalActions","PageContentTabLocations","VideoCopyrightMatchActionTypes","VideoCopyrightUtils","VideoCopyrightMatchStatus"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("PageContentTabConstants").ACTIONS,j={ACTIONS_MENU_SEPARATOR:"actions_menu_separator",CREATE_ADS_FROM_POSTS:{allowBatch:true,getLabel:function k(l){return l===1?h._("Create Ad..."):h._("Create Ads...")},isAvailable:function k(l,m){return m===c("PageContentTabLocations").ADS_PE},key:i.CREATE_ADS_FROM_POSTS,onClick:function k(l){c("PageContentTabExternalActions").createAdsFromPosts(l)}},getStaticFilterActions:function k(){__p&&__p();return[j.ACTIONS_MENU_SEPARATOR,{isHeader:true,getLabel:function l(m,n){var o=n&&n[0]&&n[0].status===c("VideoCopyrightMatchStatus").NEW_MATCH;if(o)return h._("VIEW NEW MATCHES");else return h._("VIEW MATCHES")}},{allowBatch:false,getLabel:function l(m,n){return h._("From this page")},key:c("VideoCopyrightMatchActionTypes").FILTER_BY_MATCH_OWNER,isAvailable:function l(m,n,o){var p=m[0];return!o.rights_manager_should_remove_private_auto_takedown||p&&!p.isAnonymous},onClick:function l(m,n,o,p){var q=c("VideoCopyrightUtils").getMatchedOwnerFilter(m[0]);c("PageContentTabVideosCopyrightActions").handleUpdateFilter(q,n,o);p&&p()}},{allowBatch:false,getLabel:function l(m,n){return h._("For your file")},key:c("VideoCopyrightMatchActionTypes").FILTER_BY_REFERENCE_VIDEO,onClick:function l(m,n,o,p){var q=c("VideoCopyrightUtils").getReferenceVideoFilter(m[0]);c("PageContentTabVideosCopyrightActions").handleUpdateFilter(q,n,o);p&&p()}}]}};f.exports=j}),null);
__d("CopyrightTakedownReportSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INSTANT_TAKEDOWN:"instant_takedown",SINGLE_TAKEDOWN:"single_takedown",TAKEDOWN_REPORT:"takedown_report"})}),null);
__d("VideoCopyrightClaimAdEarningsText",["fbt","PageSettingsRef","XPagesManagerSettingsController"],(function a(b,c,d,e,f,g,h){"use strict";var i={getRightsManagerSettingsURI:function j(k){return c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",k).setString("tab","video_copyright_management").setString("ref",c("PageSettingsRef").VIDEO_COPYRIGHT).getURI()},getTitle:function j(){return h._("Claim ad earnings")},getMessage:function j(){return h._("Pages and profiles can now earn money through advertising breaks placed in their videos. If you find content posted by others that belongs to you, you may be able to claim a share of the ad earnings. Learn more.")}};f.exports=i}),null);
__d("VideoCopyrightClaimAdEarningsConfirmationDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LeftRight.react","LayerHideOnEscape","React","VideoCopyrightClaimAdEarningsText","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","goURI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("VideoCopyrightClaimAdEarningsText").getRightsManagerSettingsURI(this.props.pageID);return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,ref:"claimAdsEarningConfirmationDialog",shown:true,width:658},c("React").createElement(c("XUIDialogTitle.react"),null,c("VideoCopyrightClaimAdEarningsText").getTitle()),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),{className:"_3-8h"},c("React").createElement(c("Image.react"),{className:"_3-8w _3-9a",src:j("101755")}),c("React").createElement("div",{className:"_2fi-"},c("React").createElement(c("XUIText.react"),{className:"_3-96",display:"block"},c("VideoCopyrightClaimAdEarningsText").getMessage()),c("React").createElement(c("XUIText.react"),null,i._("To claim ad earnings, you'll first need to specify how you or your organisation would like to be paid by going to Settings > Rights Manager."))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",className:"_3-90",label:i._("Not Now"),use:"default"}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:i._("Go to Settings"),onClick:function o(){c("goURI")(n,true)},use:"confirm"})))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoCopyrightClaimAdEarningsNUXDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LeftRight.react","LayerHideOnEscape","React","VideoCopyrightClaimAdEarningsText","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","goURI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("VideoCopyrightClaimAdEarningsText").getRightsManagerSettingsURI(this.props.pageID);return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,ref:"claimAdsEarningConfirmationDialog",shown:true,width:658},c("React").createElement(c("XUIDialogTitle.react"),null,c("VideoCopyrightClaimAdEarningsText").getTitle()),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),{className:"_3-8h"},c("React").createElement(c("Image.react"),{className:"_3-8w _3-9a",src:j("101755")}),c("React").createElement("div",{className:"_2fi-"},c("React").createElement(c("XUIText.react"),{className:"_3-96",display:"block"},c("VideoCopyrightClaimAdEarningsText").getMessage()),c("React").createElement(c("XUIText.react"),null,i._("To edit how you or your organisation would like to be paid, go to {rights-manager-setting}",[i._param("rights-manager-setting",c("React").createElement("a",{onClick:function o(){c("goURI")(n,true)},role:"link",tabIndex:"0"},i._("Settings > Rights Manager"),"."))]))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Got It"),use:"confirm"})))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("PolicyRuleTokenizedTypeahead.react",["React","SearchableEntry","XUITokenizer.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={entries:[],queryString:"",searchSource:this.props.searchSource},this.$PolicyRuleTokenizedTypeahead2=function(q){var r=this.props.value;r.push(q.getUniqueID().toString());this.props.onEntriesUpdated(r)}.bind(this),this.$PolicyRuleTokenizedTypeahead3=function(q){var r=this.props.value;r.splice(r.indexOf(q.getUniqueID().toString()),1);this.props.onEntriesUpdated(r)}.bind(this),this.$PolicyRuleTokenizedTypeahead4=function(event){this.setState({queryString:event.target.value})}.bind(this),m}k.prototype.componentDidMount=function(){"use strict";this.$PolicyRuleTokenizedTypeahead1(this.props)};k.prototype.UNSAFE_componentWillReceiveProps=function(l){"use strict";this.$PolicyRuleTokenizedTypeahead1(l)};k.prototype.$PolicyRuleTokenizedTypeahead1=function(l){"use strict";var m=[],n=0;l.value.forEach(function(o){if(l.searchSourceLabels[o]){var p=new(c("SearchableEntry"))({order:n,title:l.searchSourceLabels?l.searchSourceLabels[o]:o,uniqueID:o});m.push(p);n++}});this.setState({entries:m,searchSource:l.searchSource})};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITokenizer.react"),{className:this.props.className,disabled:this.props.disabled,entries:this.state.entries,onAddEntryAttempt:this.$PolicyRuleTokenizedTypeahead2,onQueryStringChange:this.$PolicyRuleTokenizedTypeahead4,onRemoveEntryAttempt:this.$PolicyRuleTokenizedTypeahead3,placeholder:this.props.placeholder,searchSource:this.state.searchSource,viewStyle:"textonly",xuiError:this.props.error})};k.propTypes={className:j.string,disabled:j.bool,name:j.string.isRequired,error:j.string,placeholder:j.string,searchSource:j.object,searchSourceLabels:j.object,onEntriesUpdated:j.func.isRequired,value:j.arrayOf(j.string).isRequired};f.exports=k}),null);
__d("VideoCopyrightGeoActionSearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","filterObject","forEachObject"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$VideoCopyrightGeoActionSearchSource1=c("filterObject")(c("CopyrightCountryNames"),function(l,m){return k.indexOf(m)!==-1})}j.prototype.searchImpl=function(k,l){__p&&__p();var m,n=this,o=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];"use strict";var p=[];if(k)(function(){var q=k.toLowerCase(),r=c("filterObject")(n.$VideoCopyrightGeoActionSearchSource1,function(t){return t.toLowerCase().startsWith(q)}),s=0;c("forEachObject")(r,function(t,u){p.push(new(c("SearchableEntry"))({order:s++,title:t,uniqueID:u}))})})();l(p,k)};f.exports=j}),null);
__d("VideoCopyrightGeoActionSelector.react",["cx","fbt","invariant","CopyrightCountryNames","PolicyRuleTokenizedTypeahead.react","React","StrSet","VideoCopyrightGeoActionSearchSource","XUIRadioList.react","XUISingleSelector.react","emptyFunction","joinClasses","keyMirror"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("XUIRadioList.react").Item,n=c("XUISingleSelector.react").Option,o=c("keyMirror")({WORLDWIDE:null,VIEWER_LOCATION:null}),p=c("keyMirror")({INCLUDE:null,EXCLUDE:null}),q=new(c("VideoCopyrightGeoActionSearchSource"))(Object.keys(c("CopyrightCountryNames")));k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;function r(s){__p&&__p();l.constructor.call(this,s);this.$VideoCopyrightGeoActionSelector4=false;this.$VideoCopyrightGeoActionSelector5();var t=void 0,u=void 0,v=void 0;if(!this.props.geoGate){t=[];u=this.$VideoCopyrightGeoActionSelector3?o.WORLDWIDE:o.VIEWER_LOCATION;v=p.INCLUDE}else if(this.props.geoGate.included_countries&&this.props.geoGate.included_countries.length>0){t=this.props.geoGate.included_countries;u=o.VIEWER_LOCATION;v=p.INCLUDE;this.$VideoCopyrightGeoActionSelector4=true}else if(this.props.geoGate.excluded_countries&&this.props.geoGate.excluded_countries.length>0){t=this.props.geoGate.excluded_countries;u=o.VIEWER_LOCATION;v=p.EXCLUDE;this.$VideoCopyrightGeoActionSelector4=true}else{t=[];u=this.$VideoCopyrightGeoActionSelector3?o.WORLDWIDE:o.VIEWER_LOCATION;v=p.INCLUDE;this.$VideoCopyrightGeoActionSelector4=true}this.state={selectedCountries:t,searchSource:new(c("VideoCopyrightGeoActionSearchSource"))(this.$VideoCopyrightGeoActionSelector1),selectedGeoOption:u,selectedGatingOption:v}}r.prototype.componentDidMount=function(){this.props.onInputValidation(this.areCountriesInvalid())};r.prototype.componentDidUpdate=function(s,t){if(t.selectedGeoOption!==this.state.selectedGeoOption||t.selectedGatingOption!==this.state.selectedGatingOption||t.selectedCountries.length!==this.state.selectedCountries.length){this.setState({ownershipError:this.$VideoCopyrightGeoActionSelector6()});this.props.onChange(this.state.selectedGeoOption===o.WORLDWIDE,this.state.selectedGatingOption===p.INCLUDE,this.state.selectedCountries)}this.props.onInputValidation(this.areCountriesInvalid())};r.prototype.$VideoCopyrightGeoActionSelector5=function(){__p&&__p();var s,t=this,u;if(!this.props.ownershipGeoGate){this.$VideoCopyrightGeoActionSelector1=Object.keys(c("CopyrightCountryNames"));this.$VideoCopyrightGeoActionSelector2=[];this.$VideoCopyrightGeoActionSelector3=true}else if(this.props.ownershipGeoGate.included_countries&&this.props.ownershipGeoGate.included_countries.length>0)(function(){var v=t.props.ownershipGeoGate.included_countries;v&&v.length>0||j(0);t.$VideoCopyrightGeoActionSelector1=v;t.$VideoCopyrightGeoActionSelector2=Object.keys(c("CopyrightCountryNames")).filter(function(w){return v.indexOf(w)==-1});t.$VideoCopyrightGeoActionSelector3=false})();else if(this.props.ownershipGeoGate.excluded_countries&&this.props.ownershipGeoGate.excluded_countries.length>0)(function(){var v=t.props.ownershipGeoGate.excluded_countries;v&&v.length>0||j(0);t.$VideoCopyrightGeoActionSelector1=Object.keys(c("CopyrightCountryNames")).filter(function(w){return v.indexOf(w)==-1});t.$VideoCopyrightGeoActionSelector2=v;t.$VideoCopyrightGeoActionSelector3=false})();else{this.$VideoCopyrightGeoActionSelector1=Object.keys(c("CopyrightCountryNames"));this.$VideoCopyrightGeoActionSelector2=[];this.$VideoCopyrightGeoActionSelector3=true}};r.prototype.$VideoCopyrightGeoActionSelector7=function(s){this.setState({selectedGeoOption:s})};r.prototype.$VideoCopyrightGeoActionSelector8=function(s){this.setState({selectedGatingOption:s.value})};r.prototype.$VideoCopyrightGeoActionSelector9=function(s){this.setState({selectedCountries:s})};r.prototype.$VideoCopyrightGeoActionSelector10=function(){if(this.state.selectedGeoOption!==o.VIEWER_LOCATION)return null;return c("React").createElement(c("PolicyRuleTokenizedTypeahead.react"),{className:"_40k7",name:"typeahead",onEntriesUpdated:this.$VideoCopyrightGeoActionSelector9.bind(this),placeholder:i._("Choose countries"),searchSource:this.state.selectedGatingOption===p.INCLUDE?this.state.searchSource:q,searchSourceLabels:c("CopyrightCountryNames"),value:this.state.selectedCountries.slice(),error:this.state.ownershipError})};r.prototype.addAllValidCountries=function(){var s=this.props.ownershipGeoGate;if(this.$VideoCopyrightGeoActionSelector3||s==null)this.setState({selectedGeoOption:o.WORLDWIDE});else{var t=s.included_countries&&s.included_countries.length>0;this.setState({selectedGeoOption:o.VIEWER_LOCATION,selectedGatingOption:t?p.INCLUDE:p.EXCLUDE,selectedCountries:t?s.included_countries||[]:s.excluded_countries||[]})}};r.prototype.clearSelectedCountries=function(){this.setState({selectedCountries:[],selectedGeoOption:o.VIEWER_LOCATION,selectedGatingOption:p.INCLUDE})};r.prototype.getActionGeoGate=function(){if(this.state.selectedGeoOption===o.WORLDWIDE)return{included_countries:[],excluded_countries:[]};else if(this.state.selectedGatingOption===p.EXCLUDE)return{excluded_countries:this.state.selectedCountries};else if(this.state.selectedCountries.length===0)return null;else return{included_countries:this.state.selectedCountries}};r.prototype.areCountriesInvalid=function(){var s=this.state.selectedGeoOption!==o.WORLDWIDE&&this.state.selectedCountries.length===0,t=s&&this.state.selectedGatingOption===p.INCLUDE&&this.$VideoCopyrightGeoActionSelector4,u=this.state.ownershipError!=null;return s&&!t||u};r.prototype.$VideoCopyrightGeoActionSelector6=function(){__p&&__p();if(this.state.selectedGeoOption===o.WORLDWIDE)return null;if(this.state.selectedGatingOption===p.INCLUDE&&this.state.selectedCountries.length>0){var s=new(c("StrSet"))(this.$VideoCopyrightGeoActionSelector1),t=new(c("StrSet"))(this.state.selectedCountries),u=s.difference(t);if(u.count()>0)return this.$VideoCopyrightGeoActionSelector11(u.toArray())}else if(this.state.selectedGatingOption===p.EXCLUDE&&this.state.selectedCountries.length>0){var v=new(c("StrSet"))(this.$VideoCopyrightGeoActionSelector2),w=new(c("StrSet"))(this.state.selectedCountries),x=w.difference(v);if(x.count()>0)return this.$VideoCopyrightGeoActionSelector11(x.toArray())}return null};r.prototype.$VideoCopyrightGeoActionSelector11=function(s){var t=Math.min(s.length,this.$VideoCopyrightGeoActionSelector1.length,this.$VideoCopyrightGeoActionSelector2.length);if(t===s.length)return i._("You do not have the rights to this content in the following countries: {List of countries}",[i._param("List of countries",s.map(function(u){return c("CopyrightCountryNames")[u]}).join(", "))]);else if(t===this.$VideoCopyrightGeoActionSelector1.length)return i._("You only have the rights to this content in the following countries: {List of countries}",[i._param("List of countries",this.$VideoCopyrightGeoActionSelector1.map(function(u){return c("CopyrightCountryNames")[u]}).join(", "))]);else return i._("You do not have the rights to this content in the following countries: {List of countries}",[i._param("List of countries",this.$VideoCopyrightGeoActionSelector2.map(function(u){return c("CopyrightCountryNames")[u]}).join(", "))])};r.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_40k8")},c("React").createElement(c("XUIRadioList.react"),{className:"_40k9",selectedValue:this.state.selectedGeoOption,onValueChange:this.$VideoCopyrightGeoActionSelector7.bind(this)},c("React").createElement(m,{className:"_40ka",disabled:this.props.disabled||!this.$VideoCopyrightGeoActionSelector3,value:o.WORLDWIDE},i._("Worldwide")),c("React").createElement(m,{className:"_40ka",disabled:this.props.disabled,value:o.VIEWER_LOCATION},i._("Viewer location"),c("React").createElement(c("XUISingleSelector.react"),{name:"inclusion_selector",className:"_40kb",disabled:this.props.disabled||this.state.selectedGeoOption!==o.VIEWER_LOCATION,onChange:this.$VideoCopyrightGeoActionSelector8.bind(this),value:this.state.selectedGatingOption},c("React").createElement(n,{value:p.INCLUDE},i._("Is")),c("React").createElement(n,{value:p.EXCLUDE},i._("Is not"))))),this.$VideoCopyrightGeoActionSelector10())};r.defaultProps={onInputValidation:c("emptyFunction")};f.exports=r}),null);
__d("VideoCopyrightGeoActionDialog.react",["cx","fbt","CopyrightCountryNames","LayerFadeOnHide","LayerHideOnEscape","React","StrSet","VideoCopyrightGeoActionSelector.react","VideoCopyrightRuleActionType","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUINotice.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);var n=m.appliedActions&&m.appliedActions.find(function(p){return p.action===this.props.action}.bind(this)),o=void 0;if(n)o=n.geos;this.state={actionGeoGate:o,shouldDisableSubmitButton:false}}l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnHide:c("LayerFadeOnHide")},ref:"geoActionDialog",shown:true,width:508},c("React").createElement(c("XUIDialogTitle.react"),null,i._({"Block":"Block by viewer location","Claim Ad Earnings":"Claim ad earnings by viewer location","Monitor":"Monitor by viewer location"},[i._enum(this.$VideoCopyrightGeoActionDialog1(),{Block:"Block","Claim Ad Earnings":"Claim Ad Earnings",Monitor:"Monitor"})])),c("React").createElement(c("XUIDialogBody.react"),null,i._({"block":"Choose where you want to block this video:","claim ad earnings for":"Choose where you want to claim ad earnings for this video:","monitor":"Choose where you want to monitor this video:"},[i._enum(this.$VideoCopyrightGeoActionDialog2(),{block:"block","claim ad earnings for":"claim ad earnings for",monitor:"monitor"})]),c("React").createElement(c("VideoCopyrightGeoActionSelector.react"),{ref:"geoActionSelector",geoGate:this.state.actionGeoGate,ownershipGeoGate:this.props.ownershipGeoGate,onInputValidation:this.$VideoCopyrightGeoActionDialog3.bind(this),onChange:this.$VideoCopyrightGeoActionDialog4.bind(this)}),this.$VideoCopyrightGeoActionDialog5()),c("React").createElement(c("XUIDialogFooter.react"),{className:"_zx3",leftContent:this.$VideoCopyrightGeoActionDialog6()},this.$VideoCopyrightGeoActionDialog7()))};l.prototype.$VideoCopyrightGeoActionDialog4=function(m,n,o){__p&&__p();if(!m&&n&&o.length===0){var p=this.props.appliedActions&&this.props.appliedActions.filter(function(s){return s.action===this.props.action}.bind(this));if(p&&p.length>0){this.setState({alert:i._({"block":"You are removing your action to block this video.","claim ad earnings for":"You are removing your action to claim ad earnings for this video.","monitor":"You are removing your action to monitor this video."},[i._enum(this.$VideoCopyrightGeoActionDialog2(),{block:"block","claim ad earnings for":"claim ad earnings for",monitor:"monitor"})])});return}}else{var q=this.props.appliedActions&&this.props.appliedActions.filter(function(s){return s.action!==this.props.action}.bind(this));if(q&&q.length>0){var r=void 0;if(m)r=true;else r=this.$VideoCopyrightGeoActionDialog8(o,n,q);if(r){this.setState({alert:i._({"Block":{"block":"You are already performing another action in some of your selected countries. Select \"Block\" if you want to block this video in these countries instead.","claim ad earnings for":"You are already performing another action in some of your selected countries. Select \"Block\" if you want to claim ad earnings for this video in these countries instead.","monitor":"You are already performing another action in some of your selected countries. Select \"Block\" if you want to monitor this video in these countries instead."},"Claim Ad Earnings":{"block":"You are already performing another action in some of your selected countries. Select \"Claim ad earnings\" if you want to block this video in these countries instead.","claim ad earnings for":"You are already performing another action in some of your selected countries. Select \"Claim ad earnings\" if you want to claim ad earnings for this video in these countries instead.","monitor":"You are already performing another action in some of your selected countries. Select \"Claim ad earnings\" if you want to monitor this video in these countries instead."},"Monitor":{"block":"You are already performing another action in some of your selected countries. Select \"Monitor\" if you want to block this video in these countries instead.","claim ad earnings for":"You are already performing another action in some of your selected countries. Select \"Monitor\" if you want to claim ad earnings for this video in these countries instead.","monitor":"You are already performing another action in some of your selected countries. Select \"Monitor\" if you want to monitor this video in these countries instead."}},[i._enum(this.$VideoCopyrightGeoActionDialog1(),{Block:"Block","Claim Ad Earnings":"Claim Ad Earnings",Monitor:"Monitor"}),i._enum(this.$VideoCopyrightGeoActionDialog2(),{block:"block","claim ad earnings for":"claim ad earnings for",monitor:"monitor"})])});return}}}this.setState({alert:null})};l.prototype.$VideoCopyrightGeoActionDialog8=function(m,n,o){__p&&__p();var p=this.$VideoCopyrightGeoActionDialog9(m,n),q=false;o.forEach(function(r){__p&&__p();var s=r.geos,t=void 0;if(!(s&&s.included_countries&&s.included_countries.length)&&!(s&&s.excluded_countries&&s.excluded_countries.length)){q=true;return}else if(s.included_countries&&s.included_countries.length)t=this.$VideoCopyrightGeoActionDialog9(s.included_countries,true);else if(s.excluded_countries&&s.excluded_countries.length)t=this.$VideoCopyrightGeoActionDialog9(s.excluded_countries,false);if(t&&t.intersect(p).count()>0){q=true;return}}.bind(this));return q};l.prototype.$VideoCopyrightGeoActionDialog9=function(m,n){if(n)return new(c("StrSet"))(m);else return new(c("StrSet"))(Object.keys(c("CopyrightCountryNames")).filter(function(o){return m.indexOf(o)==-1}))};l.prototype.$VideoCopyrightGeoActionDialog1=function(){switch(this.props.action){case c("VideoCopyrightRuleActionType").BLOCK:return"Block";case c("VideoCopyrightRuleActionType").MONETIZE:return"Claim Ad Earnings";case c("VideoCopyrightRuleActionType").TRACK:return"Monitor";default:throw new Error("Invalid action")}};l.prototype.$VideoCopyrightGeoActionDialog2=function(){switch(this.props.action){case c("VideoCopyrightRuleActionType").BLOCK:return"block";case c("VideoCopyrightRuleActionType").MONETIZE:return"claim ad earnings for";case c("VideoCopyrightRuleActionType").TRACK:return"monitor";default:throw new Error("Invalid action")}};l.prototype.$VideoCopyrightGeoActionDialog5=function(){if(this.state.alert==null||this.state.shouldDisableSubmitButton)return null;return c("React").createElement(c("XUINotice.react"),{className:"_3-8y"},this.state.alert)};l.prototype.$VideoCopyrightGeoActionDialog10=function(){return i._({"Block":"Block","Claim Ad Earnings":"Claim Ad Earnings","Monitor":"Monitor"},[i._enum(this.$VideoCopyrightGeoActionDialog1(),{Block:"Block","Claim Ad Earnings":"Claim Ad Earnings",Monitor:"Monitor"})])};l.prototype.$VideoCopyrightGeoActionDialog11=function(){this.refs.geoActionSelector.addAllValidCountries()};l.prototype.$VideoCopyrightGeoActionDialog12=function(){this.refs.geoActionSelector.clearSelectedCountries()};l.prototype.$VideoCopyrightGeoActionDialog13=function(){var m=this.refs.geoActionSelector.getActionGeoGate(),n=(this.props.appliedActions||[]).filter(function(o){return o.action!==this.props.action}.bind(this));if(m!==null)if((m.included_countries||[]).length==0&&(m.excluded_countries||[]).length===0)n=[{action:this.props.action,geos:m}];else{n=this.$VideoCopyrightGeoActionDialog14(n,m);n.push({action:this.props.action,geos:m})}this.props.onSubmit(n)};l.prototype.$VideoCopyrightGeoActionDialog14=function(m,n){__p&&__p();var o=[],p=!!n.included_countries&&n.included_countries.length>0,q=(p?n.included_countries:n.excluded_countries)||[];m.forEach(function(r){__p&&__p();var s,t=this.$VideoCopyrightGeoActionDialog8(q,p,[r]);if(t){var u=r.geos;if(!u||!((u.included_countries||[]).length>0||(u.excluded_countries||[]).length>0))if(p)u={excluded_countries:q};else u={included_countries:q};else{var v=!!u.included_countries&&u.included_countries.length>0,w=(v?u.included_countries:u.excluded_countries)||[],x=this.$VideoCopyrightGeoActionDialog9(q,p),y=this.$VideoCopyrightGeoActionDialog9(w,v),z=x.difference(y);if(z.count()===0)return;else(function(){var A=Object.keys(c("CopyrightCountryNames")).length,B=z.toArray();if(B.length>A/2)u={excluded_countries:Object.keys(c("CopyrightCountryNames")).filter(function(C){return B.indexOf(C)==-1})};else u={included_countries:B}})()}o.push({action:r.action,geos:u})}else o.push(r)}.bind(this));return o};l.prototype.$VideoCopyrightGeoActionDialog6=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{className:"_3-90",onClick:this.$VideoCopyrightGeoActionDialog11.bind(this),label:i._("Add All"),use:"default"}),c("React").createElement(c("XUIDialogButton.react"),{className:"_3-90",label:i._("Clear"),onClick:this.$VideoCopyrightGeoActionDialog12.bind(this),use:"default"}))};l.prototype.$VideoCopyrightGeoActionDialog3=function(m){if(m!==this.state.shouldDisableSubmitButton)this.setState({shouldDisableSubmitButton:m})};l.prototype.$VideoCopyrightGeoActionDialog7=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",className:"_3-90",label:c("React").createElement("fbtc",null,"Cancel"),use:"default"}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.state.shouldDisableSubmitButton,label:this.$VideoCopyrightGeoActionDialog10(),onClick:this.$VideoCopyrightGeoActionDialog13.bind(this),use:"confirm"}))};f.exports=l}),null);
__d("VideoCopyrightNUXType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COPYRIGHT_MANAGEMENT_TAB:4048,COPYRIGHT_MANAGEMENT_TOUR:4142,CLAIM_AD_EARNINGS_DIALOG:4598,REFERENCE_FILE_INSIGHTS:5152,INSTAGRAM_ONBOARDING:5516})}),null);
__d("XVideoCopyrightSendReportDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/report/form/",{page_id:{type:"Int"},match_id:{type:"FBID"},video_id:{type:"FBID"},source:{type:"Enum",required:true,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("PageContentTabVideosCopyrightCommonActionsConfig",["fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","CopyrightTakedownReportSource","DOM","LiveStatusType","PageContentTabCommonConfig","PageContentTabRightsManagerStore","PageContentTabVideosCopyrightActions","PageContentTabVideosCopyrightMatchErrorDialog.react","React","ReactDOM","VideoCopyrightClaimAdEarningsConfirmationDialog.react","VideoCopyrightClaimAdEarningsNUXDialog.react","VideoCopyrightGeoActionDialog.react","VideoCopyrightMatchActionTypes","VideoCopyrightMatchStatus","VideoCopyrightNUXType","VideoCopyrightRuleActionType","VideoCopyrightUtils","XBasicFBNuxDismissController","XVideoCopyrightSendReportDialogController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={ADD_TO_REPORT:{allowBatch:false,getLabel:function k(l,m,n){return h._("Add to takedown report")},isDisabled:function k(l,m){if(l&&l.length){var n=l[0].auditLog;if(!n)return false;var o=n.filter(function(p){return p.matchState==="RESTORED_BY_PUBLISHER"})[0];return o}return false},isAvailable:function k(l,m,n){var o=l[0];if(c("PageContentTabRightsManagerStore").getIsRMLite())return false;return!n.can_see_sound_recordings_tab&&(!n.rights_manager_should_remove_private_auto_takedown||o&&!o.isAnonymous)},key:c("VideoCopyrightMatchActionTypes").ADD_TO_REPORT,onClick:function k(l,m){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").ADD_TO_REPORT,m)}},BLOCK:{allowBatch:false,getLabel:function k(l,m,n){return n.copyright_geo_actions_enabled?h._("Block match..."):h._("Block match")},isAvailable:function k(l,m,n){if(!n.can_see_rights_manager_block_action)return false;var o=l[0];return o&&(o.match_status||o.status)!==c("VideoCopyrightMatchStatus").BLOCKED||n.copyright_geo_actions_enabled},key:c("VideoCopyrightMatchActionTypes").BLOCK,onClick:function k(l,m){var n=c("DOM").create("div"),o=function o(q){c("PageContentTabVideosCopyrightActions").updateAppliedActions(l,q,m).done();c("ReactDOM").unmountComponentAtNode(n)};if(m.copyright_geo_actions_enabled){var p=l[0];c("ReactDOM").render(c("React").createElement(c("VideoCopyrightGeoActionDialog.react"),{action:c("VideoCopyrightRuleActionType").BLOCK,appliedActions:p.applied_actions,ownershipGeoGate:p.ownership_countries,onSubmit:o}),n)}else c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").BLOCK,m)}},UNBLOCK:{allowBatch:true,getLabel:function k(l,m,n){var o=l>1?" ("+l+")":null;return h._("Unblock {Post count}",[h._param("Post count",o)])},isAvailable:function k(l,m,n){return l.every(function(o){return o&&(o.match_status||o.status)===c("VideoCopyrightMatchStatus").BLOCKED})},key:c("VideoCopyrightMatchActionTypes").UNBLOCK,onClick:function k(l,m){var n=l.length>1?h._("You're unblocking these videos"):h._("You're unblocking this video"),o=l.length>1?h._("If you unblock these videos, you'll allow them to be posted on Facebook. You will no longer be able to access them in Rights Manager."):h._("If you unblock this video, you'll allow it to be posted on Facebook. You will no longer be able to access it in Rights Manager."),p=h._({"*":"Unblock Videos","_1":"Unblock Video"},[h._plural(l.length)]);c("PageContentTabCommonConfig").showConfirmationDialog(n,o,p,function(){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").UNBLOCK,m)},null)}},MONETIZE:{allowBatch:false,isDisabled:function k(l,m){var n=l.filter(function(o){return o.matchedVideoAsset.liveStatus===c("LiveStatusType").IS_LIVE_BROADCAST||!o.matchedVideoAsset.containsAdBreaks});return n.length!==0},isAvailable:function k(l,m,n){if(!n.can_see_rights_manager_monetization_action)return false;var o=l[0];return o&&(o.match_status||o.status)!==c("VideoCopyrightMatchStatus").CLAIMED||n.copyright_geo_actions_enabled},getLabel:function k(l,m,n){return n.copyright_geo_actions_enabled?h._("Claim ad earnings..."):h._("Claim ad earnings")},key:c("VideoCopyrightMatchActionTypes").MONETIZE,onClick:function k(l,m){__p&&__p();var n=c("DOM").create("div"),o=function o(q){c("PageContentTabVideosCopyrightActions").updateAppliedActions(l,q,m).done();c("ReactDOM").unmountComponentAtNode(n)},p=function p(){if(m.copyright_geo_actions_enabled){var q=l[0];c("ReactDOM").render(c("React").createElement(c("VideoCopyrightGeoActionDialog.react"),{action:c("VideoCopyrightRuleActionType").MONETIZE,appliedActions:q.applied_actions,ownershipGeoGate:q.ownership_countries,onSubmit:o}),n)}else c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").MONETIZE,m)};if(m.show_claim_ad_earning_dialog_nux)c("ReactDOM").render(c("React").createElement(c("VideoCopyrightClaimAdEarningsNUXDialog.react"),{pageID:m.page_id,onToggle:function q(){var r=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",c("VideoCopyrightNUXType").CLAIM_AD_EARNINGS_DIALOG).getURI();new(c("AsyncRequest"))().setURI(r).send();m.show_claim_ad_earning_dialog_nux=false;p()}}),c("DOM").create("div"));else if(m.is_copyright_monetization_onboarded)p();else c("ReactDOM").render(c("React").createElement(c("VideoCopyrightClaimAdEarningsConfirmationDialog.react"),{pageID:m.page_id}),c("DOM").create("div"))}},TRACK:{allowBatch:true,isAvailable:function k(l,m,n){if(n.show_attributions_tab&&!c("PageContentTabRightsManagerStore").getIsRMLite())return true;var o=l[0];return o&&(o.match_status||o.status)!==c("VideoCopyrightMatchStatus").MONITORED},getLabel:function k(l,m,n){if(l>1)return h._("Monitor match {Post count}",[h._param("Post count",l)]);return n&&n.show_attributions_tab&&!c("PageContentTabRightsManagerStore").getIsRMLite()?h._("Monitor match..."):h._("Monitor match")},key:c("VideoCopyrightMatchActionTypes").TRACK,onClick:function k(l,m){var n;if(m.show_attributions_tab&&!c("PageContentTabRightsManagerStore").getIsRMLite()&&l.length===1)(function(){var o=c("DOM").create("div"),p=function p(r){c("PageContentTabVideosCopyrightActions").updateAppliedActions(l,r,m).done();c("ReactDOM").unmountComponentAtNode(o)},q=l[0];c("ReactDOM").render(c("React").createElement(c("VideoCopyrightGeoActionDialog.react"),{action:c("VideoCopyrightRuleActionType").TRACK,appliedActions:q.applied_actions,onSubmit:p,ownershipGeoGate:q.ownership_countries}),o)})();else c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").TRACK,m)}},WHITELIST_PAGE:{allowBatch:false,isAvailable:function k(l,m,n){return n.can_see_rights_manager_whitelist_page_action},getLabel:function k(l,m,n){return h._("White-list this Page")},key:c("VideoCopyrightMatchActionTypes").WHITELIST_PAGE,onClick:function k(l,m){var n=l[0],o=n.matched_video_asset.owner_name,p=h._("White-list this Page?"),q=h._("White-list all videos uploaded by {name for user or page}?",[h._param("name for user or page",o)]);c("PageContentTabCommonConfig").showConfirmationDialog(p,q,h._("Continue"),function(){c("PageContentTabVideosCopyrightActions").addMatchOwnerToWhitelist(n,c("VideoCopyrightMatchActionTypes").WHITELIST_PAGE,m)},null)}},ALLOW_MATCH:{allowBatch:true,isAvailable:function k(l,m,n){if(n.new_mental_model_enabled)return false;var o=l[0];return o&&(o.match_status||o.status)!==c("VideoCopyrightMatchStatus").ALLOWED},getLabel:function k(l,m,n){var o=l>1?"("+l+")":null;return h._("Allow match {Post count}",[h._param("Post count",o)])},key:c("VideoCopyrightMatchActionTypes").ALLOW_MATCH,onClick:function k(l,m){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").ALLOW_MATCH,m)}},SET_SEEN_STATUS:{allowBatch:true,isAvailable:function k(l,m,n){var o=l[0];if(c("PageContentTabRightsManagerStore").getIsRMLite())return o&&(o.match_status||o.status)===c("VideoCopyrightMatchStatus").MONITORED;else return o&&(o.match_status||o.status)===c("VideoCopyrightMatchStatus").MANUAL_REVIEW},getLabel:function k(l,m,n){var o=c("VideoCopyrightUtils").isMajorityUnseen(m),p=l>1?"("+l+")":null;return o?h._("Mark as seen {Post count}",[h._param("Post count",p)]):h._("Mark as unseen {Post count}",[h._param("Post count",p)])},key:c("VideoCopyrightMatchActionTypes").SET_SEEN_STATUS,onClick:function k(l,m){var n=c("VideoCopyrightUtils").isMajorityUnseen(l);if(n)c("PageContentTabVideosCopyrightActions").setMatchSeen(l,m);else c("PageContentTabVideosCopyrightActions").setMatchUnseen(l,m)}},WRONG_MATCH:{allowBatch:false,getLabel:function k(l,m,n){return h._("Content doesn't match")},key:c("VideoCopyrightMatchActionTypes").WRONG_MATCH,onClick:function k(l,m){l.length===1||i(0);var n=document.createElement("div"),o=c("ReactDOM").render(c("React").createElement(c("PageContentTabVideosCopyrightMatchErrorDialog.react"),{onSave:function p(q,r){return c("PageContentTabVideosCopyrightActions").reportMatchError(l,m,q,r).done(function(){o.showSuccessMessage()})}}),n)}},REMOVE_FROM_ALLOWED:{allowBatch:true,isAvailable:function k(l){var m=l[0];return m&&(m.match_status||m.status)===c("VideoCopyrightMatchStatus").ALLOWED},getLabel:function k(l,m,n){var o=l>1?"("+l+")":null;return h._("Move to New Matches {Post count}",[h._param("Post count",o)])},key:c("VideoCopyrightMatchActionTypes").REMOVE_FROM_ALLOWED,onClick:function k(l,m){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").REMOVE_FROM_ALLOWED,m)}},REMOVE_FROM_DASHBOARD:{allowBatch:true,allowBulkSelection:true,getLabel:function k(l,m,n){var o=l>1?"("+l+")":null;return n&&n.can_see_sound_recordings_tab?h._("Release Claim {Post count}",[h._param("Post count",o)]):h._("Remove from matches {Post count}",[h._param("Post count",o)])},key:c("VideoCopyrightMatchActionTypes").REMOVE_FROM_DASHBOARD,createConfirmationTitle:function k(l){var m=h._({"Match?":"Delete match?","Matches?":"Delete matches?"},[h._enum(l===1?"Match?":"Matches?",{"Match?":"Match?","Matches?":"Matches?"})]);return m},createConfirmationBody:function k(l){var m=l===1?h._("This match will be permanently removed from your dashboard."):h._("{num posts} matches will be permanently removed from your dashboard.",[h._param("num posts",l)]);return m},onClick:function k(l,m){var n=this.createConfirmationBody(l.length),o=this.createConfirmationTitle(l.length);c("PageContentTabCommonConfig").showConfirmationDialog(o,n,h._("Delete"),function(){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").REMOVE_FROM_DASHBOARD,m)},null)},onClickWithBulkSelection:function k(l,m,n,o){var p=this.createConfirmationBody(m),q=this.createConfirmationTitle(m);c("PageContentTabCommonConfig").showConfirmationDialog(q,p,h._("Delete"),function(){c("PageContentTabVideosCopyrightActions").updateMatchStateWithBulkSelection(c("VideoCopyrightMatchActionTypes").REMOVE_FROM_ALLOWED,l,o,m,n)},null)}},REMOVE_FROM_REPORT:{allowBatch:true,getLabel:function k(l,m,n){var o=l>1?"("+l+")":null;return n&&n.new_mental_model_enabled?h._("Move to manual review {Post count}",[h._param("Post count",o)]):h._("Move to New Matches {Post count}",[h._param("Post count",o)])},key:c("VideoCopyrightMatchActionTypes").REMOVE_FROM_REPORT,onClick:function k(l,m){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").REMOVE_FROM_REPORT,m)}},RETRACT_REPORTED:{allowBatch:true,isAvailable:function k(l,m,n){return l.every(function(o){return(o.match_status||o.status)===c("VideoCopyrightMatchStatus").REPORTED})},getLabel:function k(l,m,n){return l>1?h._("Cancel {Takedown request count} takedown requests",[h._param("Takedown request count",l)]):h._("Cancel takedown request")},key:c("VideoCopyrightMatchActionTypes").RETRACT_REPORTED,onClick:function k(l,m){var n=l.length>1?h._("You're cancelling these takedown requests"):h._("You're cancelling this takedown request"),o=l.length>1?h._("If you cancel these takedown requests, you'll allow these videos to be posted on Facebook. You can access these videos again in your \"Monitored\" tab."):h._("If you cancel this takedown request, you'll allow this video to be posted on Facebook. You can access this video again in your \"Monitored\" tab."),p=l.length>1?h._("Cancel Takedown Requests"):h._("Cancel Takedown Request"),q=h._("Go Back");c("PageContentTabCommonConfig").showConfirmationDialog(n,o,p,function(){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").RETRACT_REPORTED,m)},q)}},RETRACT_TAKEDOWN:{allowBatch:true,isAvailable:function k(l,m,n){return l.every(function(o){return(o.match_status||o.status)===c("VideoCopyrightMatchStatus").REMOVED})},getLabel:function k(l,m,n){var o=l>1?"("+l+")":null;return h._({"video":"Restore video {Post count}","videos":"Restore videos {Post count}"},[h._enum(l===1?"video":"videos",{video:"video",videos:"videos"}),h._param("Post count",o)])},key:c("VideoCopyrightMatchActionTypes").RETRACT_TAKEDOWN,onClick:function k(l,m){var n=h._({"Video":"Restore video","Videos":"Restore videos"},[h._enum(l.length===1?"Video":"Videos",{Video:"Video",Videos:"Videos"})]),o=l.length===1?h._("Restoring the video will make it available again on Facebook. The match will be moved to your \"Monitored\" tab."):h._("Restoring these {Post count} videos will make them available again on Facebook. The matches will be moved to your \"Monitored\" tab.",[h._param("Post count",l.length)]),p=h._({"Video":"Restore Video","Videos":"Restore Videos"},[h._enum(l.length===1?"Video":"Videos",{Video:"Video",Videos:"Videos"})]);c("PageContentTabCommonConfig").showConfirmationDialog(n,o,p,function(){c("PageContentTabVideosCopyrightActions").updateMatchState(l,c("VideoCopyrightMatchActionTypes").RETRACT_TAKEDOWN,m)},null)}},REQUEST_TAKEDOWN:{allowBatch:false,isAvailable:function k(l,m,n){var o=l[0];return c("PageContentTabRightsManagerStore").getIsRMLite()&&o&&!o.isAnonymous},getLabel:function k(l,m){return h._("Request takedown")},key:c("VideoCopyrightMatchActionTypes").REQUEST_TAKEDOWN,onClick:function k(l,m){var n=c("XVideoCopyrightSendReportDialogController").getURIBuilder().setInt("page_id",m.page_id).setFBID("match_id",l[0].id).setEnum("source",c("CopyrightTakedownReportSource").SINGLE_TAKEDOWN).getURI();n=c("ActorURI").create(n,m.page_id);c("AsyncDialog").send(new(c("AsyncRequest"))().setURI(n))}}};f.exports=j}),null);
__d("VideoCopyrightRuleLoggingAction",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({MATCH_RULE_CREATED:"MATCH_RULE_CREATED",MATCH_RULE_DELETED:"MATCH_RULE_DELETED",MATCH_RULE_VIEWED:"MATCH_RULE_VIEWED"});f.exports=h}),null);
__d("VideosCopyrightRuleActions",["GraphAPI","VideoCopyrightUtils"],(function a(b,c,d,e,f,g){var h={createMatchRule:function i(j,k,l){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",j).edge("video_copyright_rules").post(babelHelpers["extends"]({},l,{access_token:k}))},reassociateReferences:function i(j,k,l,m,n){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_rule",l).post({migration_rule_id:k,excluded_copyright_ids:m,access_token:n})},getMatchRule:function i(j,k){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_rules",j).get({fields:c("VideoCopyrightUtils").getMatchGraphFields(),access_token:k,date_format:"U"})},deleteMatchRule:function i(j,k){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_rule",j).remove({access_token:k})}};f.exports=h}),null);
__d("PageContentTabVideosCopyrightRuleActions",["fbt","Promise","Arbiter","DateConsts","ErrorDialog","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","PageContentTabLocations","PageContentTabLogger","PageContentTabLoggingEvents","VideoCopyrightRuleLoggingAction","VideosCopyrightRuleActions","idx"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={createMatchRule:function j(k,l,m){__p&&__p();c("PageContentTabLoadingDialog").show();if(!c("PageContentTabLogger").hasPageID())c("PageContentTabLogger").init(k,c("PageContentTabLocations").PAGES_MANAGER);var n=c("VideoCopyrightRuleLoggingAction").MATCH_RULE_CREATED;return c("VideosCopyrightRuleActions").createMatchRule(k,m,l).then(function(o){return c("VideosCopyrightRuleActions").getMatchRule(o.id,m).then(function(p){c("PageContentTabDispatcher").handlePostCreated(c("PageContentTabConstants").TABS.MATCH_RULES,p,k);this._logAction(n,p.id);c("PageContentTabLoadingDialog").hide();return p}.bind(this),function(p){this._onError(n,p)}.bind(this))}.bind(this))},reassociateReferences:function j(k,l,m,n,o){__p&&__p();c("PageContentTabLoadingDialog").show();var p=c("VideoCopyrightRuleLoggingAction").MATCH_RULE_CREATED,q={};n.map(function(s){var t;if((t=s)!=null?(t=t.rule_ids)!=null?(t=t[0])!=null?t.id:t:t:t){var u=s.rule_ids[0].id;q[u]=q[u]||[];q[u].push(s.id)}});var r=m.map(function(s){__p&&__p();if(s.id==l){c("ErrorDialog").show(h._("Error"),h._("You cannot assign the same match rule."));c("PageContentTabLoadingDialog").hide();return c("Promise").reject()}return c("VideosCopyrightRuleActions").reassociateReferences(k,l,s.id,q[s.id]||[],o).then(function(t){s.is_in_migration=true;return},function(t){this._onError(p,t);return{error:t}}.bind(this))}.bind(this));c("Promise").all(r).done(function(s){__p&&__p();var t;if((t=s)!=null?(t=t[0])!=null?t.error:t:t){c("PageContentTabLoadingDialog").hide();return}if(l)c("VideosCopyrightRuleActions").getMatchRule(l,o).done(function(u){c("PageContentTabDispatcher").handlePostChanged(u,c("PageContentTabConstants").TABS.MATCH_RULES,k);c("PageContentTabDispatcher").handlePostsChanged(m,c("PageContentTabConstants").TABS.MATCH_RULES,k);this._logAction(p,l);c("PageContentTabLoadingDialog").hideWithSuccessMessage(h._("Your match rule is updating. This may take some time."),2*c("DateConsts").MS_PER_SEC);c("Arbiter").inform("rightsmanager/reassociationSucceeded"+k,{})}.bind(this),function(u){this._onError(p,u)}.bind(this));else{c("PageContentTabDispatcher").handlePostsChanged(m,c("PageContentTabConstants").TABS.MATCH_RULES,k);this._logAction(p,"");c("PageContentTabLoadingDialog").hide()}}.bind(this))},deleteMatchRule:function j(k,l,m){c("PageContentTabLoadingDialog").show();var n=c("VideoCopyrightRuleLoggingAction").MATCH_RULE_DELETED;c("VideosCopyrightRuleActions").deleteMatchRule(l,m).done(function(o){c("PageContentTabDispatcher").handlePostRemoved(k,l,c("PageContentTabConstants").TABS.MATCH_RULES);this._logAction(n,l);c("PageContentTabLoadingDialog").hide()}.bind(this),function(o){this._onError(n,o,l)}.bind(this))},_logAction:function j(k,l){c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").ACTION_TAKEN_MAIN_VIEW,c("PageContentTabConstants").TABS.MATCH_RULES,{action:k,post_id:l,num_posts:1,bulk_action:false})},_showErrorForAction:function j(k){var l=void 0;switch(k){case c("VideoCopyrightRuleLoggingAction").MATCH_RULE_CREATED:l=h._("There was a problem while creating your match rule. Please try again later.");break;case c("VideoCopyrightRuleLoggingAction").MATCH_RULE_VIEWED:l=h._("There was a problem with displaying your match rule. Please try again later.");break;case c("VideoCopyrightRuleLoggingAction").MATCH_RULE_DELETED:l=h._("There was a problem while deleting your match rule. Please try again later.");break}c("ErrorDialog").show(h._("Something's happened"),l)},_onError:function j(k,l,m){this._showErrorForAction(k);c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").API_ERROR,c("PageContentTabConstants").TABS.MATCH_RULES,{error:JSON.stringify(l),action:k,post_id:m})}};f.exports=i}),null);
__d("ScheduledLiveTimeStringUtil",["fbt","React","formatDate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=24*60*60*1e3,j={getStr:function k(l){return c("React").createElement("span",null,this.getDateStr(l)," ",c("formatDate")(l,"g:ia"))},getDateStr:function k(l){var m=new Date(l),n=new Date(Date.now()),o=new Date(Date.now()+i),p=new Date(Date.now()+2*i),q=new Date(Date.now()+3*i),r=null;if(n.toDateString()===m.toDateString())r=h._("Today at");else if(o.toDateString()===m.toDateString())r=h._("Tomorrow at");else if(p.toDateString()===m.toDateString()||q.toDateString()===m.toDateString())r=this._renderDayOfWeekString(m.getDay());else r=c("formatDate")(l,"F d");return r},_renderDayOfWeekString:function k(l){switch(l){case 0:return h._("Sunday at");case 1:return h._("Monday at");case 2:return h._("Tuesday at");case 3:return h._("Wednesday at");case 4:return h._("Thursday at");case 5:return h._("Friday at");case 6:return h._("Saturday at")}return null}};f.exports=j}),null);
__d("ScheduledLiveStoryVideoPreview.react",["ix","cx","fbt","BackgroundImage.react","Image.react","React","ScaledImage.react","ScheduledLiveTimeStringUtil","XUIButton.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=b.URL||b.webkitURL||{};k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=c("React").createElement("div",{className:"_ary"});return c("React").createElement("div",{className:"_ar_"},this.$ScheduledLiveStoryVideoPreview1(),o,this.$ScheduledLiveStoryVideoPreview2())};n.prototype.$ScheduledLiveStoryVideoPreview1=function(){if(this.props.backgroundImage.imageURL&&this.props.backgroundImage.width&&this.props.backgroundImage.height)return c("React").createElement(c("ScaledImage.react"),{width:600,height:300,className:"_as0",src:this.props.backgroundImage.imageURL,imageSize:{width:this.props.backgroundImage.width,height:this.props.backgroundImage.height}});return null};n.prototype.$ScheduledLiveStoryVideoPreview3=function(){var o=this.props.customProfileImage,p=this.props.customProfileImagePosition,q=p?""+p.x*100+"% "+p.y*100+"%":"50% 50%";if(o!=null)return c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"coverinside",backgroundPosition:q,className:"_as4",height:88,src:m.createObjectURL(o),width:88});if(this.props.previousCustomImage!=null)return c("React").createElement(c("Image.react"),{className:"_as4",src:this.props.previousCustomImage});return c("React").createElement(c("Image.react"),{className:"_as4",src:this.props.profileImageURL})};n.prototype.$ScheduledLiveStoryVideoPreview2=function(){var o=this.$ScheduledLiveStoryVideoPreview3(),p=c("React").createElement("div",{className:"_as5"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},c("ScheduledLiveTimeStringUtil").getStr(this.props.plannedStartTime))),q=this.props.isPremiere?j._("{broadcaster_name} plans to premiere a video.",[j._param("broadcaster_name",this.props.profileName)]):j._("{broadcaster_name} plans to go live.",[j._param("broadcaster_name",this.props.profileName)]),r=c("React").createElement("div",{className:"_as5"},c("React").createElement(c("XUIText.react"),{size:"header4"},q)),s=c("React").createElement(c("XUIButton.react"),{size:"medium",className:"_as6",label:j._("Get Reminder"),image:c("React").createElement(c("Image.react"),{src:h("114508")})});return c("React").createElement("div",null,c("React").createElement("div",null,o),c("React").createElement("div",{className:"_as7"},p,r,s))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("AnyTokenSearchSource",["AbstractSearchSource","SearchableEntry"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$AnyTokenSearchSource1=k||this.$AnyTokenSearchSource1}j.prototype.$AnyTokenSearchSource1=function(k){"use strict";return new(c("SearchableEntry"))({uniqueID:k,title:k})};j.prototype.searchImpl=function(k,l,m){"use strict";var n=[];if(k&&k.length)n.push(this.$AnyTokenSearchSource1(k));l(n,k)};f.exports=j}),null);
__d("SUIToggle.react",["cx","fbt","Link.react","React","SUIComponent","SUITheme","joinClasses","uniqueID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m={isHovering:false},n={display:"block"};j=babelHelpers.inherits(o,c("SUIComponent"));k=j&&j.prototype;function o(p,q){k.constructor.call(this,p,q);this.state=m;this.$SUIToggle1=this.$SUIToggle1.bind(this);this.$SUIToggle2=this.$SUIToggle2.bind(this);this.$SUIToggle3=this.$SUIToggle3.bind(this)}o.prototype.$SUIToggle1=function(event){this.props.onClick(event)};o.prototype.$SUIToggle2=function(){this.setState({isHovering:true})};o.prototype.$SUIToggle3=function(){this.setState({isHovering:false})};o.prototype.render=function(){var p=c("uniqueID")(),q=c("SUITheme").get(this).SUIToggle,r=q.height-6,s=r+2,t=c("joinClasses")((this.props.display==="inline"?"inlineBlock":"")+" _22jf"+(this.props.value?" _22jg":"")+(!this.props.value?" _22jh":""),this.props.className,this.props.margin),u=this.props.value?this.state.isHovering?q.on.hover:q.on.normal:this.state.isHovering?q.off.hover:q.off.normal;return c("React").createElement("div",{className:t,"data-testid":this.props["data-testid"]},c("React").createElement(c("Link.react"),{"aria-checked":!!this.props.value,"aria-labelledby":(this.props["aria-labelledby"]||"")+" "+p,className:"_22jj",href:"#",id:p,onClick:this.$SUIToggle1,onMouseEnter:this.$SUIToggle2,onMouseLeave:this.$SUIToggle3,role:"switch",style:babelHelpers["extends"]({},q.typeStyle,{backgroundColor:u.backgroundColor,color:u.color,height:q.height+"px",lineHeight:q.height+"px"})},c("React").createElement("div",{className:"_22jk",style:{marginRight:s+"px"}},this.props.onText?this.props.onText:i._("ON")),c("React").createElement("div",{className:"_22jl",style:{marginLeft:s+"px"}},this.props.offText?this.props.offText:i._("OFF")),c("React").createElement("div",{className:"_22jm",style:{backgroundColor:q.switchColor,height:r+"px",marginTop:-Math.floor(r/2)+"px",width:r+"px"}})))};o.propTypes={display:l.oneOf(["block","inline","inline-block"]).isRequired,margin:l.string,onClick:l.func.isRequired,value:l.bool.isRequired,offText:l.string,onText:l.string};o.defaultProps=n;f.exports=o}),null);
__d("SUICardBody.react",["React","SUIComponent","SUITheme"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("SUIComponent"));i=h&&h.prototype;k.prototype.render=function(){var l=c("SUITheme").get(this).SUICard.body,m=l.typeStyle,n=babelHelpers.objectWithoutProperties(l,["typeStyle"]);return c("React").createElement("div",{style:babelHelpers["extends"]({},n,m)},this.props.children)};function k(){h.apply(this,arguments)}k.propTypes={theme:j.instanceOf(c("SUITheme"))};f.exports=k}),null);
__d("easeInOutInterpolate",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){j>=0&&j<=1||h(0);return Math.cos((j+1)*Math.PI)/2+.5};f.exports=i}),null);
__d("SphericalParallaxUtils",["easeInOutInterpolate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=200,i=-100,j=h-i,k=45,l={getMinYawOffset:function m(n,o,p,q){var r=k*(p-i)/j;if(!n)return r;var s=-n+o;if(q>180){var t=-(360-q-r);return t>s?Math.abs(-(360-q)-s):r}else return q-r<s?q+s:r},getMaxYawOffset:function m(n,o,p,q){var r=k*(h-p)/j;if(!n||q>180)return r;var s=n-o;if(q<180)return r+q>s?s-q:r;else return q-360+r>s?s-(q-360):r},calculateNewYaw:function m(n,o,p,q,r,s){__p&&__p();var t=l.getMinYawOffset(q,s,o,p),u=l.getMaxYawOffset(r,s,o,p);if(n<i)return{yaw:-t,success:true};if(n>h)return{yaw:u,success:true};var v=c("easeInOutInterpolate")((n-i)/j)*j+i;if(v>=i&&v<=h){var w=0;if(v>o)w=p+u*((v-o)/(h-o));else w=p-t+t*(v-i)/(o-i);if(w<=p+u&&w>=p-t)return{yaw:w,success:true}}return{yaw:0,success:false}},calculateYawOffset:function m(n,o,p,q){return l.calculateNewYaw(n,50,0,o,p,q)}};f.exports=l}),null);
__d("VideoAssetPostsTable.react",["cx","fbt","ContentTabPageInfo","FixedDataTable.react","FixedDataTableColumn.react","Image.react","LeftRight.react","LineClamp.react","PageContentTabCellRenderers","React","VideoPublishingStateIndicator.react","VideoPublishingStateIndicatorUtils","XUICheckboxInput.react","XUIDateTimePickerUtils","XUIGrayText.react","formatDate","joinClasses","parseISODate"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=20,m=435,n=275,o=80,p=140,q=28,r=55,s=26,t=7e3,u=1e3;j=babelHelpers.inherits(v,c("React").Component);k=j&&j.prototype;v.prototype.$VideoAssetPostsTable1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(w,x){return w.concat(x.posts)},[])};v.prototype.$VideoAssetPostsTable2=function(w){"use strict";var x=this.$VideoAssetPostsTable1()[w],y=x.title?x.title+" ":"",z=x.description?x.description:"",A=x.isPublished?x.createdTime:x.schedulePublishTime?x.schedulePublishTime:null;return{video:{text:y+z,img:x.thumbnailUrl,expirationTime:x.expirationTime?x.expirationTime:null,publishTime:A,isDraft:!x.isPublished&&!A,creationTime:x.createdTime},views:x.viewsCount,time:new Date(x.createdTime*u).toISOString(),selected:this.props.selectedOrganicPosts.indexOf(x)>=0,showPostStateIndicator:this.props.showPostStateIndicator}};v.prototype.$VideoAssetPostsTable3=function(w,x){__p&&__p();var y,z=this;"use strict";if(w==="profile")return{cellRenderer:function A(B){if(!B)return c("React").createElement("div",null);return c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:B.img,className:"_16fx"}),c("React").createElement("div",{className:"_16fy","data-tooltip-content":B.text},c("React").createElement(c("LineClamp.react"),{lines:2},c("React").createElement("div",{className:"_16fz"},B.text))))},key:"video",label:i._("Your posts"),width:m};else if(w==="summary")return{cellRenderer:function A(B){if(!B)return c("React").createElement("div",null);return c("React").createElement("div",null,c("React").createElement("div",{className:"_16fy","data-tooltip-content":B.text},c("React").createElement("div",{className:"_1tq2"},B.text)))},key:"video",label:i._("Your posts"),width:n};else if(w==="views")return{cellRenderer:function A(B){return c("PageContentTabCellRenderers").renderCellWithNumber(B)},key:"views",width:o,label:i._("Views")};else if(w==="dateCreated"){var y=function(){var A=z;return{v:{cellRenderer:function B(C,D,E){if(x&&E.video){var F=E.video,G=c("VideoPublishingStateIndicatorUtils").getState(F);return c("React").createElement(c("LeftRight.react"),{direction:c("LeftRight.react").DIRECTION.left,className:"_3g5l"},c("React").createElement(c("VideoPublishingStateIndicator.react"),{state:G,toolTip:c("VideoPublishingStateIndicatorUtils").getStateToolTip(G,F)}),A.renderDateCell(C))}else return A.renderDateCell(C)},width:p,key:"time",headerRenderer:function B(C,D,E){var F=x?"_3-9b":"";return c("React").createElement("span",{className:F},C)},label:i._("Date created")}}}();if(typeof y==="object")return y.v}};v.prototype.renderDateCell=function(w){"use strict";if(!w)return c("React").createElement("div",null);var x=c("parseISODate")(w),y=c("XUIDateTimePickerUtils").offsetDate(x,x.getTimezoneOffset()/60*-1,true),z=c("XUIDateTimePickerUtils").getOffsetUIDate(y,c("ContentTabPageInfo").accountGmtOffsetSeconds/60),A=c("formatDate")(z,"M j, Y"),B=c("formatDate")(z,"g:ia");return c("React").createElement("div",null,c("React").createElement(c("LineClamp.react"),{lines:1},c("React").createElement("span",null,A)," ",c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},B)))};v.prototype.$VideoAssetPostsTable4=function(event){"use strict";var w=this.$VideoAssetPostsTable1(),x=Number(event.target.value),y=w[x],z=this.props.selectedOrganicPosts,A=void 0;if(event.target.checked)A=z.concat(y);else{var B=z.indexOf(y);A=z.slice(0);A.splice(B,1)}this.props.onPostSelectionChange(A)};v.prototype.$VideoAssetPostsTable5=function(){"use strict";var w=this.props.columns.map(function(x){return this.$VideoAssetPostsTable3(x,this.props.showPostStateIndicator)}.bind(this));if(this.props.allowRowSelection)w.unshift({cellRenderer:function(x,y,z,A){return c("React").createElement("div",{className:"_3zpx"},c("React").createElement(c("XUICheckboxInput.react"),{value:A,checked:x,onChange:this.$VideoAssetPostsTable4.bind(this)}))}.bind(this),width:l,key:"selected"});return w};v.prototype.$VideoAssetPostsTable6=function(){"use strict";var w=this.$VideoAssetPostsTable5();return w.map(function(x){return c("React").createElement(c("FixedDataTableColumn.react"),{width:x.width,key:x.key,dataKey:x.key,label:x.label,cellRenderer:x.cellRenderer,headerRenderer:x.headerRenderer})})};v.prototype.$VideoAssetPostsTable7=function(){"use strict";return"_16f-"};v.prototype.$VideoAssetPostsTable8=function(){"use strict";return this.props.columns.indexOf("profile")>=0?r:s};v.prototype.$VideoAssetPostsTable9=function(){"use strict";return this.props.hideHeader?0:q};v.prototype.render=function(){"use strict";var w=this.$VideoAssetPostsTable5().reduce(function(y,z){return y+z.width},0),x=this.$VideoAssetPostsTable8();return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_16g2"+(this.props.hideHeader?" _16g3":"")+(x===s?" _16g4":"")+(!!this.props.onRowClick?" _16g5":""))},c("React").createElement(c("FixedDataTable.react"),{width:w,onRowClick:this.props.onRowClick,rowsCount:this.$VideoAssetPostsTable1().length,rowGetter:this.$VideoAssetPostsTable2.bind(this),rowClassNameGetter:this.$VideoAssetPostsTable7.bind(this),headerHeight:this.$VideoAssetPostsTable9(),rowHeight:x,maxHeight:t},this.$VideoAssetPostsTable6()))};function v(){"use strict";j.apply(this,arguments)}v.defaultProps={hideHeader:false,allowRowSelection:false,selectedOrganicPosts:[],showPostStateIndicator:false};f.exports=v}),null);
__d("VideoAssetPostsSelection.react",["cx","fbt","React","ShimButton.react","VideoAssetPostsTable.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=" \u25b4",m=" \u25be";j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){"use strict";k.constructor.call(this,o);this.state={showPostsTable:false}}n.prototype.$VideoAssetPostsSelection1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(o,p){return o+p.posts.length},0)};n.prototype.render=function(){"use strict";__p&&__p();var o=void 0,p=void 0,q=this.$VideoAssetPostsSelection1(),r=void 0;if(this.state.showPostsTable){o=c("React").createElement(c("VideoAssetPostsTable.react"),{className:"_3-8w",organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.props.selectedOrganicPosts,onPostSelectionChange:this.props.onPostSelectionChange,columns:["summary","dateCreated"],hideHeader:true,allowRowSelection:true});p=c("React").createElement(c("ShimButton.react"),{form:"link",onClick:function(){return this.setState({showPostsTable:false})}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Hide {totalPostsCount} posts",[i._param("totalPostsCount",q)])),c("React").createElement(c("XUIText.react"),{size:"meta1"},m));if(this.props.tableCaption)r=c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x",shade:"light",size:"meta1",display:"block"},this.props.tableCaption)}else p=c("React").createElement(c("ShimButton.react"),{form:"link",onClick:function(){return this.setState({showPostsTable:true})}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Show {totalPostsCount} posts",[i._param("totalPostsCount",q)])),c("React").createElement(c("XUIText.react"),{size:"header3"},l));return c("React").createElement("div",{className:this.props.className},p,o,r)};f.exports=n}),null);
__d("VideoCaptionEditorStateEnums",[],(function a(b,c,d,e,f,g){var h={INIT:0,SAVED:0,UNSAVED:1,SAVING:2,PUBLISHING:3,EXIT:4,SHARE_EDITED:5,SHARING:6},i=Object.freeze({VIEW_ONLY:0,SAVED:1,UNSAVED:2}),j=Object.freeze({START_TIME:true,END_TIME:false}),k=Object.freeze({GOOD:0,POOR:1});f.exports={EditorStateEnum:h,EditItemStateEnum:i,TimestampTypes:j,VideoCaptionQualityEnum:k}}),null);
__d("VideoCaptionTimestampItem.react",["ix","cx","Image.react","React","TimeFormatUtil","XUIContextualDialog.react","XUINotice.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=300,n=2e3,o=1e3,p=100;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$VideoCaptionTimestampItem1=null,this.state={isDecreasing:false,isHovered:false,isIncreasing:false,timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)},this.$VideoCaptionTimestampItem4=function(w){this.props.onTextChange(w);this.setState({timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)})}.bind(this),this.$VideoCaptionTimestampItem5=function(w){this.setState({timeStampText:w})}.bind(this),this.$VideoCaptionTimestampItem2=function(){this.setState({isHovered:true})}.bind(this),this.$VideoCaptionTimestampItem3=function(){this.setState({isHovered:false});this.props.onBlur&&this.props.onBlur()}.bind(this),this.$VideoCaptionTimestampItem7=function(event){__p&&__p();if(event){this.props.onIncrease();setTimeout(this.$VideoCaptionTimestampItem7,m);setTimeout(this.$VideoCaptionTimestampItem7,n);this.setState({isIncreasing:true})}else if(this.state.isIncreasing&&!this.$VideoCaptionTimestampItem1)this.$VideoCaptionTimestampItem1=setInterval(this.props.onIncrease,p);else if(this.state.isIncreasing){this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=setInterval(function(){return this.props.onIncrease(o)}.bind(this),p)}}.bind(this),this.$VideoCaptionTimestampItem9=function(event){__p&&__p();if(event){this.props.onDecrease();setTimeout(this.$VideoCaptionTimestampItem9,m);setTimeout(this.$VideoCaptionTimestampItem9,n);this.setState({isDecreasing:true})}else if(this.state.isDecreasing&&!this.$VideoCaptionTimestampItem1)this.$VideoCaptionTimestampItem1=setInterval(this.props.onDecrease,p);else if(this.state.isDecreasing){this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=setInterval(function(){return this.props.onDecrease(o)}.bind(this),p)}}.bind(this),this.$VideoCaptionTimestampItem8=function(event){this.setState({isDecreasing:false,isIncreasing:false});this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=null}.bind(this),s}q.prototype.componentDidUpdate=function(r){if(r.timeInMs!==this.props.timeInMs)this.setState({timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)})};q.prototype.render=function(){var r=this.props.errorMessage?c("React").createElement(c("XUINotice.react"),{use:"warn",size:"small"},this.props.errorMessage):null;return c("React").createElement("div",{className:"_1bsk",onMouseEnter:this.$VideoCaptionTimestampItem2,onMouseLeave:this.$VideoCaptionTimestampItem3},c("React").createElement("textarea",{className:"_1bsl",value:this.state.timeStampText,onBlur:function(event){return this.$VideoCaptionTimestampItem4(this.state.timeStampText)}.bind(this),onChange:function(event){return this.$VideoCaptionTimestampItem5(event.target.value)}.bind(this),ref:"timestamp",rows:1}),this.$VideoCaptionTimestampItem6(),c("React").createElement(c("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return this.refs.timestamp}.bind(this),shown:!!r,position:"above"},r))};q.prototype.$VideoCaptionTimestampItem6=function(){return this.state.isHovered?c("React").createElement("div",{className:"_1bsm"},c("React").createElement("div",{className:"_3qth",onMouseDown:this.$VideoCaptionTimestampItem7,onMouseUp:this.$VideoCaptionTimestampItem8},c("React").createElement(c("Image.react"),{src:h("143444")})),c("React").createElement("div",{className:"_3qth",onMouseDown:this.$VideoCaptionTimestampItem9,onMouseUp:this.$VideoCaptionTimestampItem8},c("React").createElement(c("Image.react"),{src:h("143414")}))):null};q.prototype.blur=function(){this.refs.timestamp&&this.refs.timestamp.blur()};q.propTypes={timeInMs:l.number.isRequired,onBlur:l.func,onDecrease:l.func,onIncrease:l.func,onTextChange:l.func.isRequired,errorMessage:l.string};q.defaultProps={errorMessage:null};f.exports=q}),null);
__d("VideoCaptionTimestampItemContainer.react",["fbt","React","TimeFormatUtil","VideoCaptionTimestampItem.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={errorMessage:null},this.$VideoCaptionTimestampItemContainer1=function(){this.setState({errorMessage:null})}.bind(this),this.$VideoCaptionTimestampItemContainer2=function(s){var t=s?this.props.timeInMs-s:this.props.timeInMs-l;this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer3=function(s){var t=s?this.props.timeInMs+s:this.props.timeInMs+l;this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer4=function(s){var t=c("TimeFormatUtil").parseToTimeInMs(s);this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer5=function(s){if(this.$VideoCaptionTimestampItemContainer6(s)){this.props.onTimeChange&&this.props.onTimeChange(s);this.setState({errorMessage:null})}else{var t=this.props.minTime||0,u=h._("Valid time input")+": "+c("TimeFormatUtil").formatTime(t);if(this.props.maxTime)u+=" ~ "+c("TimeFormatUtil").formatTime(this.props.maxTime);this.setState({errorMessage:u})}}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("VideoCaptionTimestampItem.react"),{timeInMs:this.props.timeInMs,onBlur:this.$VideoCaptionTimestampItemContainer1,onDecrease:this.$VideoCaptionTimestampItemContainer2,onIncrease:this.$VideoCaptionTimestampItemContainer3,onTextChange:this.$VideoCaptionTimestampItemContainer4,errorMessage:this.state.errorMessage,ref:"timestampItem"})};m.prototype.blur=function(){this.refs.timestampItem&&this.refs.timestampItem.blur()};m.prototype.decrease=function(n){var o=n?this.props.timeInMs-n:this.props.timeInMs-l;this.$VideoCaptionTimestampItemContainer5(o)};m.prototype.increase=function(n){var o=n?this.props.timeInMs+n:this.props.timeInMs+l;this.$VideoCaptionTimestampItemContainer5(o)};m.prototype.$VideoCaptionTimestampItemContainer6=function(n){var o=this.props.minTime||0,p=this.props.maxTime||Number.MAX_VALUE;return n>=o&&n<=p};m.propTypes={timeInMs:k.number.isRequired,minTime:k.number,maxTime:k.number,onTimeChange:k.func};f.exports=m}),null);
__d("VideoCaptionTimestamp.react",["cx","Event","React","VideoCaptionTimestampItemContainer.react","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("VideoCaptionEditorStateEnums").TimestampTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$VideoCaptionTimestamp1=null,this.$VideoCaptionTimestamp3=function(s,t){if(t===l.END_TIME)s-=this.props.startTimeInMs;this.props.onTimeChange&&this.props.onTimeChange(s,t)}.bind(this),this.$VideoCaptionTimestamp2=function(event){__p&&__p();if(!event.altKey)return;switch(event.keyCode){case 90:if(this.refs.startTime)this.refs.startTime.decrease();break;case 88:if(this.refs.startTime)this.refs.startTime.increase();break;case 67:if(this.refs.endTime)this.refs.endTime.decrease();break;case 86:if(this.refs.endTime)this.refs.endTime.increase();break;default:return}event.prevent();event.stop()}.bind(this),o}m.prototype.componentDidUpdate=function(n){if(this.props.isSelected===n.isSelected)return;if(this.props.isSelected)this.$VideoCaptionTimestamp1=c("Event").listen(window,"keyup",this.$VideoCaptionTimestamp2);else{this.$VideoCaptionTimestamp1&&this.$VideoCaptionTimestamp1.remove();this.$VideoCaptionTimestamp1=null}};m.prototype.render=function(){var n=this.props.startTimeInMs+this.props.durationTimeInMs;return c("React").createElement("div",{className:"_1aja"},c("React").createElement(c("VideoCaptionTimestampItemContainer.react"),{timeInMs:this.props.startTimeInMs,minTime:this.props.minTime,maxTime:n,onTimeChange:function(o){this.$VideoCaptionTimestamp3(o,l.START_TIME)}.bind(this),ref:"startTime"}),c("React").createElement(c("VideoCaptionTimestampItemContainer.react"),{timeInMs:n,minTime:this.props.startTimeInMs,maxTime:this.props.maxTime,onTimeChange:function(o){this.$VideoCaptionTimestamp3(o,l.END_TIME)}.bind(this),ref:"endTime"}))};m.prototype.blur=function(){this.refs.startTime&&this.refs.startTime.blur();this.refs.endTime&&this.refs.endTime.blur()};m.propTypes={startTimeInMs:k.number.isRequired,durationTimeInMs:k.number.isRequired,isSelected:k.bool,minTime:k.number,maxTime:k.number,onTimeChange:k.func};f.exports=m}),null);
__d("RelayVideoCaptionRoute",["RelayClassic_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("RelayClassic_DEPRECATED").Route);i=h&&h.prototype;function j(){h.apply(this,arguments)}j.path="/video/captioneditor/{caption_id}";j.routeName="RelayVideoCaptionRoute";j.paramDefinitions={caption_id:{type:"String",required:true}};j.queries={caption:function k(l){return function(m){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"caption_id"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},c("RelayClassic_DEPRECATED").QL.__frag(m)]),fieldName:"node",kind:"Query",metadata:{isAbstract:true,identifyingArgName:"id",identifyingArgType:"ID!"},name:"RelayVideoCaptionRoute",type:"Node"}}(l.getFragment("caption"))}};f.exports=j}),null);
__d("VideoCaptionPlacements",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_AD:0,EXISTING_POST_SECTION:1,PAGE_COMPOSER_EDIT:2,VIDEO_CAROUSEL:3,CREATE_AD_CF:4,EXISTING_POST_SECTION_CF:5,PAGE_TIMELINE_POST_HEADER:6,JEWEL_NOTIFICATION:7,EMAIL_NOTIFICATION:8})}),null);
__d("VideoCaptionEditorLogger",["VideoCaptionEditEventTypedLogger","VideoCaptionPlacements"],(function a(b,c,d,e,f,g){"use strict";h.prototype.log=function(event,i,j,k,l,m){new(c("VideoCaptionEditEventTypedLogger"))().setEvent(event).setVideoID(j).setCaptionID(i).setAppID(k).setErrorMessage(l).setPlacement(m||c("VideoCaptionPlacements").CREATE_AD).log()};h.prototype.logWithData=function(i){new(c("VideoCaptionEditEventTypedLogger"))().updateData(i).log()};function h(){}f.exports=h}),null);
__d("VideoCopyrightPostGraphFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ID:"id",ATTRIBUTION_ID:"attribution_id",COPYRIGHT_CONTENT_ID:"copyright_content_id",IS_REFERENCE_VIDEO:"is_reference_video",MONITORING_TYPE:"monitoring_type",RULE_ID:"rule_id",WHITELISTED_IDS:"whitelisted_ids",WHITELISTED_IG_USER_IDS:"whitelisted_ig_user_ids",OWNERSHIP_COUNTRIES:"ownership_countries",EXCLUDED_OWNERSHIP_COUNTRIES:"excluded_ownership_countries",EXCLUDED_OWNERSHIP_SEGMENTS:"excluded_ownership_segments",APPEND_EXCLUDED_OWNERSHIP_SEGMENTS:"append_excluded_ownership_segments",IS_REFERENCE_DISABLED:"is_reference_disabled",OPS_OVERRIDE_MONITORING_TYPE:"ops_override_monitoring_type",IS_REFERENCE_DISABLED_BY_OPS:"is_reference_disabled_by_ops",CONTENT_CATEGORY:"content_category",PAUSE_LIVE_MONITORING:"pause_live_monitoring",PAUSE_LIVE_MONITORING_TYPE:"pause_live_monitoring_type"})}),null);
__d("VideoCopyrightAPI",["fbt","regeneratorRuntime","Promise","GraphAPI","PageContentTabRightsManagerStore","SimpleXUIDialog","VideoContainerType","VideoCopyrightPostGraphFields","VideoCopyrightUITypedLogger","VideoCopyrightUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="NO_RULE_SELECTED",j={toAPI:function k(l,m){__p&&__p();var n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:n={};if(m.copyrightRuleID!=undefined)n[c("VideoCopyrightPostGraphFields").RULE_ID]=m.copyrightRuleID;if("copyrightAttributionID"in m)n[c("VideoCopyrightPostGraphFields").ATTRIBUTION_ID]=m.copyrightAttributionID||0;if(m.copyrightMonitoringType!=undefined)n[c("VideoCopyrightPostGraphFields").MONITORING_TYPE]=m.copyrightMonitoringType;if(m.copyrightOwnershipCountries!=undefined)if(m.areCopyrightCountriesIncluded)n[c("VideoCopyrightPostGraphFields").OWNERSHIP_COUNTRIES]=m.copyrightOwnershipCountries;else n[c("VideoCopyrightPostGraphFields").EXCLUDED_OWNERSHIP_COUNTRIES]=m.copyrightOwnershipCountries;if(m.isReferenceFileDisabled!=undefined)n[c("VideoCopyrightPostGraphFields").IS_REFERENCE_DISABLED]=!!m.isReferenceFileDisabled;if(m.copyrightWhitelistedFBUsers!=undefined)n[c("VideoCopyrightPostGraphFields").WHITELISTED_IDS]=(m.copyrightWhitelistedFBUsers||[]).map(function(r){return r.id});if(!Array.isArray(m.copyrightWhitelistedIGUserNames)){q.next=12;break}q.next=10;return c("regeneratorRuntime").awrap(c("VideoCopyrightUtils").convertIGUserNameToIDs(l,m.copyrightWhitelistedIGUserNames));case 10:o=q.sent;if(Array.isArray(o))n[c("VideoCopyrightPostGraphFields").WHITELISTED_IG_USER_IDS]=o.filter(function(r){return r!=null});case 12:if(m.video_container||m.isReferenceVideo)n[c("VideoCopyrightPostGraphFields").IS_REFERENCE_VIDEO]=m.video_container===c("VideoContainerType").COPYRIGHT_REFERENCE_VIDEO||m.isReferenceVideo===true;if(m.copyrightExcludedSegments!=undefined){n[c("VideoCopyrightPostGraphFields").EXCLUDED_OWNERSHIP_SEGMENTS]=m.copyrightExcludedSegments;n[c("VideoCopyrightPostGraphFields").APPEND_EXCLUDED_OWNERSHIP_SEGMENTS]=m.shouldAppendExcludedSegments||false}if(m.selectedCategory!=undefined)n[c("VideoCopyrightPostGraphFields").CONTENT_CATEGORY]=m.selectedCategory;return q.abrupt("return",n);case 16:case"end":return q.stop()}},null,this)},copyrightVideo:function k(l,m,n,o,p,q){__p&&__p();var r,s,t;return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:r=o.copyrightRuleID;if(!(r===i&&!c("PageContentTabRightsManagerStore").getIsRMLite())){v.next=5;break}s=this._getErrorMessageForNoRuleSelected();this._showErrorDialog(s);return v.abrupt("return",c("Promise").reject(new Error()));case 5:v.next=7;return c("regeneratorRuntime").awrap(this.toAPI(m,o));case 7:t=v.sent;t[c("VideoCopyrightPostGraphFields").COPYRIGHT_CONTENT_ID]=n;return v.abrupt("return",c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",m).edge("video_copyrights").post(babelHelpers["extends"]({},t,{access_token:l})).then(function(w){if(q)q(w);this._logEvent("copyright_created",p,m,n,null,t)}.bind(this),function(w){this._logEvent("api_error",p,m,n,null,t,w);this._showErrorDialog(w);throw w}.bind(this)));case 10:case"end":return v.stop()}},null,this)},uncopyrightVideo:function k(l,m,n,o,p,q,r){__p&&__p();var s;return c("regeneratorRuntime").async(function t(u){__p&&__p();while(1)switch(u.prev=u.next){case 0:u.next=2;return c("regeneratorRuntime").awrap(this.toAPI(m,p));case 2:s=u.sent;return u.abrupt("return",c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",o).remove({access_token:l}).then(function(v){if(r)r(v);this._logEvent("copyright_deleted",q,m,n,o,s)}.bind(this),function(v){this._logEvent("api_error",q,m,n,o,s,v);throw v}.bind(this)));case 4:case"end":return u.stop()}},null,this)},editVideoCopyright:function k(l,m,n,o,p,q){__p&&__p();var r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:t.next=2;return c("regeneratorRuntime").awrap(this.toAPI(m,p));case 2:r=t.sent;return t.abrupt("return",c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",o).post(babelHelpers["extends"]({},r,{access_token:l})).then(function(u){return this._logEvent("copyright_edited",q,m,n,o,r)}.bind(this),function(u){this._logEvent("api_error",q,m,n,o,r,u);this._showErrorDialog(u);throw u}.bind(this)));case 4:case"end":return t.stop()}},null,this)},reassignVideoCopyrightMatchRule:function k(l,m,n,o,p){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",n).post({rule_id:o,access_token:l}).then(function(q){new(c("VideoCopyrightUITypedLogger"))().setEvent("reassign_match_rule").setSource(p).setCopyrightID(n).setRightsHolderID(m).setRuleID(o).log()},function(q){new(c("VideoCopyrightUITypedLogger"))().setEvent("api_error").setSource(p).setCopyrightID(n).setRightsHolderID(m).setMessage("Tried to assign to rule ID "+o).setExceptionMessage(q).log();this._showErrorDialog(q);throw q}.bind(this))},updateAttribution:function k(l,m,n,o,p){return c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",n).post({attribution_id:o==null?0:o,access_token:l})},_logEvent:function k(event,l,m,n,o,p,q){new(c("VideoCopyrightUITypedLogger"))().setEvent(event).setSource(l).setCopyrightContentID(n).setCopyrightID(o).setRightsHolderID(m).setMonitoringType(p[c("VideoCopyrightPostGraphFields").MONITORING_TYPE]).setIsReference(p[c("VideoCopyrightPostGraphFields").IS_REFERENCE_VIDEO]).setOwnershipCountries((p[c("VideoCopyrightPostGraphFields").OWNERSHIP_COUNTRIES]||[]).join(",")).setWhitelistedIds((p[c("VideoCopyrightPostGraphFields").WHITELISTED_IDS]||[]).join(",")).setAttributionID(p[c("VideoCopyrightPostGraphFields").ATTRIBUTION_ID]).setRuleID(p[c("VideoCopyrightPostGraphFields").RULE_ID]).setExceptionMessage(q).log()},_showErrorDialog:function k(l){c("SimpleXUIDialog").show(l.error_user_msg||h._("Your video can't be monitored for matching uploads at the moment. Please try again later."),l.error_user_title||h._("Can't monitor video"))},_getErrorMessageForNoRuleSelected:function k(){return{error_user_msg:h._("Match rule is required.")}}};f.exports=j}),null);
__d("VideoCopyrightGeoSearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","filterObject","forEachObject"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.searchImpl=function(k,l){__p&&__p();var m,n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];"use strict";var o=[];if(k)(function(){var p=k.toLowerCase(),q=c("filterObject")(c("CopyrightCountryNames"),function(s){return s.toString().toLowerCase().includes(p)}),r=0;c("forEachObject")(q,function(s,t){o.push(new(c("SearchableEntry"))({order:r++,title:s,uniqueID:t}))})})();l(o,k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("VideoCopyrightMatchContentType",["ix","fbt","fbglyph"],(function a(b,c,d,e,f,g,h,i){var j={VIDEO_AND_AUDIO:{value:"VIDEO_AND_AUDIO",label:i._("Video and audio"),glyphs:[h("122523"),h("123754")]},VIDEO_ONLY:{value:"VIDEO_ONLY",label:i._("Video only"),glyphs:[h("122523")]},AUDIO_ONLY:{value:"AUDIO_ONLY",label:i._("Audio only"),glyphs:[h("123754")]}};f.exports=j}),null);
__d("VideoCopyrightMatchPrivacyType",["fbt"],(function a(b,c,d,e,f,g,h){var i={PUBLIC_ONLY:{value:"PUBLIC_ONLY",label:h._("Public videos only")},PRIVATE_ONLY:{value:"PRIVATE_ONLY",label:h._("Private videos only")},PUBLIC_OR_PRIVATE:{value:"PUBLIC_OR_PRIVATE",label:h._("Both public and private videos")}};f.exports=i}),null);
__d("PolicyRuleAction",[],(function a(b,c,d,e,f,g){__p&&__p();var h=0;function i(j,k){"use strict";this.$PolicyRuleAction1=j;this.$PolicyRuleAction2=k||[];this.$PolicyRuleAction3=++h}i.prototype.getActionType=function(){"use strict";return this.$PolicyRuleAction1};i.prototype.getID=function(){"use strict";return this.$PolicyRuleAction3};i.prototype.getConditions=function(){"use strict";return this.$PolicyRuleAction2};i.prototype.pushCondition=function(j){"use strict";this.$PolicyRuleAction2.push(j)};i.prototype.pushConditionByIndex=function(j,k){"use strict";this.$PolicyRuleAction2.splice(k,0,j)};i.prototype.removeCondition=function(j){"use strict";var k=this.$PolicyRuleAction2.indexOf(j);this.$PolicyRuleAction2.splice(k,1)};i.prototype.setActionType=function(j){"use strict";this.$PolicyRuleAction1=j};i.prototype.areConditionsValid=function(){"use strict";return this.$PolicyRuleAction2.every(function(j){return j.isValid&&j.isValid()})};f.exports=i}),null);
__d("PolicyRuleCondition",["fbt"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k,l){"use strict";this.$PolicyRuleCondition1=j;this.$PolicyRuleCondition2=k;this.$PolicyRuleCondition3=l;this.$PolicyRuleCondition4=null}i.prototype.getConditionType=function(){"use strict";return this.$PolicyRuleCondition1};i.prototype.setConditionType=function(j){"use strict";this.$PolicyRuleCondition1=j};i.prototype.getOption=function(){"use strict";return this.$PolicyRuleCondition2};i.prototype.setOption=function(j){"use strict";this.$PolicyRuleCondition2=j};i.prototype.getValue=function(){"use strict";return this.$PolicyRuleCondition3};i.prototype.setValue=function(j){"use strict";this.$PolicyRuleCondition3=j};i.prototype.isValid=function(){"use strict";return this.getError()==null};i.prototype.setCustomError=function(j){"use strict";this.$PolicyRuleCondition4=j};i.prototype.getError=function(j){"use strict";if(this.$PolicyRuleCondition4)return this.$PolicyRuleCondition4;j=j?j:this.$PolicyRuleCondition3;if(!j||j.length===0)return h._("Provide a value for this condition.")};f.exports=i}),null);
__d("VideoCopyrightMatchPrivacyTypeName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PUBLIC_ONLY:"PUBLIC_ONLY",PRIVATE_ONLY:"PRIVATE_ONLY",PUBLIC_OR_PRIVATE:"PUBLIC_OR_PRIVATE"})}),null);
__d("VideoCopyrightRuleConditionOption",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={GREATER_THAN:{key:"GREATER_THAN",untranslated:"Greater than",text:h._("Greater than"),symbol:">"},LESS_THAN:{key:"LESS_THAN",untranslated:"Less than",text:h._("Less than"),symbol:"<"},IN_SET:{key:"IN_SET",untranslated:"Is",text:h._("Is"),alias:"INCLUDE"},NOT_IN_SET:{key:"NOT_IN_SET",untranslated:"Is not",text:h._("Is not"),alias:"NOT_INCLUDE"},IS:{key:"IS",untranslated:"Is",text:h._("Is")},INCLUDE:{key:"INCLUDE",untranslated:"Include countries",text:h._("Include countries"),alias:"IN_SET"},NOT_INCLUDE:{key:"NOT_INCLUDE",untranslated:"Not include countries",text:h._("Exclude countries"),alias:"NOT_IN_SET"},WORLDWIDE:{key:"WORLDWIDE",untranslated:"Worldwide",text:h._("Worldwide")}};f.exports=i}),null);
__d("VideoCopyrightRuleCondition",["ClockFormatConverter","PolicyRuleCondition","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionType","VideoCopyrightRuleGraphFields","VideoCopyrightRuleOperatorType","VideoCopyrightMatchPrivacyTypeName","VideoCopyrightMatchContentType","VideoCopyrightPublisherType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("PolicyRuleCondition"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this,k,l,m)}j.prototype.toAPI=function(){"use strict";var k={},l=this.getValue();k[c("VideoCopyrightRuleGraphFields").TYPE]=this.getConditionType();k[c("VideoCopyrightRuleGraphFields").OPERATOR]=c("VideoCopyrightRuleOperatorType")[this.getOption()];if(this.getConditionType()===c("VideoCopyrightRuleConditionType").OVERLAP_DURATION)l=c("ClockFormatConverter").timestampToMillis(l);k[c("VideoCopyrightRuleGraphFields").VALUE]=l;return k};j.prototype.toAPIforNewMatchRule=function(){"use strict";__p&&__p();var k={},l=this.getValue();k[c("VideoCopyrightRuleGraphFields").TYPE]=this.getConditionType();if(this.getConditionType()===c("VideoCopyrightRuleConditionType").GEO)k[c("VideoCopyrightRuleGraphFields").OPERATOR]=c("VideoCopyrightRuleConditionOption")[this.getOption()].alias;else k[c("VideoCopyrightRuleGraphFields").OPERATOR]=c("VideoCopyrightRuleOperatorType")[this.getOption()];if(this.getConditionType()===c("VideoCopyrightRuleConditionType").OVERLAP_DURATION)l=c("ClockFormatConverter").timestampToMillis(l);if(this.getConditionType()===c("VideoCopyrightRuleConditionType").PRIVACY&&Array.isArray(l))if(l.length>1)l=c("VideoCopyrightMatchPrivacyTypeName").PUBLIC_OR_PRIVATE;else l=l[0];if(this.getConditionType()===c("VideoCopyrightRuleConditionType").PUBLISHER_TYPE&&Array.isArray(l))l=l[0];k[c("VideoCopyrightRuleGraphFields").VALUE]=l;return k};j.fromAPI=function(k){"use strict";var l=k[c("VideoCopyrightRuleGraphFields").TYPE],m=k[c("VideoCopyrightRuleGraphFields").OPERATOR],n=k[c("VideoCopyrightRuleGraphFields").VALUE];switch(l){case c("VideoCopyrightRuleConditionType").OVERLAP_DURATION:n=c("ClockFormatConverter").millisToTimestamp(parseInt(n,10)).toString();break;case c("VideoCopyrightRuleConditionType").MONITORING_TYPE:n=Array.isArray(n)?n:n.split(",");break}return new this(l,m,n)};j.fromAPIforNewMatchRule=function(k,l){"use strict";__p&&__p();var m=k[c("VideoCopyrightRuleGraphFields").TYPE],n=k[c("VideoCopyrightRuleGraphFields").OPERATOR],o=k[c("VideoCopyrightRuleGraphFields").VALUE];switch(m){case c("VideoCopyrightRuleConditionType").OVERLAP_DURATION:o=c("ClockFormatConverter").millisToTimestamp(parseInt(o,10)).toString();break;case c("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE:case c("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE:o=o.toString();break;case c("VideoCopyrightRuleConditionType").GEO:if(o.includes("Worldwide")){n=c("VideoCopyrightRuleConditionOption").WORLDWIDE.key;o=["Worldwide"]}else if(c("VideoCopyrightRuleConditionOption")[k[c("VideoCopyrightRuleGraphFields").OPERATOR]].alias)n=c("VideoCopyrightRuleConditionOption")[k[c("VideoCopyrightRuleGraphFields").OPERATOR]].alias;break;case c("VideoCopyrightRuleConditionType").PUBLISHER_TYPE:o=Array.isArray(o)?o:[o];if(o.length===Object.keys(c("VideoCopyrightPublisherType")).length&&!l)return null;break;case c("VideoCopyrightRuleConditionType").MONITORING_TYPE:o=Array.isArray(o)?o:[o];if(o.length===Object.keys(c("VideoCopyrightMatchContentType")).length&&!l)return null;break;case c("VideoCopyrightRuleConditionType").PRIVACY:var p=[c("VideoCopyrightMatchPrivacyTypeName").PUBLIC_ONLY,c("VideoCopyrightMatchPrivacyTypeName").PRIVATE_ONLY];if(o===c("VideoCopyrightMatchPrivacyTypeName").PUBLIC_OR_PRIVATE){if(!l)return null;o=p}else{o=Array.isArray(o)?o:[o];if(o.length===p.length&&!l)return null}break}return new this(m,n,o)};f.exports=j}),null);
__d("VideoCopyrightPrivacyType",["fbt","VideoCopyrightMatchPrivacyTypeName","fbglyph"],(function a(b,c,d,e,f,g,h){var i,j=(i={},i[c("VideoCopyrightMatchPrivacyTypeName").PUBLIC_ONLY]={value:"PUBLIC_ONLY",label:h._("Public"),summaryLabel:h._("Public")},i[c("VideoCopyrightMatchPrivacyTypeName").PRIVATE_ONLY]={value:"PRIVATE_ONLY",label:h._("Limited"),summaryLabel:h._("Limited")},i);f.exports=j}),null);
__d("VideoCopyrightRuleConditionButtonSelector.react",["cx","Image.react","React","Tooltip","VideoCopyrightRuleCondition","XUIButton.react","XUIButtonGroup.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();var k=function k(n,j){var o=j.condition.getValue().indexOf(n),p=j.condition.getValue();if(o===-1)p.push(n);else{if(p.length<=1)return p;p.splice(o,1)}return p},l=Object.keys(j.VideoCopyrightSelectorOptionType),m=l.map(function(n){__p&&__p();var o=j.VideoCopyrightSelectorOptionType[n],p=o.glyphs,q=void 0,r=void 0;if(p){q=p.map(function(s,t){return c("React").createElement(c("Image.react"),{className:"_3bc-",key:o.value+t,src:s})});r=c("Tooltip").propsFor(o.label)}else{q=o.label;r={}}return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({className:"_f66",onClick:function s(){j.onValueUpdated(k(o.value,j))},disabled:j.isDisabled,key:o.value,depressed:j.condition.getValue().includes(o.value),value:o.value,label:q},r))});return c("React").createElement(c("XUIButtonGroup.react"),{className:"_f67"+(j.isDisabled?" _f68":"")},m)}f.exports=i}),null);
__d("VideoCopyrightRuleOverlapAddDeletButton.react",["ix","cx","VideoCopyrightRuleCondition","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=function j(k){return c("React").createElement("span",null,k.shouldShowDeleteButton?c("React").createElement(c("Image.react"),{className:"_12w_",onClick:function l(){return k.onConditionDelete(k.condition)},src:h("124318")}):null,k.shouldShowAddButton?c("React").createElement(c("Image.react"),{className:"_12w_",onClick:k.onConditionAdded,src:h("125014")}):null)};f.exports=j}),null);
__d("VideoCopyrightRuleOverlapPercentageInput.react",["cx","React","VideoCopyrightRuleCondition","XUITextInput.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){return c("React").createElement(c("XUITextInput.react"),{className:"_431y",max:"100",disabled:j.isDisabled,onBlur:function k(){var l=j.condition.getValue();if(!l||l.length===0||isNaN(l)){j.onValueUpdated("");return}if(Number(l)>100)j.onValueUpdated("100")},onChange:function k(l){return j.onValueUpdated(l.target.value)},placeholder:"0",value:j.condition.getValue(),xuiError:j.showError?j.condition.getError():null})}f.exports=i}),null);
__d("VideoCopyrightOverlapType",["fbt"],(function a(b,c,d,e,f,g,h){var i={OVERLAP_DURATION:{value:"OVERLAP_DURATION",label:h._("mins")},REFERENCE_OVERLAP_PERCENTAGE:{value:"REFERENCE_OVERLAP_PERCENTAGE",label:h._("\u0025 of reference file")},MATCH_OVERLAP_PERCENTAGE:{value:"MATCH_OVERLAP_PERCENTAGE",label:h._("\u0025 of matching video")}};f.exports=i}),null);
__d("VideoCopyrightRuleOverlapTypeSelector.react",["cx","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","VideoCopyrightOverlapType","VideoCopyrightRuleCondition"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{className:"_ivl"},c("React").createElement(c("SUISelector.react"),{value:this.props.condition.getConditionType(),theme:c("SUIBusinessTheme"),disabled:this.props.isDisabled,onChange:function(l){return this.props.onOverlapTypeUpdated(l)}.bind(this)},Object.keys(c("VideoCopyrightOverlapType")).map(function(l){return c("React").createElement(c("SUISelectorOption.react"),{value:l,key:l},c("VideoCopyrightOverlapType")[l].label)})))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("VideoCopyrightRuleConditionRowConfig",["cx","fbt","ClockFormatConverter","CopyrightCountryNames","PolicyRuleTokenizedTypeahead.react","React","VideoCopyrightGeoSearchSource","VideoCopyrightMatchContentType","VideoCopyrightPrivacyType","VideoCopyrightPublisherType","VideoCopyrightRuleActionType","VideoCopyrightRuleCondition","VideoCopyrightRuleConditionButtonSelector.react","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionType","VideoCopyrightRuleOverlapAddDeletButton.react","VideoCopyrightRuleOverlapPercentageInput.react","VideoCopyrightRuleOverlapTypeSelector.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=new(c("VideoCopyrightGeoSearchSource"))(),k={GEO:{label:i._("Apply this action"),labelForLite:i._("Apply these settings"),options:[c("VideoCopyrightRuleConditionOption").WORLDWIDE,c("VideoCopyrightRuleConditionOption").INCLUDE,c("VideoCopyrightRuleConditionOption").NOT_INCLUDE],createCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").GEO,c("VideoCopyrightRuleConditionOption").WORLDWIDE.key,[])},createDefaultCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").GEO,c("VideoCopyrightRuleConditionOption").WORLDWIDE.key,[])},renderValueInput:function l(m,n,o,p){if(m.getOption()==c("VideoCopyrightRuleConditionOption").WORLDWIDE.key)return null;return c("React").createElement(c("PolicyRuleTokenizedTypeahead.react"),{className:"_drg _4peh _345w",disabled:o,error:p?m.getError():null,name:"typeahead",onEntriesUpdated:n,placeholder:i._("Choose countries"),searchSource:j,searchSourceLabels:c("CopyrightCountryNames"),value:m.getValue()||[]})},getSummary:function l(m,n){if(m===c("VideoCopyrightRuleConditionOption").INCLUDE.key)return i._({"*":"Include {number} countries","_1":"Include 1 country"},[i._plural(n.length,"number")]);else if(m===c("VideoCopyrightRuleConditionOption").NOT_INCLUDE.key)return i._({"*":"Exclude {number} countries","_1":"Exclude 1 country"},[i._plural(n.length,"number")]);else if(m===c("VideoCopyrightRuleConditionOption").WORLDWIDE.key)return i._("Worldwide");return null}},OVERLAP_DURATION:{label:i._("Overlap"),options:[c("VideoCopyrightRuleConditionOption").GREATER_THAN,c("VideoCopyrightRuleConditionOption").LESS_THAN],createCondition:function l(){var m=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").OVERLAP_DURATION,c("VideoCopyrightRuleConditionOption").GREATER_THAN.key,m)},createConditionForTemplate:function l(m){__p&&__p();var n="";switch(m){case c("VideoCopyrightRuleActionType").MONETIZE:n="5:00";break;case c("VideoCopyrightRuleActionType").BLOCK:n="5:00";break;case c("VideoCopyrightRuleActionType").TRACK:n="3:00";break;case c("VideoCopyrightRuleActionType").MANUAL_REVIEW:n="1:00";break}return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").OVERLAP_DURATION,c("VideoCopyrightRuleConditionOption").GREATER_THAN.key,n)},renderValueInput:function l(m,n,o,p){__p&&__p();if(!m.getValue())m.setValue("");return c("React").createElement("span",{className:"_431x"},c("React").createElement(c("XUITextInput.react"),{className:"_431y",disabled:o,onBlur:function q(){var r=m.getValue();if(!r||r.length===0)return;var s=c("ClockFormatConverter").normalizeMinutesTimestamp(r);if(s==="0")n("");else if(s!==r)n(s)},onChange:function q(r){var s=r.target.value;if(c("ClockFormatConverter").validate(s,true))n(s)},placeholder:i._("00 {Time separator} 00",[i._param("Time separator",c("ClockFormatConverter").TIME_SEPARATOR)]),value:m.getValue(),xuiError:p?m.getError():null}))},renderConditionTypeSelector:function l(m,n,o){return c("React").createElement(c("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:m,onOverlapTypeUpdated:n,isDisabled:o})},nextConditionToAdd:c("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE,renderConditionAddDeleteButton:function l(m,n,o,p,q,r){return r?null:c("React").createElement(c("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:m,onConditionDelete:n,onConditionAdded:q,shouldShowAddButton:o,shouldShowDeleteButton:p})},getSummary:function l(m,n){if(!n)return null;return i._("Overlap {math symbol e.g. > or \u003C} {Condition value will be a time string e.g. 1:00} minute(s)",[i._param("math symbol e.g. > or <",c("VideoCopyrightRuleConditionOption")[m].symbol),i._param("Condition value will be a time string e.g. 1:00",n)])}},REFERENCE_OVERLAP_PERCENTAGE:{label:i._("Overlap"),options:[c("VideoCopyrightRuleConditionOption").GREATER_THAN,c("VideoCopyrightRuleConditionOption").LESS_THAN],createCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE,c("VideoCopyrightRuleConditionOption").GREATER_THAN.key,"")},renderValueInput:function l(m,n,o,p){return c("React").createElement("span",{className:"_431x"},c("React").createElement(c("VideoCopyrightRuleOverlapPercentageInput.react"),{condition:m,onValueUpdated:n,isDisabled:o,showError:p}))},renderConditionTypeSelector:function l(m,n,o){return c("React").createElement(c("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:m,onOverlapTypeUpdated:n,isDisabled:o})},renderConditionAddDeleteButton:function l(m,n,o,p,q,r){return r?null:c("React").createElement(c("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:m,onConditionDelete:n,onConditionAdded:q,shouldShowAddButton:o,shouldShowDeleteButton:p})},nextConditionToAdd:c("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,getSummary:function l(m,n){if(!n)return null;return i._("Overlap {math symbol e.g. > or \u003C} {Condition value will be a percentage e.g. 0-100}\u0025 of reference file",[i._param("math symbol e.g. > or <",c("VideoCopyrightRuleConditionOption")[m].symbol),i._param("Condition value will be a percentage e.g. 0-100",n)])}},MATCH_OVERLAP_PERCENTAGE:{label:i._("Overlap"),options:[c("VideoCopyrightRuleConditionOption").GREATER_THAN,c("VideoCopyrightRuleConditionOption").LESS_THAN],createCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,c("VideoCopyrightRuleConditionOption").GREATER_THAN.key,"")},renderValueInput:function l(m,n,o,p){return c("React").createElement("span",{className:"_431x"},c("React").createElement(c("VideoCopyrightRuleOverlapPercentageInput.react"),{condition:m,onValueUpdated:n,isDisabled:o,showError:p}))},renderConditionTypeSelector:function l(m,n,o){return c("React").createElement(c("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:m,onOverlapTypeUpdated:n,isDisabled:o})},renderConditionAddDeleteButton:function l(m,n,o,p,q,r){return r?null:c("React").createElement(c("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:m,onConditionDelete:n,onConditionAdded:q,shouldShowAddButton:o,shouldShowDeleteButton:p})},nextConditionToAdd:c("VideoCopyrightRuleConditionType").OVERLAP_DURATION,getSummary:function l(m,n){if(!n)return null;return i._("Overlap {math symbol} {Condition value will be a percentage e.g. 0-100}\u0025 of matching file",[i._param("math symbol",c("VideoCopyrightRuleConditionOption")[m].symbol),i._param("Condition value will be a percentage e.g. 0-100",n)])}},MONITORING_TYPE:{label:i._("Content type"),createCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").MONITORING_TYPE,c("VideoCopyrightRuleConditionOption").IS.key,[c("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value,c("VideoCopyrightMatchContentType").VIDEO_ONLY.value])},createDefaultCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").MONITORING_TYPE,c("VideoCopyrightRuleConditionOption").IS.key,[c("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value,c("VideoCopyrightMatchContentType").VIDEO_ONLY.value,c("VideoCopyrightMatchContentType").AUDIO_ONLY.value])},renderValueInput:function l(m,n,o,p){return c("React").createElement("div",null,c("React").createElement(c("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:c("VideoCopyrightMatchContentType"),onValueUpdated:n,condition:m,isDisabled:o}))},getSummary:function l(m,n){return n.map(function(o){return c("VideoCopyrightMatchContentType")[o].label}).join(", ")},getDetailedDescription:function l(m,n){__p&&__p();if(!Array.isArray(n))return null;var o=n.indexOf(c("VideoCopyrightMatchContentType").VIDEO_ONLY.value)!=-1,p=n.indexOf(c("VideoCopyrightMatchContentType").AUDIO_ONLY.value)!=-1,q=n.indexOf(c("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value)!=-1;if(o&&!p&&!q)return i._("Matches will only contain video segments matching your reference file, not any audio segments.");if(!o&&p&&!q)return i._("Matches will only contain audio segments matching your reference file, and no video segments.");if(!o&&!p&&q)return i._("Matches must contain both video and audio segments matching your reference file.");if(o&&p&&!q)return i._("Matches will contain either video or audio segments matching your reference file, but not both.");if(o&&!p&&q)return i._("Matches must contain video segments matching your reference file.");if(!o&&p&&q)return i._("Matches must contain audio segments matching your reference file.");if(o&&p&&q)return i._("Matches will contain any matching video or audio.");return null}},PUBLISHER_TYPE:{label:i._("Publisher"),createCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").PUBLISHER_TYPE,c("VideoCopyrightRuleConditionOption").IS.key,[c("VideoCopyrightPublisherType").PAGE.value])},createDefaultCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").PUBLISHER_TYPE,c("VideoCopyrightRuleConditionOption").IS.key,[c("VideoCopyrightPublisherType").PAGE.value,c("VideoCopyrightPublisherType").PERSON.value])},renderValueInput:function l(m,n,o,p){return c("React").createElement(c("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:c("VideoCopyrightPublisherType"),onValueUpdated:n,condition:m,isDisabled:o})},getSummary:function l(m,n){var o=void 0;if(n.length===1)o=c("VideoCopyrightPublisherType")[n[0].toUpperCase()].summaryLabel;else o=i._("Any");return i._("Publisher: {summary}",[i._param("summary",o)])}},PRIVACY:{label:i._("Privacy"),createCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").PRIVACY,c("VideoCopyrightRuleConditionOption").IS.key,[c("VideoCopyrightPrivacyType").PUBLIC_ONLY.value])},createDefaultCondition:function l(){return new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").PRIVACY,c("VideoCopyrightRuleConditionOption").IS.key,[c("VideoCopyrightPrivacyType").PUBLIC_ONLY.value,c("VideoCopyrightPrivacyType").PRIVATE_ONLY.value])},renderValueInput:function l(m,n,o,p){return c("React").createElement(c("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:c("VideoCopyrightPrivacyType"),onValueUpdated:n,condition:m,isDisabled:o})},getSummary:function l(m,n){var o=void 0;if(n.length===1)o=c("VideoCopyrightPrivacyType")[n[0]].summaryLabel;else o=i._("Any");return i._("Privacy: {summary}",[i._param("summary",o)])}}};f.exports=k}),null);
__d("VideoCopyrightRuleAction",["PolicyRuleAction","VideoCopyrightMatchPrivacyType","VideoCopyrightRuleCondition","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","VideoCopyrightRuleGraphFields"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("PolicyRuleAction"));i=h&&h.prototype;function j(k,l,m){"use strict";if(m&&(!l||!l.length))l=[new(c("VideoCopyrightRuleCondition"))(c("VideoCopyrightRuleConditionType").PRIVACY,c("VideoCopyrightRuleConditionOption").IS.key,c("VideoCopyrightMatchPrivacyType").PUBLIC_ONLY.value)];i.constructor.call(this,k,l)}j.prototype.getConditionWithType=function(k){"use strict";return this.getConditions().find(function(l){return l.getConditionType()===k})};j.prototype.hasConditionType=function(k){"use strict";return!!this.getConditions().find(function(l){return l.getConditionType()===k})};j.prototype.toAPI=function(){"use strict";var k={};k[c("VideoCopyrightRuleGraphFields").ACTION]=this.getActionType();var l=this.getConditions().map(function(m){return m.toAPI()});k[c("VideoCopyrightRuleGraphFields").CONDITIONS]=l;return k};j.prototype.toAPIforNewMatchRule=function(){"use strict";__p&&__p();var k={};k[c("VideoCopyrightRuleGraphFields").ACTION]=this.getActionType();var l=this.getConditions().filter(function(m){return m.getValue()&&m.getValue().length>0}).filter(function(m){if(m.getConditionType()===c("VideoCopyrightRuleConditionType").PUBLISHER_TYPE)return m.getValue().length!==2;return true}).map(function(m){return m.toAPIforNewMatchRule()});k[c("VideoCopyrightRuleGraphFields").CONDITIONS]=l;return k};j.fromAPI=function(k){"use strict";var l=k[c("VideoCopyrightRuleGraphFields").ACTION],m=(k[c("VideoCopyrightRuleGraphFields").CONDITIONS]||[]).map(function(o){return c("VideoCopyrightRuleCondition").fromAPI(o)}),n=new this(l,m);return n};j.fromAPIforNewMatchRule=function(k,l){"use strict";__p&&__p();var m=k[c("VideoCopyrightRuleGraphFields").ACTION],n=[];(k[c("VideoCopyrightRuleGraphFields").CONDITIONS]||[]).forEach(function(p){var q=c("VideoCopyrightRuleCondition").fromAPIforNewMatchRule(p,l);if(q)n.push(q)});var o=new this(m,n);if(!o.hasConditionType(c("VideoCopyrightRuleConditionType").GEO))o.pushConditionByIndex(c("VideoCopyrightRuleConditionRowConfig").GEO.createDefaultCondition(),0);if(!o.hasConditionType(c("VideoCopyrightRuleConditionType").PRIVACY)&&l)o.pushConditionByIndex(c("VideoCopyrightRuleConditionRowConfig").PRIVACY.createDefaultCondition(),o.getConditions().length);if(!o.hasConditionType(c("VideoCopyrightRuleConditionType").PUBLISHER_TYPE)&&l)o.pushConditionByIndex(c("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createDefaultCondition(),o.getConditions().length-1);if(!o.hasConditionType(c("VideoCopyrightRuleConditionType").MONITORING_TYPE)&&l)o.pushConditionByIndex(c("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createDefaultCondition(),o.getConditions().length-2);return o};j.fromAction=function(k){"use strict";return new this(k.$VideoCopyrightRuleAction1,k.getConditions())};f.exports=j}),null);
__d("VideoCopyrightRule",["VideoCopyrightRuleAction","VideoCopyrightRuleGraphFields"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";this.$VideoCopyrightRule3=i||[];this.$VideoCopyrightRule2=j;this.$VideoCopyrightRule1=k;this.$VideoCopyrightRule4=l!=null?l:false}h.prototype.getActions=function(){"use strict";return this.$VideoCopyrightRule3};h.prototype.isEmpty=function(){"use strict";return this.$VideoCopyrightRule3.length===0};h.prototype.pushAction=function(i){"use strict";this.$VideoCopyrightRule3.push(i)};h.prototype.removeAction=function(i){"use strict";var j=this.$VideoCopyrightRule3.indexOf(i);this.$VideoCopyrightRule3.splice(j,1)};h.prototype.moveActionByIndex=function(i,j){"use strict";this.$VideoCopyrightRule3.splice(j,0,this.$VideoCopyrightRule3.splice(i,1)[0])};h.prototype.replaceActionType=function(i,j){"use strict";var k=this.$VideoCopyrightRule3.find(function(l){return l.getActionType()===i});if(k==null)return;k.setActionType(j)};h.prototype.removeActionByActionType=function(i){"use strict";var j=this.$VideoCopyrightRule3.find(function(k){return k.getActionType()===i});if(j)this.removeAction(j)};h.prototype.hasName=function(){"use strict";return this.$VideoCopyrightRule2!=null&&this.$VideoCopyrightRule2.toString().trim().length>0};h.prototype.getName=function(){"use strict";return this.$VideoCopyrightRule2||""};h.prototype.setName=function(i){"use strict";this.$VideoCopyrightRule2=i};h.prototype.getID=function(){"use strict";return this.$VideoCopyrightRule1};h.prototype.isDisabled=function(){"use strict";return this.$VideoCopyrightRule4};h.prototype.toAPI=function(){"use strict";var i={};i[c("VideoCopyrightRuleGraphFields").NAME]=this.$VideoCopyrightRule2;var j=this.$VideoCopyrightRule3.map(function(k){return k.toAPI()});i[c("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]=j;return i};h.prototype.toAPIforNewMatchRule=function(){"use strict";var i={};i[c("VideoCopyrightRuleGraphFields").NAME]=this.$VideoCopyrightRule2;var j=this.$VideoCopyrightRule3.map(function(k){return k.toAPIforNewMatchRule()});i[c("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]=j;return i};h.fromAPI=function(i){"use strict";var j=i[c("VideoCopyrightRuleGraphFields").NAME],k=i[c("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]?i[c("VideoCopyrightRuleGraphFields").CONDITION_GROUPS].map(function(l){return c("VideoCopyrightRuleAction").fromAPI(l)}):[];return new this(k,j,i.id,i.disabled)};h.fromAPIforNewMatchRule=function(i){var j=arguments.length<=1||arguments[1]===undefined?true:arguments[1];"use strict";var k=i[c("VideoCopyrightRuleGraphFields").NAME],l=i[c("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]?i[c("VideoCopyrightRuleGraphFields").CONDITION_GROUPS].map(function(m){return c("VideoCopyrightRuleAction").fromAPIforNewMatchRule(m,j)}):[];return new this(l,k,i.id,i.disabled)};f.exports=h}),null);
__d("VideoCopyrightRuleActionConfig",["fbt","VideoCopyrightRuleActionType"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){var k=[{key:c("VideoCopyrightRuleActionType").ALLOW,label:h._("Allow match"),tooltip:null},{key:c("VideoCopyrightRuleActionType").TRACK,label:h._("Monitor match"),tooltip:null},{key:c("VideoCopyrightRuleActionType").BLOCK,label:h._("Block match"),tooltip:h._("Not all matches are eligible for automatic blocking")},{key:c("VideoCopyrightRuleActionType").TAKEDOWN,label:h._("Take Down"),tooltip:null},{key:c("VideoCopyrightRuleActionType").MONETIZE,label:h._("Claim ad earnings"),tooltip:h._("Not all matches are eligible for automatic claiming of ad earnings, for example, matches with no advertising breaks. In that case, the next action condition will be checked."),extraData:h._("If you aren't able to claim ad earnings, the next action you select will be applied to the video.")},{key:c("VideoCopyrightRuleActionType").ACQUIRE_VIEWS_AND_MONETIZE,label:h._("Acquire Views & Monetise"),tooltip:h._("Not all matches are eligible for automatic views acquisition and monetisation")},{key:c("VideoCopyrightRuleActionType").MANUAL_REVIEW,label:h._("Manually review match"),tooltip:null}];return k}f.exports=i}),null);
__d("VideoCopyrightRuleMetadataSummary.react",["cx","invariant","React","ReactComponentWithPureRenderMixin","VideoCopyrightRuleActionConfig","VideoCopyrightRuleConditionRowConfig","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);this.state={actionConfig:c("VideoCopyrightRuleActionConfig")({}),conditionConfig:c("VideoCopyrightRuleConditionRowConfig")}}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return c("ReactComponentWithPureRenderMixin").shouldComponentUpdate.call(this,m,n)};l.prototype.$VideoCopyrightRuleMetadataSummary1=function(m,n){"use strict";var o=this.state.conditionConfig[m.getConditionType()],p=o&&o.getSummary?o.getSummary:c("emptyFunction");if(p(m.getOption(),m.getValue())===null)return;return c("React").createElement("li",{className:"_idg",key:n},p(m.getOption(),m.getValue()))};l.prototype.$VideoCopyrightRuleMetadataSummary2=function(m,n){"use strict";var o=this.$VideoCopyrightRuleMetadataSummary3(m.getActionType());return c("React").createElement("span",{key:n},c("React").createElement("p",null,o.label),c("React").createElement("ul",{className:"_idh"},m.getConditions().map(function(p,q){return this.$VideoCopyrightRuleMetadataSummary1(p,q)}.bind(this))))};l.prototype.$VideoCopyrightRuleMetadataSummary3=function(m){"use strict";var n=this.state.actionConfig.filter(function(n){return n.key===m});n&&n.length==1||i(0);return n[0]};l.prototype.render=function(){"use strict";if(!this.props.rule)return null;var m=this.props.rule||{};return c("React").createElement("span",{className:this.props.className},m.getActions().map(function(n,o){return this.$VideoCopyrightRuleMetadataSummary2(n,o+1)}.bind(this)))};f.exports=l}),null);
__d("VideoCopyrightMatchRuleSelector.react",["cx","fbt","invariant","AdsSelectorWithTooltips.react","Arbiter","GraphAPI","LoadingIndicator.react","PageContentTabAccessToken","React","RightsManagerRulesRequestSource","VideoCopyrightRule","VideoCopyrightRuleMetadataSummary.react","VideoCopyrightUtils","XUIText.react","keyMirror"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("AdsSelectorWithTooltips.react").Option,n=c("keyMirror")({DEFAULT:null,CREATE:null,NO_RULE_SELECTED:null}),o={id:n.CREATE,name:i._("Create new match rule..."),condition_groups:[]},p={id:n.NO_RULE_SELECTED,name:i._("Choose match rule..."),condition_groups:[],disabled:true},q=100;k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;function r(s){"use strict";l.constructor.call(this,s);this.state={rules:[],isLoading:true}}r.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$VideoCopyrightMatchRuleSelector3();this.$VideoCopyrightMatchRuleSelector2=true;this.$VideoCopyrightMatchRuleSelector1=c("Arbiter").subscribe("VideoCopyrightRule/closeDialog",this.$VideoCopyrightMatchRuleSelector4.bind(this))};r.prototype.componentWillUnmount=function(){"use strict";this.$VideoCopyrightMatchRuleSelector2=false;if(this.$VideoCopyrightMatchRuleSelector1){this.$VideoCopyrightMatchRuleSelector1.unsubscribe();this.$VideoCopyrightMatchRuleSelector1=null}};r.prototype.$VideoCopyrightMatchRuleSelector5=function(s){"use strict";var t=this.props.rulesToHideFromDisplay;t!=undefined||j(0);return s.filter(function(u){var v=u.getID(),w=t.findIndex(function(x){return x.id===v});return w===-1})};r.prototype.$VideoCopyrightMatchRuleSelector3=function(s){"use strict";__p&&__p();var t=this.props.accessToken?this.props.accessToken:c("PageContentTabAccessToken").getAccessToken();c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("video_copyright_rules").get({access_token:t,summary:["version"],source:c("RightsManagerRulesRequestSource").RULES_SELECTOR,selected_rule_id:this.props.selectedRule,limit:q}).done(function(u){__p&&__p();if(!this.$VideoCopyrightMatchRuleSelector2)return;var v=u.data,w=!Array.isArray(v)||!v.length?[p]:v,x=w.map(function(y){return c("VideoCopyrightRule").fromAPIforNewMatchRule(y)});this.setState({isLoading:false,rules:x},function(){if(s)this.$VideoCopyrightMatchRuleSelector6(s);else if(this.props.selectedRule)this.$VideoCopyrightMatchRuleSelector6(this.props.selectedRule);else if(x.length>0)this.$VideoCopyrightMatchRuleSelector6(x[0].getID())}.bind(this));this.props.onMatchRuleLoaded&&this.props.onMatchRuleLoaded()}.bind(this))};r.prototype.$VideoCopyrightMatchRuleSelector4=function(s,t){"use strict";if(t)this.setState({isLoading:true},function(){return this.$VideoCopyrightMatchRuleSelector3(t)}.bind(this))};r.prototype.$VideoCopyrightMatchRuleSelector6=function(s){"use strict";__p&&__p();var t=void 0;if(s===n.CREATE){this.props.onCreateNewRule&&this.props.onCreateNewRule();return}else if(s===n.DEFAULT)t=null;else t=s;if(t!==this.props.selectedRule){this.props.onChange(t);this.$VideoCopyrightMatchRuleSelector7(this.state.rules.find(function(u){return u.getID()===t}))}};r.prototype.$VideoCopyrightMatchRuleSelector7=function(s){var t,u=this;"use strict";if(this.props.onRuleActionsChange)(function(){var v=new Set();if(s)s.getActions().map(function(w){return v.add(w.getActionType())});u.props.onRuleActionsChange(v)})()};r.prototype.$VideoCopyrightMatchRuleSelector8=function(event){"use strict";this.$VideoCopyrightMatchRuleSelector6(event.value)};r.prototype.$VideoCopyrightMatchRuleSelector9=function(s){"use strict";__p&&__p();if(this.props.rulesToHideFromDisplay&&this.props.rulesToHideFromDisplay.some(function(t){return t.id===s}))return null;if(s&&!this.state.rules.some(function(t){return t.getID()===s})){this.$VideoCopyrightMatchRuleSelector6(null);return null}return s};r.prototype.$VideoCopyrightMatchRuleSelector10=function(s){"use strict";if(s&&s.getActions()&&s.getActions().length)return c("React").createElement(c("VideoCopyrightRuleMetadataSummary.react"),{className:"_2jzx",rule:s});return null};r.prototype.$VideoCopyrightMatchRuleSelector11=function(s){"use strict";if(!s||s===n.NO_RULE_SELECTED)return i._("Match rule is required");return null};r.prototype.$VideoCopyrightMatchRuleSelector12=function(s){"use strict";if(!s||s===n.NO_RULE_SELECTED)return c("React").createElement(c("XUIText.react"),{className:"_okf",weight:"bold"},"!");return null};r.prototype.render=function(){"use strict";__p&&__p();if(this.state.isLoading)return c("React").createElement(c("LoadingIndicator.react"),{size:"small",color:"white"});var s=this.state.rules;if(this.props.rulesToHideFromDisplay!=null&&this.props.rulesToHideFromDisplay.length)s=this.$VideoCopyrightMatchRuleSelector5(s);s=this.props.onCreateNewRule?s.concat([c("VideoCopyrightRule").fromAPIforNewMatchRule(o)]):s;var t=s.map(function(v){return c("React").createElement(m,{tooltip:this.$VideoCopyrightMatchRuleSelector10(v),key:v.getID(),value:v.getID(),disabled:v.isDisabled()},v.getName())}.bind(this)),u=this.$VideoCopyrightMatchRuleSelector9(this.props.selectedRule);if(!u){u=s&&s.length?s[0].getID():n.DEFAULT;this.$VideoCopyrightMatchRuleSelector6(u)}return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("AdsSelectorWithTooltips.react"),{disabled:this.props.disabled,onChange:this.$VideoCopyrightMatchRuleSelector8.bind(this),value:u,defaultValue:s[0].getID(),maxheight:400,xuiError:this.$VideoCopyrightMatchRuleSelector11(u),xuiErrorPosition:"below"},t),this.$VideoCopyrightMatchRuleSelector12(u))};f.exports=r}),null);
__d("VideoCopyrightMonitoringSelector.react",["fbt","PageContentTabRightsManagerStore","React","Tooltip.react","VideoCopyrightMonitoringType","VideoCopyrightUtils","XUISelector.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("XUISelector.react").Option,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){"use strict";var n=this.props.validMonitoringTypes||Object.keys(c("VideoCopyrightMonitoringType")),o=n.map(function(p){var q=c("VideoCopyrightMonitoringType")[p];return c("React").createElement(k,{key:q.value,value:q.value},q.label)});return c("React").createElement(c("Tooltip.react"),{tooltip:c("PageContentTabRightsManagerStore").getIsRMLite()?h._("Only video content can be monitored"):""},c("React").createElement(c("XUISelector.react"),{className:this.props.className,disabled:this.props.disabled||c("PageContentTabRightsManagerStore").getIsRMLite(),onChange:this.props.onChange,value:this.props.value,defaultValue:c("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE},o))};function m(){"use strict";i.apply(this,arguments)}m.propTypes={className:l.string,disabled:l.bool,onChange:l.func,value:l.string,validMonitoringTypes:l.array};f.exports=m}),null);
__d("MatchRuleDeleteConfirmationDialog.react",["cx","fbt","React","VideoCopyrightUtils","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$MatchRuleDeleteConfirmationDialog1=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},i._("This match rule will be permanently deleted.")),c("React").createElement(c("XUIText.react"),{className:"_3-8x",size:"header4",display:"block"},i._({"reference file":{"this reference file":"This rule is now used by {Number of reference files} reference file. If you delete the rule, all new matches for this reference file will appear in your New Matches list in Rights Manager.","these reference files":"This rule is now used by {Number of reference files} reference file. If you delete the rule, all new matches for these reference files will appear in your New Matches list in Rights Manager."},"reference files":{"this reference file":"This rule is now used by {Number of reference files} reference files. If you delete the rule, all new matches for this reference file will appear in your New Matches list in Rights Manager.","these reference files":"This rule is now used by {Number of reference files} reference files. If you delete the rule, all new matches for these reference files will appear in your New Matches list in Rights Manager."}},[i._param("Number of reference files",c("VideoCopyrightUtils").formatNumber(this.props.postCount)),i._enum(this.props.postCount===1?"reference file":"reference files",{"reference file":"reference file","reference files":"reference files"}),i._enum(this.props.postCount===1?"this reference file":"these reference files",{"this reference file":"this reference file","these reference files":"these reference files"})])))};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{width:450,shown:true,fixedTopPosition:100},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Delete match rule?")),c("React").createElement(c("XUIDialogBody.react"),null,this.$MatchRuleDeleteConfirmationDialog1()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{label:i._("Delete"),action:"cancel",size:"large",use:"confirm",onClick:this.props.onDelete})))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("VideoCopyrightRuleActionItemConfig",["ix","cx","fbt","React","SUIBusinessTheme","SUITooltip.react","VideoCopyrightClaimAdEarningsText","VideoCopyrightRuleActionType","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=[{key:c("VideoCopyrightRuleActionType").MONETIZE,title:j._("Claim ad earnings (Facebook only)"),className:"_4bd5",titleOnDisable:c("React").createElement(c("SUITooltip.react"),{theme:c("SUIBusinessTheme"),position:"right",tooltip:j._("To claim ad earnings, you'll first need to specify how you or your organisation would like to be paid by going to Settings > Rights Manager.")},j._("Claim ad earnings (Facebook only)")),description:j._("Receive a share of the money earned from a matching video's ad breaks on Facebook"),descriptionForManualClaim:j._("Receive a share of the money earned by this video's ad breaks"),filterDescription:j._("Set up filters describing the type of matching videos that you want to claim ad earnings from."),descriptionOnDisable:function l(m){return j._("Receive a share of the money earned from a matching video's ad breaks on Facebook. {=Set up Claiming}",[j._param("=Set up Claiming",c("React").createElement("a",{href:c("VideoCopyrightClaimAdEarningsText").getRightsManagerSettingsURI(m),target:"_blank"},j._("Set up claiming")))])},glyphClassName:"_4utm",glyph:h("134490"),summaryGlyph:h("124876"),warning:j._("If there are no ad breaks in the matching video, the next action in this match rule will be checked.")},{key:c("VideoCopyrightRuleActionType").BLOCK,title:j._("Block"),className:"_4bd6",description:j._("Prevent matching videos from being discoverable or viewed on Facebook"),descriptionForManualClaim:j._("Prevent this video from being discoverable or viewed on Facebook"),filterDescription:j._("Set up filters describing the type of matching videos you want to block."),glyphClassName:"_4uto",glyph:h("134473"),summaryGlyph:h("124859"),warning:j._("Blocked videos will not generate reference file insights.")},{key:c("VideoCopyrightRuleActionType").TRACK,title:j._("Monitor"),className:"_4bd7",description:j._("Move matching videos to the \"Monitor\" tab to keep an eye on how they're performing over a long period of time"),descriptionForManualClaim:j._("Keep an eye on how this video performs over a long period of time"),filterDescription:j._("Set up filters describing the type of matching videos that you want to monitor."),glyphClassName:"_4utp",glyph:h("134084"),summaryGlyph:h("124470")},{key:c("VideoCopyrightRuleActionType").MANUAL_REVIEW,title:j._("Manually review"),className:"_4bd8",description:j._("You'll have 30 days to decide what action to take before the matching video expires from Rights Manager"),descriptionForManualClaim:j._("Save this video to take action on it later in rights manager"),filterDescription:j._("Set up filters describing the type of matching videos that you want to manually review."),glyphClassName:"_4utq",glyph:h("134637"),summaryGlyph:h("125023")}];f.exports=k}),null);
__d("VideoCopyrightRuleActionEditButton.react",["ix","cssVar","cx","fbt","React","SUIBusinessTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUISelectorOptionGroup.react","SUITooltip.react","VideoCopyrightClaimAdEarningsText","VideoCopyrightRuleAction","VideoCopyrightRuleActionType","VideoCopyrightRuleActionItemConfig","fbglyph","keyMirror"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("keyMirror")({MOVE_UP:null,MOVE_DOWN:null,DELETE:null});l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$VideoCopyrightRuleActionEditButton1=function(u){if(u===n.DELETE)this.props.onActionDeleted(this.props.action);else if(Object.keys(c("VideoCopyrightRuleActionType")).includes(u))this.props.onActionTypeUpdated(u);else if(u===n.MOVE_UP)this.props.onActionMoved(this.props.action,-1);else if(u===n.MOVE_DOWN)this.props.onActionMoved(this.props.action,1)}.bind(this),q}o.prototype.render=function(){var p=this.props.isViewing?h("126554"):h("123350");return c("React").createElement("div",{className:"_61gk"},c("React").createElement(c("SUISelector.react"),{maxHeight:262,menuAlignment:"right",canCollapseGroups:false,onChange:this.$VideoCopyrightRuleActionEditButton1,disabled:this.props.isViewing,button:c("React").createElement(c("SUISelectorButton.react"),{disabled:this.props.isViewing,height:"normal",icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:p}),styleWhenMenuShown:{background:"#EEEEEE"},width:64}),value:this.props.action.getActionType(),theme:c("SUIBusinessTheme")},c("React").createElement(c("SUISelectorOptionGroup.react"),{isExpandedInitially:true,label:k._("Edit action")},c("VideoCopyrightRuleActionItemConfig").map(function(q){return c("React").createElement(c("SUISelectorOption.react"),{value:q.key,key:q.key,disabled:q.key===c("VideoCopyrightRuleActionType").MONETIZE&&!this.props.isMonetizationOnboarded},q.key===c("VideoCopyrightRuleActionType").MONETIZE&&!this.props.isMonetizationOnboarded?c("React").createElement(c("SUITooltip.react"),{theme:c("SUIBusinessTheme"),position:"left",tooltip:k._("To claim ad earnings, you'll first need to specify how you or your organisation would like to be paid by going to Settings > Rights Manager. {=Go to Settings}",[k._param("=Go to Settings",c("React").createElement("a",{href:c("VideoCopyrightClaimAdEarningsText").getRightsManagerSettingsURI(this.props.pageID),target:"_blank"},k._("Go to Settings")))])},q.title):q.title)}.bind(this)),c("React").createElement("hr",{className:"_61gl"}),c("React").createElement(c("SUISelectorOption.react"),{value:n.MOVE_UP,disabled:this.props.actionIndex===0},k._("Move Up")),c("React").createElement(c("SUISelectorOption.react"),{value:n.MOVE_DOWN,disabled:this.props.actionIndex===this.props.actionCount-1},k._("Move Down")),c("React").createElement("hr",{className:"_61gl"}),c("React").createElement(c("SUISelectorOption.react"),{value:n.DELETE},k._("Delete")))))};f.exports=o}),null);
__d("VideoCopyrightRuleCondition.react",["ix","cx","Image.react","PageContentTabRightsManagerStore","React","Tooltip.react","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);this.state=this.getStateFromCondition(this.props.condition)}l.prototype.UNSAFE_componentWillReceiveProps=function(m){"use strict";if(this.state.condition!=m.condition)this.setState(this.getStateFromCondition(m.condition))};l.prototype.getStateFromCondition=function(m){"use strict";var n=m.getConditionType(),o=this.props.conditionConfig[n],p=o.customValidation?o.customValidation:function(){};return{condition:m,config:o,customValidation:p}};l.prototype.$VideoCopyrightRuleCondition1=function(){"use strict";if(!this.state.config.options)return null;var m=this.state.config.options.map(function(n){return c("React").createElement(c("SUISelectorOption.react"),{key:n.key,value:n.key},n.text)});return c("React").createElement(c("SUISelector.react"),{theme:c("SUIBusinessTheme"),onChange:function(n){return this.$VideoCopyrightRuleCondition2(n)}.bind(this),value:this.state.condition.getOption(),disabled:this.props.isViewing},m)};l.prototype.$VideoCopyrightRuleCondition3=function(m){"use strict";this.state.customValidation(m);this.setState({condition:m});this.props.onConditionUpdated(m)};l.prototype.$VideoCopyrightRuleCondition2=function(m){"use strict";var n=this.state.condition;n.setOption(m);n.setValue(null);this.$VideoCopyrightRuleCondition3(n)};l.prototype.$VideoCopyrightRuleCondition4=function(m){"use strict";var n=this.state.condition,o=this.props.conditionConfig[m];n.setConditionType(m);n.setValue("");this.$VideoCopyrightRuleCondition3(n);this.setState({config:o})};l.prototype.$VideoCopyrightRuleCondition5=function(m){"use strict";var n=this.state.condition;this.state.condition.setValue(m);this.$VideoCopyrightRuleCondition3(n)};l.prototype.$VideoCopyrightRuleCondition6=function(){"use strict";return this.state.config.renderValueInput(this.state.condition,this.$VideoCopyrightRuleCondition5.bind(this),this.props.isViewing,this.props.shouldValidate)};l.prototype.$VideoCopyrightRuleCondition7=function(){"use strict";var m=this.state.config.renderConditionTypeSelector;if(!m)return null;return m(this.state.condition,this.$VideoCopyrightRuleCondition4.bind(this),this.props.isViewing)};l.prototype.$VideoCopyrightRuleCondition8=function(){"use strict";var m=this.state.config.renderConditionAddDeleteButton;if(!m)return null;return m(this.state.condition,this.props.onConditionRemoved,this.props.shouldShowAddButton,this.props.shouldShowDeleteButton,this.props.onAddCondition,this.props.isViewing)};l.prototype.$VideoCopyrightRuleCondition9=function(){"use strict";var m=this.state.config.getDetailedDescription;if(!m)return null;var n=m(this.state.condition.getOption(),this.state.condition.getValue());if(!n)return null;return c("React").createElement("div",{className:"_6176"},n)};l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3-8x"},c("React").createElement("table",null,c("React").createElement("tbody",null,c("React").createElement("tr",null,c("React").createElement("td",{className:"_31sp"},c("PageContentTabRightsManagerStore").getIsRMLite()?this.state.config.labelForLite||this.state.config.label:this.state.config.label,this.state.config.tooltip?c("React").createElement(c("Tooltip.react"),{tooltip:this.state.config.tooltip,className:"_2t-y"},c("React").createElement(c("Image.react"),{className:"_3-99",src:h("126340")})):null),c("React").createElement("td",{className:"_6177"},this.$VideoCopyrightRuleCondition1(),this.$VideoCopyrightRuleCondition6(),this.$VideoCopyrightRuleCondition7(),this.$VideoCopyrightRuleCondition8(),this.$VideoCopyrightRuleCondition9())))))};f.exports=l}),null);
__d("VideoCopyrightRuleOverlapConditionType",["VideoCopyrightRuleConditionType"],(function a(b,c,d,e,f,g){var h=[c("VideoCopyrightRuleConditionType").OVERLAP_DURATION,c("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,c("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE];f.exports=h}),null);
__d("VideoCopyrightRuleActionCard.react",["ix","cx","fbt","Image.react","PolicyRuleCondition","React","VideoCopyrightRuleAction","VideoCopyrightRuleActionEditButton.react","VideoCopyrightRuleActionType","VideoCopyrightRuleCondition.react","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","VideoCopyrightRuleOverlapConditionType","XUICard.react","fbglyph","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=[c("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,c("VideoCopyrightRuleConditionType").OVERLAP_DURATION,c("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE];k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={action:this.props.action}}n.prototype.$VideoCopyrightRuleActionCard1=function(o){this.props.onActionUpdated()};n.prototype.$VideoCopyrightRuleActionCard2=function(o){var p=this.state.action;p.removeCondition(o);this.setState({action:p});this.props.onActionUpdated()};n.prototype.$VideoCopyrightRuleActionCard3=function(o){var p=this.state.action;p.setActionType(o);this.setState({action:p});this.props.onActionUpdated()};n.prototype.UNSAFE_componentWillReceiveProps=function(o){if(this.state.action!=o.action)this.setState({action:o.action})};n.prototype.$VideoCopyrightRuleActionCard4=function(o){var p=this.state.action.getConditions().filter(function(q){return c("VideoCopyrightRuleOverlapConditionType").includes(q.getConditionType())}).slice(-1)[0];return p===o};n.prototype.$VideoCopyrightRuleActionCard5=function(){return this.state.action.getConditions().filter(function(o){return c("VideoCopyrightRuleOverlapConditionType").includes(o.getConditionType())}).length>1};n.prototype.$VideoCopyrightRuleActionCard6=function(o){var p=this.state.action.getConditions().indexOf(o),q=c("VideoCopyrightRuleConditionRowConfig")[o.getConditionType()].nextConditionToAdd,r=c("VideoCopyrightRuleConditionRowConfig")[q].createCondition(),s=this.state.action;s.pushConditionByIndex(r,p+1);this.setState({action:s});this.props.onActionUpdated()};n.prototype.render=function(){var o=this.state.action.getConditionWithType(c("VideoCopyrightRuleConditionType").GEO),p=this.state.action.getActionType()!==c("VideoCopyrightRuleActionType").MANUAL_REVIEW;return c("React").createElement(c("XUICard.react"),{className:"_2ph_ _3-8y"},c("React").createElement("div",{className:"_y5k"},c("React").createElement(c("Image.react"),{src:this.props.actionConfig.glyph}),c("React").createElement("div",{className:"_y5m"},this.props.actionConfig.title),c("React").createElement(c("VideoCopyrightRuleActionEditButton.react"),{action:this.props.action,actionIndex:this.props.actionIndex,actionCount:this.props.actionCount,onActionDeleted:this.props.onActionDeleted,onActionTypeUpdated:this.$VideoCopyrightRuleActionCard3.bind(this),onActionMoved:this.props.onActionMoved,isViewing:this.props.isViewing,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID})),c("React").createElement("div",{className:"_y5n"},this.props.actionConfig.description),o&&p?c("React").createElement(c("VideoCopyrightRuleCondition.react"),{condition:o,shouldShowAddButton:this.$VideoCopyrightRuleActionCard4(o),shouldShowDeleteButton:this.$VideoCopyrightRuleActionCard5(),onAddCondition:function(){return this.$VideoCopyrightRuleActionCard6(o)}.bind(this),conditionConfig:c("VideoCopyrightRuleConditionRowConfig"),isViewing:this.props.isViewing,shouldValidate:false,onConditionRemoved:this.$VideoCopyrightRuleActionCard2.bind(this),key:c("VideoCopyrightRuleConditionType").GEO,onConditionUpdated:this.$VideoCopyrightRuleActionCard1.bind(this)}):null,c("React").createElement("div",{className:"_y5o"},j._("Select filters")),c("React").createElement("div",{className:"_y5n"},this.props.actionConfig.filterDescription),this.state.action.getConditions().filter(function(q){return q.getConditionType()!==c("VideoCopyrightRuleConditionType").GEO}).filter(function(q){var r;return!((r=this.props)!=null?r.isMusicLabel:r)||m.includes(q.getConditionType())}.bind(this)).map(function(q,r){return c("React").createElement(c("VideoCopyrightRuleCondition.react"),{condition:q,shouldShowAddButton:this.$VideoCopyrightRuleActionCard4(q),shouldShowDeleteButton:this.$VideoCopyrightRuleActionCard5(),onAddCondition:function(){return this.$VideoCopyrightRuleActionCard6(q)}.bind(this),conditionConfig:c("VideoCopyrightRuleConditionRowConfig"),isViewing:this.props.isViewing,shouldValidate:false,onConditionRemoved:this.$VideoCopyrightRuleActionCard2.bind(this),key:r,onConditionUpdated:this.$VideoCopyrightRuleActionCard1.bind(this)})}.bind(this)),this.props.actionConfig.warning?c("React").createElement("div",{className:"_3-8z"},c("React").createElement(c("Image.react"),{src:h("124165")}),c("React").createElement("div",{className:"_y5p"},this.props.actionConfig.warning)):null)};f.exports=n}),null);
__d("VideoCopyrightRuleAddActionButton.react",["ix","cx","fbt","React","SUIBusinessTheme","SUIButton.react","SUIGlyphIcon.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(l){return c("React").createElement("div",{className:"_1ck-"},c("React").createElement(c("SUIButton.react"),{onClick:function m(){return l.onClickAddActionButton()},icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123418")}),height:"tall",theme:c("SUIBusinessTheme"),label:j._("Add An Action")}))}f.exports=k}),null);
__d("VideoCopyrightRuleActionItem.react",["cx","React","VideoCopyrightRuleActionType"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement("div",{className:j.className},c("React").createElement("div",{className:j.isSelected?"_4utl":"",onClick:j.disabled?null:j.onClick,role:"presentation"},c("React").createElement("div",{className:(!j.disabled?"_4utk":"")+(j.disabled?" _1qv7":"")},c("React").createElement("div",null,c("React").createElement("div",{className:j.glyphClassName}),c("React").createElement("div",{className:"_4utz"},j.title)),c("React").createElement("div",{className:"_4ut-"},j.description))))};f.exports=i}),null);
__d("VideoCopyrightRuleAddActionCard.react",["cx","fbt","Link.react","React","VideoCopyrightLearnMoreLinks","VideoCopyrightRuleActionType","VideoCopyrightRuleActionItem.react","VideoCopyrightRuleActionItemConfig","XUIButton.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("XUICard.react"),{className:"_20_d"},c("React").createElement("div",{className:"_20_e"},c("React").createElement("div",{className:"_2698"},i._("Add an action")),c("React").createElement("div",{className:"_2699"},i._("Select the action that you want to take on videos that match content in your reference files. {Link saying learn more}",[i._param("Link saying learn more",c("React").createElement(c("Link.react"),{href:c("VideoCopyrightLearnMoreLinks").learn_more_add_action,target:"_blank"},i._("Learn more")))])),c("React").createElement("div",{className:"_269a"},c("VideoCopyrightRuleActionItemConfig").map(function(m){var n=!this.props.isMonetizationOnboarded&&m.key===c("VideoCopyrightRuleActionType").MONETIZE;return c("React").createElement(c("VideoCopyrightRuleActionItem.react"),{className:m.className,isSelected:this.props.selectedAction===m.key,onClick:function(){return this.props.onSelectAction(m.key)}.bind(this),glyphClassName:m.glyphClassName,title:n?m.titleOnDisable:m.title,description:n&&m.descriptionOnDisable?m.descriptionOnDisable(this.props.pageID):m.description,key:m.key,actionType:m.key,disabled:n,pageID:this.props.pageID})}.bind(this))),c("React").createElement("div",{className:"_269b"},c("React").createElement(c("XUIButton.react"),{className:"_2kuz",size:"medium",label:i._("Cancel"),use:"default",disabled:this.props.isRuleEmpty,onClick:this.props.onCloseAddActionCard}),c("React").createElement(c("XUIButton.react"),{className:"_2kuz",size:"medium",label:i._("Next"),use:"confirm",disabled:!this.props.selectedAction,onClick:function(){this.props.selectedAction?this.props.onAddAction(this.props.selectedAction):null}.bind(this)})))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoCopyrightRuleActionColumn.react",["cx","fbt","LeftRight.react","React","ReactCSSTransitionGroup","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleAddActionButton.react","VideoCopyrightRuleActionType","VideoCopyrightRuleActionItemConfig","VideoCopyrightRuleActionCard.react","VideoCopyrightRuleAddActionCard.react","XUIButton.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);this.state={selectedAction:null}}l.prototype.$VideoCopyrightRuleActionColumn1=function(m){"use strict";if(m!==null)this.refs[m].scrollIntoView({block:"end",behavior:"smooth"})};l.prototype.UNSAFE_componentWillReceiveProps=function(m){"use strict";if(m.actionIndexToFocus!==this.props.actionIndexToFocus)this.$VideoCopyrightRuleActionColumn1(m.actionIndexToFocus)};l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:this.props.className},this.props.isViewing?c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_3yxt"},c("React").createElement("div",{className:"_331e"},i._("Read only. Create a new version of this match rule to make changes.")),c("React").createElement(c("XUIButton.react"),{className:"_331f",onClick:this.props.onCreateNewVersion,label:i._("New Version...")}))):null,c("React").createElement(c("XUICard.react"),{className:"_2ph_",background:"highlight"},c("React").createElement("div",{className:"_4q0_"},c("React").createElement("div",{className:"_4q10"},i._("Find videos that match your reference files")),i._("This match rule will find any videos on Facebook that match content in your reference files. You can associate reference files with this match rule when you add a new reference file or by going to the \"Reference file\" tab."))),c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_620b",component:"div",key:"actionCards",transitionLeaveTimeout:300,transitionEnterTimeout:400,transitionName:"actionCards"},this.props.rule.getActions().map(function(m,n){return c("React").createElement("div",{ref:m.getID(),key:m.getID()},c("React").createElement(c("VideoCopyrightRuleActionCard.react"),{actionConfig:c("VideoCopyrightRuleActionItemConfig").find(function(o){return o.key===m.getActionType()}),actionIndex:n,actionCount:this.props.rule.getActions().length,action:m,onActionUpdated:this.props.onActionUpdated,onActionDeleted:this.props.onActionDeleted,onActionMoved:this.props.onActionMoved,isMusicLabel:this.props.isMusicLabel,isViewing:this.props.isViewing,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID}))}.bind(this))),c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_26ui",component:"div",key:"addActionCard",transitionEnter:false,transitionLeave:this.state.selectedAction!==null,transitionLeaveTimeout:400,transitionName:"addActionCard"},this.props.showAddActionCard&&!this.props.isViewing?c("React").createElement(c("VideoCopyrightRuleAddActionCard.react"),{key:"addActionCardContainer",onAddAction:this.props.onAddAction,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID,onCloseAddActionCard:function(){return this.setState({selectedAction:null},this.props.onCloseAddActionCard)}.bind(this),isRuleEmpty:this.props.rule.isEmpty(),selectedAction:this.state.selectedAction,onSelectAction:function(m){return this.setState({selectedAction:m})}.bind(this)}):null),!this.props.showAddActionCard&&!this.props.isViewing?c("React").createElement(c("VideoCopyrightRuleAddActionButton.react"),{onClickAddActionButton:this.props.onClickAddActionButton}):null,c("React").createElement(c("XUICard.react"),{className:"_2ph_ _3-8y",background:"highlight"},c("React").createElement("div",{className:"_4q0_"},c("React").createElement("div",{className:"_4q10"},i._("Make sure that you set up every action you want to take with matching videos")),i._("Any matching videos that don't fall under one of your selected actions in your match rule won't appear in Rights Manager."))))};f.exports=l}),null);
__d("VideoCopyrightRuleActionSummary.react",["cx","Image.react","React","VideoCopyrightRuleAction","VideoCopyrightRuleActionItemConfig","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[c("VideoCopyrightRuleConditionType").GEO,c("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,c("VideoCopyrightRuleConditionType").OVERLAP_DURATION,c("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE],j=function j(k){var l,m,n=c("VideoCopyrightRuleActionItemConfig").find(function(o){return o.key===k.action.getActionType()});return c("React").createElement("div",{role:"presentation",className:"_1sip",onClick:function o(){return k.onActionToFocusUpdated(k.index)}},c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:(l=n)!=null?l.summaryGlyph:l}),c("React").createElement("div",{className:"_1sir"},(m=n)!=null?m.title:m),c("React").createElement("ul",null,k.action.getConditions().filter(function(o){return Object.prototype.hasOwnProperty.call(c("VideoCopyrightRuleConditionRowConfig")[o.getConditionType()],"getSummary")}).filter(function(o){return o.getOption()===c("VideoCopyrightRuleConditionOption").WORLDWIDE.key||o.getValue()!==null&&o.getValue().length>0}).filter(function(o){var p;return!((p=k)!=null?p.isMusicLabel:p)||i.includes(o.getConditionType())}).map(function(o,p){return c("React").createElement("li",{key:p,className:"_1siv"},c("VideoCopyrightRuleConditionRowConfig")[o.getConditionType()].getSummary(o.getOption(),o.getValue()))}))))};f.exports=j}),null);
__d("VideoCopyrightRuleCancelConfirmationDialog.react",["fbt","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement(c("XUIDialog.react"),{shown:j.showCancelConfirmationDialog,width:400},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},h._("Are you sure that you want to cancel?")),c("React").createElement(c("XUIDialogBody.react"),null,j.editing?h._("Any changes you made will be discarded."):h._("The match rule that you were creating will be removed.")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:h._("Keep Editing"),use:"default",onClick:j.onBackToEdit}),c("React").createElement(c("XUIDialogButton.react"),{label:j.editing?h._("Cancel"):h._("Discard"),use:"confirm",onClick:j.onCloseDrawer})))}f.exports=i}),null);
__d("VideoCopyrightRuleDialogMainPanelFooterButtons.react",["cx","fbt","React","VideoCopyrightRule","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return k.isViewing?c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{className:"_60os",size:"large",label:i._("Delete"),onClick:k.onDeleteButtonClick,disabled:k.copyrightsCount!==0}),c("React").createElement(c("XUIButton.react"),{className:"_60ot",size:"large",use:"confirm",label:i._("OK"),onClick:k.onClose})):c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{className:"_60os",size:"large",label:i._("Cancel"),onClick:k.onClose}),c("React").createElement(c("XUIButton.react"),{className:"_60ot",size:"large",label:i._("Save"),use:"confirm",disabled:k.rule.isEmpty(),onClick:k.onSave}))}f.exports=j}),null);
__d("VideoCopyrightRuleDialogMainPanelFooter.react",["cx","fbt","React","VideoCopyrightRule","VideoCopyrightRuleDialogMainPanelFooterButtons.react","SUIBusinessTheme","SUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){k.constructor.call(this)}l.prototype.render=function(){return c("React").createElement("div",{className:"_60oo"},c("React").createElement("div",{className:"_60op"},i._("Match rule name")),c("React").createElement("div",{className:"_60or"},c("React").createElement(c("SUITextInput.react"),{placeholder:i._("Type a name here"),disabled:this.props.isViewing,onChange:this.props.onRuleNameChange,value:this.props.rule.getName(),theme:c("SUIBusinessTheme"),errorMessage:this.props.showErrorMessage?i._("Enter a name for the new match rule."):null})),c("React").createElement(c("VideoCopyrightRuleDialogMainPanelFooterButtons.react"),{onSave:this.props.onSave,onClose:this.props.onClose,onDeleteButtonClick:this.props.onDeleteButtonClick,rule:this.props.rule,isViewing:this.props.isViewing,copyrightsCount:this.props.copyrightsCount}))};f.exports=l}),null);
__d("VideoCopyrightRuleSummaryColumn.react",["ix","cx","fbt","BUIDraggableList.react","Image.react","ImageBlock.react","React","SUIBusinessTheme","SUIButton.react","VideoCopyrightRule","VideoCopyrightRuleActionSummary.react","VideoCopyrightRuleActionType","XUIText.react","asset","emptyFunction","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);var o=this.$VideoCopyrightRuleSummaryColumn1(n.rule);this.state={showDraggableList:false,itemsByID:o}}m.prototype.UNSAFE_componentWillReceiveProps=function(n){var o=this.$VideoCopyrightRuleSummaryColumn1(n.rule);this.setState({itemsByID:o})};m.prototype.$VideoCopyrightRuleSummaryColumn1=function(n){var o={};n.getActions().forEach(function(p,q){return o[q.toString()]={id:q.toString(),label:c("React").createElement("div",{className:"_1wau"},c("React").createElement(c("VideoCopyrightRuleActionSummary.react"),{action:p,key:q,index:q,isMusicLabel:this.props.isMusicLabel,onActionToFocusUpdated:this.props.onActionToFocusUpdated}),c("React").createElement(c("Image.react"),{className:"_1wav",src:h("113453")})),isMovable:true,isRemovable:false}}.bind(this));return o};m.prototype.$VideoCopyrightRuleSummaryColumn2=function(n,o){var p=n,q=0;if(o)q=o>n?o-1:o;else q=this.props.rule.getActions().length-1;this.props.rule.moveActionByIndex(p,q);this.props.onActionUpdated()};m.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",{className:"_60vi"},j._("PLATFORMS")),c("React").createElement("div",{className:"_60vj"},j._({"*":"Actions will be applied to matches on the following platforms","_1":"Actions will be applied to matches on the following platform"},[j._plural(this.props.isInstagramMonitoringEnabled?2:1)])),c("React").createElement("div",{className:"_60vj"},c("React").createElement(c("ImageBlock.react"),{className:"_3-99",contentClassName:"_2pic",spacing:"medium"},c("React").createElement(c("Image.react"),{className:"_lu9",src:h("390904")}),c("React").createElement(c("XUIText.react"),{className:"_60vj"},j._("Facebook"))),this.props.isInstagramMonitoringEnabled?c("React").createElement(c("ImageBlock.react"),{className:"_3-99",contentClassName:"_2pic",spacing:"medium"},c("React").createElement(c("Image.react"),{className:"_lu9",src:h("358267")}),c("React").createElement(c("XUIText.react"),{className:"_60vj"},j._("Instagram"))):null),c("React").createElement("div",{className:"_60vi _3-8x"},j._("ACTIONS")),c("React").createElement("div",{className:"_60vj"},j._("Actions will be applied in the order listed")),!this.props.rule.isEmpty()&&this.state.showDraggableList?c("React").createElement("div",{className:"_1wb6"},c("React").createElement(c("BUIDraggableList.react"),{itemIDs:Object.keys(this.state.itemsByID),itemsByID:this.state.itemsByID,onRemove:c("emptyFunction"),onReorder:function(n,o){this.$VideoCopyrightRuleSummaryColumn2(n,o)}.bind(this)})):this.props.rule.getActions().map(function(n,o){return c("React").createElement(c("VideoCopyrightRuleActionSummary.react"),{action:n,key:o,index:n.getID(),isMusicLabel:this.props.isMusicLabel,onActionToFocusUpdated:this.props.onActionToFocusUpdated})}.bind(this)),c("React").createElement("div",{className:"_60vj"},j._("Any remaining matches will be ignored")),this.props.rule.getActions().find(function(n){return n.getActionType()===c("VideoCopyrightRuleActionType").BLOCK})?c("React").createElement("div",{className:"_38f6"},c("React").createElement(c("Image.react"),{className:"_38f7",src:h("134351")}),c("React").createElement("div",{className:"_38f8"},j._("Blocked videos will not generate reference file insights"))):null,!this.props.rule.isEmpty()&&!this.props.isViewing&&this.props.rule.getActions().length>1?c("React").createElement("div",{className:"_1wb7"},this.state.showDraggableList?c("React").createElement("div",{className:"_3-96"},j._("Drag to change order")):null,c("React").createElement(c("SUIButton.react"),{onClick:function(){return this.setState({showDraggableList:!this.state.showDraggableList})}.bind(this),theme:c("SUIBusinessTheme"),label:this.state.showDraggableList?j._("Done"):j._("Change Order")})):null)};f.exports=m}),null);
__d("VideoCopyrightRuleMainPanelContent.react",["cx","React","SUIBusinessTheme","SUISpinner.react","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleActionColumn.react","VideoCopyrightRuleActionType","VideoCopyrightRuleSummaryColumn.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",null,this.props.showSpinner?c("React").createElement("div",{className:"_3_bv"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")})):c("React").createElement(c("VideoCopyrightRuleActionColumn.react"),{className:"_2qyy",rule:this.props.rule,actionIndexToFocus:this.props.actionIndexToFocus,onAddAction:this.props.onAddAction,onActionUpdated:this.props.onActionUpdated,showAddActionCard:this.props.showAddActionCard,onClickAddActionButton:this.props.onClickAddActionButton,onActionDeleted:this.props.onActionDeleted,onActionMoved:this.props.onActionMoved,onCloseAddActionCard:this.props.onCloseAddActionCard,isMusicLabel:this.props.isMusicLabel,isViewing:this.props.isViewing,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID,onCreateNewVersion:this.props.onCreateNewVersion}),c("React").createElement(c("VideoCopyrightRuleSummaryColumn.react"),{className:"_2qyz",rule:this.props.rule,onActionToFocusUpdated:this.props.onActionToFocusUpdated,onActionUpdated:this.props.onActionUpdated,isInstagramMonitoringEnabled:this.props.isInstagramMonitoringEnabled,isMusicLabel:this.props.isMusicLabel,isViewing:this.props.isViewing}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("VideoCopyrightRuleMainPanelHeader.react",["cx","fbt","PageContentTabDrawer.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement(c("PageContentTabDrawer.react").Header,{showBackButton:false,showCloseButton:false,className:"_26-k",onClose:k.onClose},k.isViewing?i._("Match rule: {Match rule name}",[i._param("Match rule name",k.ruleName)]):i._("Create match rule"))}f.exports=j}),null);
__d("XVideoCopyrightMatchRuleDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/match_rule_dialog/",{page_id:{type:"FBID",required:true},rule_id:{type:"FBID"}})}),null);
__d("VideoCopyrightRuleMainPanel.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","DOM","MatchRuleDeleteConfirmationDialog.react","PageContentTabDrawer.react","PageContentTabVideosCopyrightRuleActions","React","ReactDOM","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleActionType","VideoCopyrightRuleCancelConfirmationDialog.react","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleDialogMainPanelFooter.react","VideoCopyrightRuleMainPanelContent.react","VideoCopyrightRuleMainPanelHeader.react","VideoCopyrightRuleOverlapConditionType","XVideoCopyrightMatchRuleDataController"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";__p&&__p();k.constructor.call(this,m);this.$VideoCopyrightRuleMainPanel2=function(){this.setState({nestedDrawerPosition:"hidden",showCancelConfirmationDialog:false})}.bind(this);this.$VideoCopyrightRuleMainPanel3=function(){if(this.props.isViewing)this.$VideoCopyrightRuleMainPanel2();else this.setState({showCancelConfirmationDialog:true})}.bind(this);this.$VideoCopyrightRuleMainPanel4=function(){this.setState({showCancelConfirmationDialog:false})}.bind(this);this.state={rule:m.rule||new(c("VideoCopyrightRule"))(),showAddActionCard:!m.ruleID&&!m.rule,nestedDrawerPosition:"hidden",actionIndexToFocus:null,showSpinner:!!m.ruleID||this.props.accessToken===null||this.props.isMonetizationOnboarded===null,copyrightsCount:0,accessToken:m.accessToken||"",isInstagramMonitoringEnabled:false,isMonetizationOnboarded:m.isMonetizationOnboarded||false,isViewing:m.isViewing,showNameErrorMessage:false,showCancelConfirmationDialog:false}}l.prototype.UNSAFE_componentWillMount=function(){"use strict";__p&&__p();if(this.props.ruleID||this.props.accessToken===null||this.props.isMonetizationOnboarded===null){var m=c("XVideoCopyrightMatchRuleDataController").getURIBuilder().setFBID("page_id",this.props.pageID).setFBID("rule_id",this.props.ruleID).getURI();m=c("ActorURI").create(m,this.props.pageID);new(c("AsyncRequest"))(m).setHandler(function(n){if(n){if(this.props.ruleID)this.setState({rule:c("VideoCopyrightRule").fromAPIforNewMatchRule(n.payload.rule),copyrightsCount:n.payload.rule.copyrights_count,showSpinner:false});this.setState({accessToken:n.payload.access_token,isMonetizationOnboarded:!!n.payload.is_monetization_onboarded,isInstagramMonitoringEnabled:n.payload.is_instagram_monitoring_enabled,showSpinner:false})}}.bind(this)).send()}};l.prototype.componentDidMount=function(){"use strict";this.setState({nestedDrawerPosition:"open"})};l.prototype.$VideoCopyrightRuleMainPanel1=function(){"use strict";var m=this.state.rule;m.getActions().map(function(o){if(!o.getConditions().find(function(p){return c("VideoCopyrightRuleOverlapConditionType").includes(p.getConditionType())}))o.pushConditionByIndex(c("VideoCopyrightRuleConditionRowConfig").OVERLAP_DURATION.createCondition(),1)});var n=i._("Copy");m.setName(m.getName().toString()+" "+n.toString());this.setState({rule:m,isViewing:false})};l.prototype.onDeleteRule=function(){"use strict";if(this.props.ruleID){c("PageContentTabVideosCopyrightRuleActions").deleteMatchRule(this.props.pageID,this.props.ruleID,this.state.accessToken);this.$VideoCopyrightRuleMainPanel2()}};l.prototype.$VideoCopyrightRuleMainPanel5=function(){"use strict";c("ReactDOM").render(c("React").createElement(c("MatchRuleDeleteConfirmationDialog.react"),{onDelete:this.onDeleteRule.bind(this),onCancel:function m(){},postCount:this.state.copyrightsCount}),c("DOM").create("div"))};l.prototype.$VideoCopyrightRuleMainPanel6=function(m){"use strict";var n=this.state.rule;n.pushAction(new(c("VideoCopyrightRuleAction"))(m,[c("VideoCopyrightRuleConditionRowConfig").GEO.createCondition(),c("VideoCopyrightRuleConditionRowConfig").OVERLAP_DURATION.createCondition(),c("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createCondition(),c("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createCondition(),c("VideoCopyrightRuleConditionRowConfig").PRIVACY.createCondition()]));this.setState({rule:n,showAddActionCard:false})};l.prototype.$VideoCopyrightRuleMainPanel7=function(){"use strict";this.setState({showAddActionCard:true})};l.prototype.$VideoCopyrightRuleMainPanel8=function(m){"use strict";var n=this.state.rule;n.setName(m);this.setState({rule:n,showNameErrorMessage:false})};l.prototype.$VideoCopyrightRuleMainPanel9=function(){"use strict";this.setState({rule:this.state.rule})};l.prototype.$VideoCopyrightRuleMainPanel10=function(m){"use strict";this.setState({actionIndexToFocus:m})};l.prototype.$VideoCopyrightRuleMainPanel11=function(m){"use strict";this.state.rule.removeAction(m);this.$VideoCopyrightRuleMainPanel9();if(this.state.rule.isEmpty())this.setState({showAddActionCard:true})};l.prototype.$VideoCopyrightRuleMainPanel12=function(m,n){"use strict";var o=this.state.rule.getActions().indexOf(m),p=o+n;this.state.rule.moveActionByIndex(o,p);this.$VideoCopyrightRuleMainPanel9()};l.prototype.$VideoCopyrightRuleMainPanel13=function(){"use strict";__p&&__p();if(!this.state.rule.hasName()){this.setState({showNameErrorMessage:true});return}c("PageContentTabVideosCopyrightRuleActions").createMatchRule(this.props.pageID,this.state.rule.toAPIforNewMatchRule(),this.state.accessToken).done(function(m){c("Arbiter").inform("VideoCopyrightRule/closeDialog",m.id);this.setState({nestedDrawerPosition:"hidden"});if(this.props.onCloseDialog)this.props.onCloseDialog();if(this.props.onMatchRuleCreated)this.props.onMatchRuleCreated(m)}.bind(this))};l.prototype.$VideoCopyrightRuleMainPanel14=function(){"use strict";this.setState({showAddActionCard:false})};l.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("PageContentTabDrawer.react"),{className:"_26-i",onClose:this.$VideoCopyrightRuleMainPanel2.bind(this),onClosed:this.props.onCloseDialog,hideOnBackgroundClick:this.state.isViewing,useTransparentBackground:false,position:this.state.nestedDrawerPosition,drawerView:{header:c("React").createElement(c("VideoCopyrightRuleMainPanelHeader.react"),{onClose:this.$VideoCopyrightRuleMainPanel2,ruleName:this.state.rule.getName(),isViewing:this.props.isViewing}),content:c("React").createElement(c("VideoCopyrightRuleMainPanelContent.react"),{rule:this.state.rule,actionIndexToFocus:this.state.actionIndexToFocus,onAddAction:this.$VideoCopyrightRuleMainPanel6.bind(this),onActionUpdated:this.$VideoCopyrightRuleMainPanel9.bind(this),showAddActionCard:this.state.showAddActionCard,onClickAddActionButton:this.$VideoCopyrightRuleMainPanel7.bind(this),onActionDeleted:this.$VideoCopyrightRuleMainPanel11.bind(this),onActionMoved:this.$VideoCopyrightRuleMainPanel12.bind(this),onActionToFocusUpdated:this.$VideoCopyrightRuleMainPanel10.bind(this),onCloseAddActionCard:this.$VideoCopyrightRuleMainPanel14.bind(this),isMusicLabel:this.props.isMusicLabel,isViewing:this.state.isViewing,showSpinner:this.state.showSpinner,isInstagramMonitoringEnabled:this.state.isInstagramMonitoringEnabled,isMonetizationOnboarded:this.state.isMonetizationOnboarded,pageID:this.props.pageID,onCreateNewVersion:this.$VideoCopyrightRuleMainPanel1.bind(this)}),footer:c("React").createElement(c("VideoCopyrightRuleDialogMainPanelFooter.react"),{onSave:this.$VideoCopyrightRuleMainPanel13.bind(this),onClose:this.$VideoCopyrightRuleMainPanel3,onRuleNameChange:this.$VideoCopyrightRuleMainPanel8.bind(this),rule:this.state.rule,isViewing:this.state.isViewing,onDeleteButtonClick:this.$VideoCopyrightRuleMainPanel5.bind(this),copyrightsCount:this.state.copyrightsCount,showErrorMessage:this.state.showNameErrorMessage})}}),c("React").createElement(c("VideoCopyrightRuleCancelConfirmationDialog.react"),{editing:this.props.editing,showCancelConfirmationDialog:this.state.showCancelConfirmationDialog,onCloseDrawer:this.$VideoCopyrightRuleMainPanel2,onBackToEdit:this.$VideoCopyrightRuleMainPanel4}))};f.exports=l}),null);
__d("VideoCopyrightRuleTemplateBlankSelectDialogContent.react",["cx","fbt","React","XUIButton.react","XUIDialog.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=function j(k){return c("React").createElement(c("XUIDialog.react"),{width:502,shown:!k.showMainPanel},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Create match rule")),c("React").createElement("div",{className:"_4ynh"},i._("Select one to get started")),c("React").createElement("div",{className:"_4yni"},c("React").createElement("div",{className:"_4ynj"+(k.isTemplateSelected?" _4ynk":""),onClick:k.handleClickTemplate,role:"presentation"},c("React").createElement("div",{className:"_4ynl"},c("React").createElement("div",{className:"_2lxv"})),c("React").createElement("div",{className:"_4ynm"},i._("Template")),c("React").createElement("div",{className:"_4ynn"},i._("Get started with a sample match rule that you can edit."))),c("React").createElement("div",{className:"_4yno"+(!k.isTemplateSelected?" _4ynk":""),onClick:k.handleClickBlank,role:"presentation"},c("React").createElement("div",{className:"_4ynl"},c("React").createElement("div",{className:"_2lxy"})),c("React").createElement("div",{className:"_4ynm"},i._("Blank")),c("React").createElement("div",{className:"_4ynn"},i._("Set up a match rule with no pre-filled actions.")))),c("React").createElement("div",{className:"_4ynp"},i._("Match rules detect videos containing content that you own the rights to, and allow you to take actions on them automatically.")),c("React").createElement("div",{className:"_3eyy"},c("React").createElement("div",{className:"_3eyz"},c("React").createElement(c("XUIButton.react"),{size:"large",label:i._("Cancel"),className:"_4ynq",onClick:k.onClickCancelButton}),c("React").createElement(c("XUIButton.react"),{size:"large",label:i._("Next"),use:"confirm",className:"_4ynq",onClick:k.onClickNextButton}))))};f.exports=j}),null);
__d("VideoCopyrightRuleTemplateBlankSelectDialog",["React","ReactDOM","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleActionType","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleMainPanel.react","VideoCopyrightRuleTemplateBlankSelectDialogContent.react","XUIDialog.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(l){"use strict";i.constructor.call(this,l);this.state={isTemplateSelected:true,showMainPanel:false,rule:null};this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent1=this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent1.bind(this);this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent2=this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent2.bind(this);this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent4=this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent4.bind(this);this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent5=this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent5.bind(this)}j.prototype.$VideoCopyrightRuleTemplateBlankSelectDialogComponent1=function(){"use strict";this.setState({isTemplateSelected:true})};j.prototype.$VideoCopyrightRuleTemplateBlankSelectDialogComponent2=function(){"use strict";this.setState({isTemplateSelected:false})};j.prototype.$VideoCopyrightRuleTemplateBlankSelectDialogComponent5=function(){"use strict";k.hide()};j.prototype.$VideoCopyrightRuleTemplateBlankSelectDialogComponent6=function(l){"use strict";return new(c("VideoCopyrightRuleAction"))(l,[c("VideoCopyrightRuleConditionRowConfig").GEO.createCondition(),c("VideoCopyrightRuleConditionRowConfig").OVERLAP_DURATION.createConditionForTemplate(l),c("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createCondition(),c("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createCondition(),c("VideoCopyrightRuleConditionRowConfig").PRIVACY.createCondition()])};j.prototype.$VideoCopyrightRuleTemplateBlankSelectDialogComponent4=function(){"use strict";var l=null;if(this.state.isTemplateSelected){var m=[this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent6(c("VideoCopyrightRuleActionType").BLOCK),this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent6(c("VideoCopyrightRuleActionType").TRACK),this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent6(c("VideoCopyrightRuleActionType").MANUAL_REVIEW)];if(this.props.isMonetizationOnboarded)m=[this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent6(c("VideoCopyrightRuleActionType").MONETIZE)].concat(m);l=new(c("VideoCopyrightRule"))(m)}this.setState({showMainPanel:true,rule:l})};j.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("VideoCopyrightRuleTemplateBlankSelectDialogContent.react"),{isTemplateSelected:this.state.isTemplateSelected,handleClickTemplate:this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent1,handleClickBlank:this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent2,onClickCancelButton:this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent5,onClickNextButton:this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent4,showMainPanel:this.state.showMainPanel}),this.state.showMainPanel?c("React").createElement(c("XUIDialog.react"),{width:0,shown:true,titleID:"main panel"},c("React").createElement(c("VideoCopyrightRuleMainPanel.react"),{pageID:this.props.pageID,rule:this.state.rule,accessToken:this.props.accessToken,isViewing:false,onCloseDialog:this.$VideoCopyrightRuleTemplateBlankSelectDialogComponent5,isMonetizationOnboarded:this.props.isMonetizationOnboarded})):null)};var k={show:function l(m,n){var o=arguments.length<=2||arguments[2]===undefined?null:arguments[2];this._container=document.createElement("div");c("ReactDOM").render(c("React").createElement(j,{pageID:m,accessToken:n,isMonetizationOnboarded:o}),this._container)},hide:function l(){if(!this._container)return;this.destroy()},destroy:function l(){c("ReactDOM").unmountComponentAtNode(this._container);this._container=null}};f.exports=k}),null);
__d("VideoAssetDeleteConfirmationDialog.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","Link.react","React","VideoAssetPostsSelection.react","XUICheckboxInput.react","VideoUtils","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react","PublishingToolsWebdriverTestDataIDs"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);var n=this.$VideoAssetDeleteConfirmationDialog1(),o=this.props.selectedOrganicPosts||n;this.state={selectedOrganicPosts:o,deleteAllOwnedPosts:o.length===n.length}}l.prototype.$VideoAssetDeleteConfirmationDialog2=function(){"use strict";var m=new Set();this.state.selectedOrganicPosts.forEach(function(n){m.add(n.videoAssetID)});return m.size};l.prototype.$VideoAssetDeleteConfirmationDialog3=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m+n.posts.length},0)};l.prototype.$VideoAssetDeleteConfirmationDialog1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m.concat(n.posts)},[])};l.prototype.$VideoAssetDeleteConfirmationDialog4=function(){"use strict";this.props.onDelete(this.state.selectedOrganicPosts)};l.prototype.$VideoAssetDeleteConfirmationDialog5=function(){"use strict";this.props.onExpire(this.state.selectedOrganicPosts)};l.prototype.$VideoAssetDeleteConfirmationDialog6=function(m){"use strict";var n=m.find(function(o){return o.isOrigBroadcastAndCrossposted===true});return n!==undefined};l.prototype.$VideoAssetDeleteConfirmationDialog7=function(m){"use strict";if(this.$VideoAssetDeleteConfirmationDialog6(m))m=this.$VideoAssetDeleteConfirmationDialog1();this.setState({selectedOrganicPosts:m,deleteAllOwnedPosts:this.$VideoAssetDeleteConfirmationDialog1().length===m.length})};l.prototype.$VideoAssetDeleteConfirmationDialog8=function(){"use strict";var m=this.$VideoAssetDeleteConfirmationDialog3();if(m>1)return this.$VideoAssetDeleteConfirmationDialog9();else return this.$VideoAssetDeleteConfirmationDialog10()};l.prototype.$VideoAssetDeleteConfirmationDialog9=function(){"use strict";var m=this.props.organicPostsByAsset,n=this.state.selectedOrganicPosts,o=this.$VideoAssetDeleteConfirmationDialog2(),p=void 0;if(this.$VideoAssetDeleteConfirmationDialog6(n))p=i._("Only selected posts will be deleted. If an original live video is selected, all other crossposted videos will also be selected.");else p=i._("Only ticked posts will be deleted");return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block"},i._({"s":{"s":"Your post that uses this video will be permanently deleted","p":"Your post that uses these videos will be permanently deleted"},"p":{"s":"Your posts that use this video will be permanently deleted","p":"Your posts that use these videos will be permanently deleted"}},[i._enum(n.length===1?"s":"p",{s:"post",p:"posts"}),i._enum(o===1?"s":"p",{s:"this video",p:"these videos"})])),c("React").createElement(c("VideoAssetPostsSelection.react"),{organicPostsByAsset:m,selectedOrganicPosts:n,tableCaption:p,onPostSelectionChange:this.$VideoAssetDeleteConfirmationDialog7.bind(this)}),this.$VideoAssetDeleteConfirmationDialog11(),this.$VideoAssetDeleteConfirmationDialog12(),c("React").createElement(c("XUIGrayText.react"),{className:"_3-8-",shade:"light",size:"meta1",display:"block"},i._("If you want to preserve the insights for these posts, you can expire them instead.")," ",this.$VideoAssetDeleteConfirmationDialog13()))};l.prototype.$VideoAssetDeleteConfirmationDialog13=function(){"use strict";var m=null;if(this.props.showCrosspostingHelpCenter)m=c("React").createElement(c("Link.react"),{href:"/business/help/1590463861209138",target:"_blank",className:"_50f3"},i._("Learn more"));return m};l.prototype.$VideoAssetDeleteConfirmationDialog11=function(){"use strict";if(!this.props.selectedOrganicPosts)return null;var m=this.$VideoAssetDeleteConfirmationDialog3();if(m===1)return null;var n=this.$VideoAssetDeleteConfirmationDialog2();return c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(event){this.setState({deleteAllOwnedPosts:event.target.checked,selectedOrganicPosts:event.target.checked?this.$VideoAssetDeleteConfirmationDialog1():this.props.selectedOrganicPosts||[]})}.bind(this)},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.deleteAllOwnedPosts}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIText.react"),{shade:"light",size:"header4",display:"block",weight:"normal"},i._({"s":"Delete all {count} of your posts that use this video","p":"Delete all {count} of your posts that use these videos"},[i._param("count",m),i._enum(n===1?"s":"p",{s:"this video",p:"these videos"})]))))};l.prototype.$VideoAssetDeleteConfirmationDialog10=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_3-95",shade:"light",size:"header4",display:"block"},i._("This post will be permanently deleted.")),this.$VideoAssetDeleteConfirmationDialog12(),c("React").createElement(c("XUIGrayText.react"),{className:"_3-8-",size:"meta1",display:"block"},i._("If you want to preserve the insights for this post, you can expire it instead.")),this.$VideoAssetDeleteConfirmationDialog13())};l.prototype.$VideoAssetDeleteConfirmationDialog14=function(){"use strict";var m=this.props.selectedOrganicPosts?this.props.selectedOrganicPosts.length:0,n=this.$VideoAssetDeleteConfirmationDialog3();if(n===1||m===1)return i._("Delete post?");else if(m>1)return i._("Delete posts?");else if(this.props.organicPostsByAsset.length>1)return i._("Delete videos?");else return i._("Delete video?")};l.prototype.$VideoAssetDeleteConfirmationDialog15=function(m){"use strict";var n=m.selectedVideosCrosspostsCount,o=m.selectedVideosCount;if(n===1)return i._("This video is used by another Page in one post. That post will be removed.");else if(n>1)if(o===1)return i._("This video is used by other Pages in {num_deleted_cross_posts} posts. Those posts will be removed.",[i._param("num_deleted_cross_posts",n)]);else return i._("These videos are used by other Pages in {num_deleted_cross_posts} posts. Those posts will be removed.",[i._param("num_deleted_cross_posts",n)]);return null};l.prototype.$VideoAssetDeleteConfirmationDialog12=function(){"use strict";if(!this.props.canDeleteCrosspostedVideos)return null;var m=c("VideoUtils").getSelectedVideosAndCrossPostsCount(this.props.pageID,this.props.organicPostsByAsset,this.state.selectedOrganicPosts),n=m.selectedVideosCrosspostsCount;if(n===0)return null;return c("React").createElement("div",null,c("React").createElement(c("XUINotice.react"),{className:"_3-8o",use:"notify"},this.$VideoAssetDeleteConfirmationDialog15(m)))};l.prototype.renderExpireButton=function(){"use strict";if(!this.props.canExpireVideos)return null;return c("React").createElement(c("XUIDialogButton.react"),{label:i._("Expire{dot dot dot (for truncation)}",[i._param("dot dot dot (for truncation)","...")]),action:"cancel",size:"large",use:"default",onClick:this.$VideoAssetDeleteConfirmationDialog5.bind(this)})};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{width:450,shown:true,fixedTopPosition:100,hideOnEscape:true},c("React").createElement(c("XUIDialogTitle.react"),null,this.$VideoAssetDeleteConfirmationDialog14()),c("React").createElement(c("XUIDialogBody.react"),{className:"_2piq"},this.$VideoAssetDeleteConfirmationDialog8()),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:this.renderExpireButton()},c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{"data-testid":c("PublishingToolsWebdriverTestDataIDs").DELETE_VIDEO,label:i._("Delete"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$VideoAssetDeleteConfirmationDialog4.bind(this)})))};f.exports=l}),null);
__d("VideoAssetExpireConfirmationDialog.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","LeftRight.react","React","VideoAssetPostsSelection.react","VideoUtils","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);var n=m.organicPostsByAsset.reduce(function(p,q){return p.concat(q.posts)},[]),o=this.props.selectedOrganicPosts||n;this.state={selectedOrganicPosts:o,removeSharePermission:false,expireAllOwnedPosts:o.length===n.length}}l.prototype.$VideoAssetExpireConfirmationDialog1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m+n.posts.length},0)};l.prototype.$VideoAssetExpireConfirmationDialog2=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m.concat(n.posts)},[])};l.prototype.$VideoAssetExpireConfirmationDialog3=function(){"use strict";this.props.onExpire(this.state.selectedOrganicPosts,this.state.removeSharePermission)};l.prototype.$VideoAssetExpireConfirmationDialog4=function(){"use strict";return this.props.organicPostsByAsset.filter(function(m){return m.isShared&&m.videoAssetOwnerID===this.props.pageID}.bind(this)).length};l.prototype.$VideoAssetExpireConfirmationDialog5=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m+n.reusedPostsCount},0)};l.prototype.$VideoAssetExpireConfirmationDialog6=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m+n.reusedPublishedPostsCount},0)};l.prototype.$VideoAssetExpireConfirmationDialog7=function(m){"use strict";this.setState({selectedOrganicPosts:m,expireAllOwnedPosts:this.$VideoAssetExpireConfirmationDialog2().length===m.length})};l.prototype.$VideoAssetExpireConfirmationDialog8=function(){"use strict";var m=this.$VideoAssetExpireConfirmationDialog1();if(m>1&&!this.props.disablePostSelection)return this.$VideoAssetExpireConfirmationDialog9();else return this.$VideoAssetExpireConfirmationDialog10()};l.prototype.$VideoAssetExpireConfirmationDialog9=function(){"use strict";var m=this.props.organicPostsByAsset;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block"},i._({"s":"Your posts that use this video will no longer be published","p":"Your posts that use these videos will no longer be published"},[i._enum(m.length===1?"s":"p",{s:"this video",p:"these videos"})])),c("React").createElement(c("VideoAssetPostsSelection.react"),{className:"_3-8x",organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.state.selectedOrganicPosts,tableCaption:i._("Only ticked posts will be expired"),onPostSelectionChange:this.$VideoAssetExpireConfirmationDialog7.bind(this)}),this.$VideoAssetExpireConfirmationDialog11(),this.$VideoAssetExpireConfirmationDialog12(),c("React").createElement(c("XUIText.react"),{className:"_3-8x",size:"header4",display:"block"},i._("The insights for these posts will be preserved.")))};l.prototype.$VideoAssetExpireConfirmationDialog12=function(){"use strict";__p&&__p();if(!this.props.canRemoveSharePermission)return null;var m=void 0,n=void 0,o=void 0;if(this.props.disablePostSelection)o={selectedVideosCrosspostsCount:this.$VideoAssetExpireConfirmationDialog5(),selectedVideosPublishedCrosspostsCount:this.$VideoAssetExpireConfirmationDialog6(),selectedVideosCount:this.props.organicPostsByAsset.length,selectedOwnedVideosSharedCount:this.$VideoAssetExpireConfirmationDialog4()};else o=c("VideoUtils").getSelectedVideosAndCrossPostsCount(this.props.pageID,this.props.organicPostsByAsset,this.state.selectedOrganicPosts);if(this.$VideoAssetExpireConfirmationDialog4()===0)return null;if(this.state.removeSharePermission){var p=this.$VideoAssetExpireConfirmationDialog13(o);if(p)m=c("React").createElement(c("XUINotice.react"),{className:"_3-8o",use:"notify"},p)}if(o.selectedVideosCount>1)n=i._("Remove permission from all other Pages to use these videos");else n=i._("Remove permission from all other Pages to use this video");return c("React").createElement("div",null,c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(event){this.setState({removeSharePermission:event.target.checked})}.bind(this)},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.removeSharePermission}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIText.react"),{className:"_5gtt",size:"header4",weight:"normal"},n))),m)};l.prototype.$VideoAssetExpireConfirmationDialog13=function(m){"use strict";var n=m.selectedVideosPublishedCrosspostsCount,o=m.selectedVideosCount;if(n===1)return i._("This video is used by another Page in one post. That post will be unpublished.");else if(n>1)if(o===1)return i._("This video is used by other Pages in {num_cross_posts} posts. Those posts will be unpublished.",[i._param("num_cross_posts",n)]);else return i._("These videos are used by other Pages in {num_cross_posts} posts. Those posts will be unpublished.",[i._param("num_cross_posts",n)]);return null};l.prototype.$VideoAssetExpireConfirmationDialog11=function(){"use strict";var m=this.$VideoAssetExpireConfirmationDialog1();if(m===1)return null;return c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(event){this.setState({expireAllOwnedPosts:event.target.checked,selectedOrganicPosts:event.target.checked?this.$VideoAssetExpireConfirmationDialog2():this.props.selectedOrganicPosts||[]})}.bind(this)},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.expireAllOwnedPosts}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIText.react"),{className:"_5gtt",size:"header4",weight:"normal"},i._("Expire all {count} of your posts that use this video",[i._param("count",m)]))))};l.prototype.$VideoAssetExpireConfirmationDialog10=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},i._("This post will no longer be published.")),this.$VideoAssetExpireConfirmationDialog11(),this.$VideoAssetExpireConfirmationDialog12())};l.prototype.$VideoAssetExpireConfirmationDialog14=function(){"use strict";var m=this.props.selectedOrganicPosts?this.props.selectedOrganicPosts.length:0,n=this.$VideoAssetExpireConfirmationDialog1();if(n===1||m===1)return i._("Expire post?");else if(m>1)return i._("Expire posts?");else if(this.props.organicPostsByAsset.length>1)return i._("Expire videos?");else return i._("Expire video?")};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{width:450,shown:true,fixedTopPosition:100,hideOnEscape:true},c("React").createElement(c("XUIDialogTitle.react"),null,this.$VideoAssetExpireConfirmationDialog14()),c("React").createElement(c("XUIDialogBody.react"),null,this.$VideoAssetExpireConfirmationDialog8()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("span",null),c("React").createElement("span",null,c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{label:i._("Expire"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$VideoAssetExpireConfirmationDialog3.bind(this)})))))};f.exports=l}),null);
__d("GenericVideoAssetGraphFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BROADCAST_ID:"broadcast_id",BROADCAST_PLANNED_START_TIME:"broadcast_planned_start_time",CAN_VIEWER_EDIT:"can_viewer_edit",COPYRIGHT_MONITORING_STATUS:"copyright_monitoring_status",CREATED_TIME:"created_time",CREATOR:"creator",DESCRIPTION:"description",DOWNLOAD_SD_URL:"download_sd_url",DOWNLOAD_HD_URL:"download_hd_url",EMBEDDABLE:"embeddable",EXPIRATION:"expiration",SOCIAL_ACTIONS:"social_actions",FEED_TYPE:"feed_type",ID:"id",IS_CROSSPOSTING_ELIGIBLE:"is_crossposting_eligible",IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE:"is_crossposting_within_bm_eligible",IS_CROSSPOSTING_WITHIN_BM_ENABLED:"is_crossposting_within_bm_enabled",IS_EPISODE:"is_episode",IS_FEATURED:"is_featured",IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE:"is_legacy_video_crossposting_eligible",IS_LIVE_PREMIERE:"is_live_premiere",IS_VIDEO_ASSET:"is_video_asset",LAST_ADDED_TIME:"last_added_time",LATEST_CREATOR:"latest_creator",LATEST_OWNED_DESCRIPTION:"latest_owned_description",LATEST_OWNED_TITLE:"latest_owned_title",LENGTH:"length",LIVE_STATUS:"live_status",MONETIZATION_STATUS:"monetization_status",NO_STORY:"no_story",OWNER_ID:"owner_id",OWNER_NAME:"owner_name",OWNER_POST_STATE:"owner_post_state",PERMALINK_URL:"permalink_url",POSTS_COUNT:"posts_count",POSTS_IDS:"posts_ids",POSTS_STATUS:"posts_status",PUBLISHED:"published",SECRET:"secret",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",SEASON:"season",STATUS:"status",STREAM_URL:"stream_url",SECURE_STREAM_URL:"secure_stream_url",THUMBNAIL:"picture",THUMBNAIL_WHILE_ENCODING:"thumbnail_while_encoding",TITLE:"title",VIEWS:"views",VIDEO_POSTS:"video_posts",VIDEO_STATS:"video_stats"})}),null);
__d("VideoAssetContext",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_ASSET:"video_asset",VIDEO_POST:"video_post",VIDEO_SHARE:"video_share",LIVE_VIDEO:"live_video",REFERENCE_LIVE_VIDEO:"reference_live_video",REFERENCE_FILE:"reference_file"})}),null);
__d("VideoAssetInsightsSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNKNOWN:"unknown",VIDEO_LIBRARY:"video_library",PUBLISHED_POSTS:"published_posts",EXPIRING_POSTS:"expiring_posts",EXPIRED_POSTS:"expired_posts",ADS_POSTS:"ads_posts",VIDEO_PERMALINK:"video_permalink",PAGE_OVERVIEW_INSIGHTS:"page_overview_insights",PAGE_POST_INSIGHTS:"page_post_insights",PAGE_VIDEO_INSIGHTS:"page_video_insights",PAGE_BRANDED_CONTENT_INSIGHTS:"page_branded_content_insights",PAGE_AD_BREAKS_INSIGHTS:"page_ad_breaks_insights",SNOWLIFT:"snowlift",VIDEO_ASSET_EDIT_SELECTOR:"video_asset_edit_selector",OLD_POST_INSIGHTS_VIDEO_TAB:"old_post_insights_video_tab",PAGES_POST_REACH_BAR:"pages_post_reach_bar",LIVE_VIDEO_INSIGHTS:"live_video_insights",ASSET_INSPECTOR:"asset_inspector",REFERENCE_FILE_TABLE:"reference_file_table",REFERENCE_FILE_EDIT_DIALOG:"reference_file_edit_dialog",REFERENCE_POST_DETAILS:"reference_post_details",BUSINESS_AD_BREAK_INSIGHTS:"business_ad_break_insights",MEDIA_MANAGER_DASHBOARD:"media_manager_dashboard",MEDIA_MANAGER_INSIGHTS:"media_manager_insights",MEDIA_CREATOR_HUB:"media_creator_hub",LIVE_VIDEO_COMPOSER:"live_video_composer"})}),null);
__d("VideoAssetMonetizationStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INELIGIBLE_DEPRECATED:"ineligible_deprecated",LIMITED:"limited",MONETIZED:"monetized",NOT_MONETIZED:"not_monetized",AD_BREAKS_PREREVIEW:"ad_breaks_prereview",UNDER_REVIEW:"under_review",NOT_IN_PROGRAM:"not_in_program",UNKNOWN:"unknown"})}),null);
__d("VideoAssetPublishConfirmationDialog.react",["cx","fbt","LeftRight.react","React","VideoAssetPostsSelection.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);this.state={selectedOrganicPosts:this.props.selectedOrganicPosts||m.organicPostsByAsset.reduce(function(n,o){return n.concat(o.posts)},[])}}l.prototype.$VideoAssetPublishConfirmationDialog1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(m,n){return m+n.posts.length},0)};l.prototype.$VideoAssetPublishConfirmationDialog2=function(){"use strict";this.props.onPublish(this.state.selectedOrganicPosts)};l.prototype.$VideoAssetPublishConfirmationDialog3=function(m){"use strict";this.setState({selectedOrganicPosts:m})};l.prototype.$VideoAssetPublishConfirmationDialog4=function(){"use strict";var m=this.$VideoAssetPublishConfirmationDialog1();if(m>1)return this.$VideoAssetPublishConfirmationDialog5();else return this.$VideoAssetPublishConfirmationDialog6()};l.prototype.$VideoAssetPublishConfirmationDialog5=function(){"use strict";var m=this.props.organicPostsByAsset;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block",weight:"bold"},i._({"s":"Your posts using this video will be published","p":"Your posts that use these videos will be published"},[i._enum(m.length===1?"s":"p",{s:"this video",p:"these videos"})])),c("React").createElement(c("VideoAssetPostsSelection.react"),{organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.state.selectedOrganicPosts,tableCaption:i._("Only ticked posts will be published"),onPostSelectionChange:this.$VideoAssetPublishConfirmationDialog3.bind(this)}))};l.prototype.$VideoAssetPublishConfirmationDialog6=function(){"use strict";return c("React").createElement(c("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},i._("This post will be published."))};l.prototype.$VideoAssetPublishConfirmationDialog7=function(){"use strict";var m=this.$VideoAssetPublishConfirmationDialog1();if(m===1)return i._("Publish post?");else if(this.props.organicPostsByAsset.length>1)return i._("Publish videos?");else return i._("Publish video?")};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{width:450,shown:true,fixedTopPosition:100},c("React").createElement(c("XUIDialogTitle.react"),null,this.$VideoAssetPublishConfirmationDialog7()),c("React").createElement(c("XUIDialogBody.react"),null,this.$VideoAssetPublishConfirmationDialog4()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("span",null),c("React").createElement("span",null,c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{label:i._("Publish"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$VideoAssetPublishConfirmationDialog2.bind(this)})))))};f.exports=l}),null);
__d("VideoAssetSelectorDialog.react",["fbt","LayerFadeOnHide","LayerHideOnEscape","React","VideoAssetPostsTable.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=655;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.state={shown:true}}l.prototype.$VideoAssetSelectorDialog1=function(m,n){"use strict";var o=this.props.videoAssetData.posts[n],p=[o];this.props.onSelect(p);this.setState({shown:false})};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnEscape:c("LayerHideOnEscape")},shown:this.state.shown,width:k},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Schedule which post?")),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("VideoAssetPostsTable.react"),{onRowClick:this.$VideoAssetSelectorDialog1.bind(this),organicPostsByAsset:[this.props.videoAssetData],columns:["profile","views","dateCreated"],showPostStateIndicator:this.props.showPostStateIndicator})))};f.exports=l}),null);
__d("VideoAssetWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UI_EDIT_SELECTOR_OPEN:"ui.edit_selector_open",UI_EDIT_SELECTOR_CHOICE:"ui.edit_selector_choice",UI_NEW_POST_FROM_ASSET_START:"ui.new_post_from_asset_start",UI_NEW_POST_FROM_ASSET_FINISH:"ui.new_post_from_asset_finish",UI_NEW_POST_FROM_ASSET_FAILURE:"ui.new_post_from_asset_failure",UI_NEW_POST_FROM_ASSET_CAPTIONS_FAILURE:"ui.new_post_from_asset_captions_failure",UI_POST_DELETE_SELECTION:"ui.post_delete_selection",UI_POST_DELETE_START:"ui.post_delete_start",UI_POST_DELETE_FINISH:"ui.post_delete_finish",UI_POST_DELETE_FAILURE:"ui.post_delete_failure",UI_POST_EXPIRE_SELECTION:"ui.post_expire_selection",UI_POST_EXPIRE_START:"ui.post_expire_start",UI_POST_EXPIRE_FINISH:"ui.post_expire_finish",UI_POST_EXPIRE_FAILURE:"ui.post_expire_failure",POST_EXPIRE_START:"post_expire_start",POST_EXPIRE_FINISH:"post_expire_finish",POST_EXPIRE_FAILURE:"post_expire_failure",UI_ASSET_EXPIRE_REMOVE_SHARING_START:"ui.asset_expire_remove_sharing_start",UI_ASSET_EXPIRE_REMOVE_SHARING_FINISH:"ui.asset_expire_remove_sharing_finish",UI_ASSET_EXPIRE_REMOVE_SHARING_FAILURE:"ui.asset_expire_remove_sharing_failure",ASSET_EXPIRE_REMOVE_SHARING_START:"asset_expire_remove_sharing_start",ASSET_EXPIRE_REMOVE_SHARING_FINISH:"asset_expire_remove_sharing_finish",ASSET_EXPIRE_REMOVE_SHARING_FAILURE:"asset_expire_remove_sharing_failure",ASSET_ENABLE_SHARING_START:"asset_enable_sharing_start",ASSET_ENABLE_SHARING_FINISH:"asset_enable_sharing_finish",ASSET_ENABLE_SHARING_FAILURE:"asset_enable_sharing_failure",ASSET_REMOVE_SHARING_START:"asset_remove_sharing_start",ASSET_REMOVE_SHARING_FINISH:"asset_remove_sharing_finish",ASSET_REMOVE_SHARING_FAILURE:"asset_remove_sharing_failure",UI_POST_PUBLISH_START:"ui.post_publish_start",UI_POST_PUBLISH_FINISH:"ui.post_publish_finish",UI_POST_PUBLISH_FAILURE:"ui.post_publish_failure",POST_PUBLISH_START:"post_publish_start",POST_PUBLISH_FINISH:"post_publish_finish",POST_PUBLISH_FAILURE:"post_publish_failure",UI_POST_SCHEDULE_START:"ui.post_schedule_start",UI_POST_SCHEDULE_FINISH:"ui.post_schedule_finish",UI_POST_SCHEDULE_FAILURE:"ui.post_schedule_failure",POST_SCHEDULE_START:"post_schedule_start",POST_SCHEDULE_FINISH:"post_schedule_finish",POST_SCHEDULE_FAILURE:"post_schedule_failure",ASSET_ENABLE_SHARING_WITH_BUSINESS_START:"asset_enable_sharing_with_business_start",ASSET_ENABLE_SHARING_WITH_PAGE_START:"asset_enable_sharing_with_page_start",ASSET_REMOVE_SHARING_WITH_BUSINESS_START:"asset_remove_sharing_with_business_start",ASSET_REMOVE_SHARING_WITH_PAGE_START:"asset_remove_sharing_with_page_start",ASSET_ENABLE_SHARING_WITH_BUSINESS_FINISH:"asset_enable_sharing_with_business_finish",ASSET_ENABLE_SHARING_WITH_PAGE_FINISH:"asset_enable_sharing_with_page_finish",ASSET_REMOVE_SHARING_WITH_BUSINESS_FINISH:"asset_remove_sharing_with_business_finish",ASSET_REMOVE_SHARING_WITH_PAGE_FINISH:"asset_remove_sharing_with_page_finish",ASSET_UPDATE_CROSSPOSTING_CONFIG_FAILURE:"asset_update_crossposting_config_failure",INVALID_CROSSPOSTING_CONFIG:"invalid_crossposting_config",ASSET_ADD_VIDEO_CAPTION:"asset_add_video_caption",VIDEO_SOFT_DELETE_CAPTION_ON_ASSET:"video_soft_delete_caption_on_asset",CROSSPOST_AUTO_CREATION_START:"crosspost_auto_creation_start",CROSSPOST_AUTO_CREATION_FINISH:"crosspost_auto_creation_finish",CROSSPOST_AUTO_CREATION_FAILURE:"crosspost_auto_creation_failure"})}),null);
__d("XVideoAssetInsightsDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_asset/insights/",{page_id:{type:"FBID",required:true},video_asset_id:{type:"FBID",required:true},source:{type:"Enum",defaultValue:"unknown",enumType:1},context:{type:"Enum",defaultValue:"video_post",enumType:1},source_footer_message_type:{type:"Enum",enumType:1},initial_card:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("XVideoAssetsExpireRemoveSharingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_asset/expire/remove_sharing/",{video_asset_id:{type:"FBID",required:true},source:{type:"Enum",required:true,enumType:1}})}),null);
__d("XVideoAssetsPostsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_asset/posts/",{video_asset_ids:{type:"IntVector"},video_post_ids:{type:"IntVector"}})}),null);
__d("XVideoPostExpireController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/expire/",{video_id:{type:"Int",required:true},source:{type:"Enum",required:true,enumType:1}})}),null);
__d("XVideoPostPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/publish/",{video_id:{type:"Int",required:true},source:{type:"Enum",required:true,enumType:1}})}),null);
__d("XVideoPostScheduleController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/schedule/",{video_id:{type:"Int",required:true},source:{type:"Enum",required:true,enumType:1},schedule_publish_time:{type:"Int",required:true}})}),null);
__d("VideoUtils",["ix","cx","fbt","Promise","ActorURI","AsyncDialog","AsyncRequest","DOM","Image.react","GenericVideoAssetGraphFields","LiveStatusType","PageContentTabConfig","PostScheduleDialog.react","React","ReactDOM","VideoAssetDeleteConfirmationDialog.react","VideoAssetExpireConfirmationDialog.react","VideoAssetInsightsSource","VideoAssetPublishConfirmationDialog.react","VideoAssetSelectorDialog.react","VideoAssetWaterfallEvent","VideoAssetWaterfallTypedLogger","VideoBroadcastAPIStatus","VideoContainerType","VideoContainerTypeInVideoLibrary","VideoGraphFields","VideoAssetContext","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XVideoAssetInsightsDialogController","XVideoAssetsExpireRemoveSharingController","XVideoAssetsPostsController","XVideoEditDialogController","XVideoPostExpireController","XVideoPostPublishController","XVideoPostScheduleController","UserAgent","goURI","VideoAssetMonetizationStatus","VideoFormattingUtils","fbglyph","getOwnObjectValues","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e3,n={formatTime:function p(q){return c("VideoFormattingUtils").formatTime(q)},formatPercentage:function p(q,r){return c("VideoFormattingUtils").formatPercentage(q,r)},showVideoManagementSurvey:function p(q){if(q!==null)q.show()},getLiveStatusType:function p(q){if(q)if(q===c("VideoBroadcastAPIStatus").UNPUBLISHED||q===c("VideoBroadcastAPIStatus").LIVE)return c("LiveStatusType").IS_LIVE_BROADCAST;else if(q===c("VideoBroadcastAPIStatus").SCHEDULED_UNPUBLISHED||q===c("VideoBroadcastAPIStatus").SCHEDULED_LIVE)return c("LiveStatusType").SCHEDULED_LIVE_BROADCAST;else return c("LiveStatusType").WAS_LIVE_BROADCAST;return c("LiveStatusType").NOT_A_BROADCAST},convertRetentionValue:function p(q,r,s){var t=c("getOwnObjectValues")(r),u=t.length-1;if(q>=u)return Math.round(s);return Math.round(q*s/u)},downloadURL:function p(q){if(c("UserAgent").isBrowser("Firefox")||c("UserAgent").isBrowser("IE11"))c("goURI")(q);else{var r=c("DOM").create("a");r.download="";r.href=q;r.click()}},_fetchVideoAssetsPosts:function p(q,r){var s=c("XVideoAssetsPostsController").getURIBuilder().setIntVector("video_asset_ids",q).getURI();s=c("ActorURI").create(s,r);return new(c("Promise"))(function(t,u){c("AsyncDialog").send(new(c("AsyncRequest"))().setURI(s).setHandler(function(v){return t(v.payload)}).setErrorHandler(u))})},_fetchVideoAssetsPostsFromPosts:function p(q,r){var s=c("XVideoAssetsPostsController").getURIBuilder().setIntVector("video_post_ids",q).getURI();s=c("ActorURI").create(s,r);return new(c("Promise"))(function(t,u){c("AsyncDialog").send(new(c("AsyncRequest"))().setURI(s).setHandler(function(v){return t(v.payload)}).setErrorHandler(u))})},getSelectedVideosAndCrossPostsCount:function p(q,r,s){__p&&__p();var t=0,u=0,v=0,w=0;r.forEach(function(x){__p&&__p();var y=x.reusedPostsCount,z=x.reusedPublishedPostsCount,A=x.posts.length,B=s.filter(function(C){return C.videoAssetID===x.videoAssetID}).length;if(B===A){if(q===x.videoAssetOwnerID){u+=y;v+=z;if(x.isShared)w++}t++}});return{selectedVideosCrosspostsCount:u,selectedVideosPublishedCrosspostsCount:v,selectedVideosCount:t,selectedOwnedVideosSharedCount:w}},openVideoInsights:function p(q,r){var s=q.id;if(!q.is_video_asset&&q.video_asset_id&&q.video_asset_id!=0)s=q.video_asset_id;this.openVideoAssetInsightsDialog(s,r.page_id)},deleteVideoAssets:function p(q,r,s,t){return this._fetchVideoAssetsPosts(q,r).then(function(u){return this._confirmDeleteVideoAssets(u,r,undefined,s,t)}.bind(this))},_performVideoActionOnPosts:function p(q,r){var s=c("ReactDOM").render(c("React").createElement(o,null),c("DOM").create("div"));s.show();var t=[];return c("Promise").all(q.map(function(u){return r(u).then(function(){return t.push(u)},function(){})})).then(function(){s.hide();return t})},_getPostsFromVideoAssetsByID:function p(q,r){var s=[];q.forEach(function(t){t.posts.forEach(function(u){if(r.indexOf(u.id)>=0)s.push(u)})});return s},deleteVideoPosts:function p(q,r,s,t){return this._fetchVideoAssetsPostsFromPosts(q,r).then(function(u){var v=this._getPostsFromVideoAssetsByID(u,q);return this._confirmDeleteVideoAssets(u,r,v,s,t)}.bind(this))},_confirmDeleteVideoAssets:function p(q,r,s,t,u){return new(c("Promise"))(function(v,w){c("ReactDOM").render(c("React").createElement(c("VideoAssetDeleteConfirmationDialog.react"),{pageID:r,organicPostsByAsset:q,selectedOrganicPosts:s,onExpire:function(x){this._confirmExpireVideoAssets(q,r,x,t).done();v([])}.bind(this),onDelete:function(x){this._deleteVideoPosts(x,q,r,t).done(v,w)}.bind(this),canDeleteCrosspostedVideos:n._canDeleteCrosspostedVideos,showCrosspostingHelpCenter:u,canExpireVideos:this._filterNonExpiredPublishedPosts(q).length!==0}),c("DOM").create("div"))}.bind(this))},_deleteVideoPosts:function p(q,r,s,t){new(c("VideoAssetWaterfallTypedLogger"))().setEvent(c("VideoAssetWaterfallEvent").UI_POST_DELETE_SELECTION).setPageID(s).setIsBulk(1).setVideoAssetIds(r.map(function(u){return u.videoAssetID})).setVideoIds(q.map(function(u){return u.id})).setSource(t).log();return this._performVideoActionOnPosts(q,this._deleteVideoPost.bind(this,t),s)},_deleteVideoPost:function p(q,r,s){return new(c("Promise"))(function(t,u){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_start").setPageID(s).setVideoID(r.id).setSource(q).log();new(c("AsyncRequest"))().setURI("/ajax/video/actions/delete/").setData({fbid:r.id,redirect:false}).setHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_finish").setPageID(s).setVideoID(r.id).setSource(q).log();t()}).setErrorHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_failure").setPageID(s).setVideoID(r.id).setSource(q).log();u()}).send()})},_filterNonExpiredPublishedPosts:function p(q){return q.map(function(r){return babelHelpers["extends"]({},r,{posts:r.posts.filter(function(s){return s.isPublished&&!s.isExpired})})}).filter(function(r){return r.posts.length>0})},publishVideoAssets:function p(q,r,s){return this._fetchVideoAssetsPosts(q,r).then(function(t){return this._confirmPublishVideoAssets(t,r,undefined,s)}.bind(this))},_confirmPublishVideoAssets:function p(q,r,s,t){return new(c("Promise"))(function(u,v){var w=this._filterNonExpiredUnpublishedOrganicPosts(q);if(w.length===0)c("ReactDOM").render(c("React").createElement(c("XUIDialog.react"),{width:350,shown:true,layerHideOnBlur:false},c("React").createElement(c("XUIDialogTitle.react"),null,j._("No posts to publish")),c("React").createElement(c("XUIDialogBody.react"),null,j._("All posts using these videos are already published.")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("OK"),action:"cancel",use:"confirm",onClick:function x(){return u()}}))),c("DOM").create("div"));else c("ReactDOM").render(c("React").createElement(c("VideoAssetPublishConfirmationDialog.react"),{organicPostsByAsset:w,selectedOrganicPosts:s,onPublish:function(x){this._publishVideoPosts(x,r,t).done(u,v)}.bind(this)}),c("DOM").create("div"))}.bind(this))},_publishVideoPosts:function p(q,r,s){return this._performVideoActionOnPosts(q,this._publishVideoPost.bind(this,r,s))},_publishVideoPost:function p(q,r,s){return new(c("Promise"))(function(t,u){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_start").setPageID(q).setVideoID(s.id).setSource(r).log();var v=c("XVideoPostPublishController").getURIBuilder().setInt("video_id",s.id).setEnum("source",r).getURI();v=c("ActorURI").create(v,q);new(c("AsyncRequest"))().setURI(v).setHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_finish").setPageID(q).setVideoID(s.id).setSource(r).log();t()}).setErrorHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_failure").setPageID(q).setVideoID(s.id).setSource(r).log();u()}).send()})},_filterNonExpiredUnpublishedOrganicPosts:function p(q){return q.map(function(r){return babelHelpers["extends"]({},r,{posts:r.posts.filter(function(s){return!s.isPublished&&!s.isExpired})})}).filter(function(r){return r.posts.length>0})},expireVideoAssets:function p(q,r,s){return this._fetchVideoAssetsPosts(q,r).then(function(t){return this._confirmExpireVideoAssets(t,r,undefined,s)}.bind(this))},expireVideoPosts:function p(q,r,s){return this._fetchVideoAssetsPostsFromPosts(q,r).then(function(t){var u=this._getPostsFromVideoAssetsByID(t,q);return this._confirmExpireVideoAssets(t,r,u,s)}.bind(this))},_confirmExpireVideoAssets:function p(q,r,s,t){__p&&__p();return new(c("Promise"))(function(u,v){__p&&__p();var w=this._filterNonExpiredPublishedPosts(q);if(w.length===0)c("ReactDOM").render(c("React").createElement(c("XUIDialog.react"),{width:350,shown:true,layerHideOnBlur:false},c("React").createElement(c("XUIDialogTitle.react"),null,j._("No posts to expire")),c("React").createElement(c("XUIDialogBody.react"),null,j._("All posts using these videos are already expired.")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("OK"),action:"cancel",use:"confirm",onClick:function x(){return u()}}))),c("DOM").create("div"));else c("ReactDOM").render(c("React").createElement(c("VideoAssetExpireConfirmationDialog.react"),{pageID:r,organicPostsByAsset:w,selectedOrganicPosts:s,onExpire:function(x,y){c("Promise").all([this._expireVideoPosts(x,r,q,t),y?this._expireVideoAssetsCrosspostsAndRemoveSharing(w.filter(function(z){return z.videoAssetOwnerID===r}).map(function(z){return z.videoAssetID}),r,t):null]).then(function(z){var A=z[0],B=z[1];return A}).done(u,v)}.bind(this),canRemoveSharePermission:n._canRemoveSharePermissionOnExpire}),c("DOM").create("div"))}.bind(this))},_expireVideoAssetsCrosspostsAndRemoveSharing:function p(q,r,s){return c("Promise").all(q.map(function(t){return this._expireAllCrosspostsAndRemoveSharing(t,r,s)}.bind(this)))},_expireAllCrosspostsAndRemoveSharing:function p(q,r,s){return new(c("Promise"))(function(t,u){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_start").setPageID(r).setVideoAssetIDOverride(q).setSource(s).log();var v=c("XVideoAssetsExpireRemoveSharingController").getURIBuilder().setFBID("video_asset_id",q).setEnum("source",s).getURI();v=c("ActorURI").create(v,r);new(c("AsyncRequest"))().setURI(v).setHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_finish").setPageID(r).setVideoAssetIDOverride(q).setSource(s).log();t()}).setErrorHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_failure").setPageID(r).setVideoAssetIDOverride(q).setSource(s).log();u()}).send()})},_expireVideoPosts:function p(q,r,s,t){new(c("VideoAssetWaterfallTypedLogger"))().setEvent(c("VideoAssetWaterfallEvent").UI_POST_EXPIRE_SELECTION).setIsBulk(1).setVideoAssetIds(s.map(function(u){return u.videoAssetID})).setVideoIds(q.map(function(u){return u.id})).setSource(t).log();return this._performVideoActionOnPosts(q,this._expireVideoPost.bind(this,r,t))},_expireVideoPost:function p(q,r,s){return new(c("Promise"))(function(t,u){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_start").setPageID(q).setVideoID(s.id).setSource(r).log();var v=c("XVideoPostExpireController").getURIBuilder().setInt("video_id",s.id).setEnum("source",r).getURI();v=c("ActorURI").create(v,q);new(c("AsyncRequest"))().setURI(v).setHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_finish").setPageID(q).setVideoID(s.id).setSource(r).log();t()}).setErrorHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_failure").setPageID(q).setVideoID(s.id).setSource(r).log();u()}).send()})},scheduleVideoAssets:function p(q,r,s){return this._fetchVideoAssetsPosts(q,r.page_id).then(function(t){return this._confirmScheduleVideoAssets(t,r,undefined,s)}.bind(this))},_confirmScheduleVideoAssets:function p(q,r,s,t){return new(c("Promise"))(function(u,v){var w=this._filterNonExpiredUnpublishedOrganicPosts(q);if(w.length===0)c("ReactDOM").render(c("React").createElement(c("XUIDialog.react"),{width:350,shown:true,layerHideOnBlur:false},c("React").createElement(c("XUIDialogTitle.react"),null,j._("No posts to schedule")),c("React").createElement(c("XUIDialogBody.react"),null,j._("All posts using these videos are already published.")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("OK"),action:"cancel",use:"confirm",onClick:function x(){return u()}}))),c("DOM").create("div"));else c("ReactDOM").render(c("React").createElement(c("VideoAssetSelectorDialog.react"),{showPostStateIndicator:true,videoAssetData:w[0],onSelect:function(x){this._scheduleVideoPostsDialog(x,r.page_id,t).done(u,v)}.bind(this)}),c("DOM").create("div"))}.bind(this))},_scheduleVideoPostsDialog:function p(q,r,s){__p&&__p();var t=q[0];return new(c("Promise"))(function(u,v){var w=null,x=false;if(t.schedulePublishTime){w=new Date(t.schedulePublishTime*m);x=true}var y=c("ReactDOM").render(c("React").createElement(c("PostScheduleDialog.react"),{timezoneStr:c("PageContentTabConfig").timezone_str,initialDate:w,isReschedule:x,onSubmit:function(z){this._performVideoActionOnPosts(q,this._scheduleVideoPost.bind(this,r,s,t,Math.floor(z.getTime()/m))).done(u,v)}.bind(this)}),c("DOM").create("div"));y.show()}.bind(this))},_scheduleVideoPost:function p(q,r,s,t){__p&&__p();return new(c("Promise"))(function(u,v){__p&&__p();new(c("VideoAssetWaterfallTypedLogger"))().setEvent(c("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_START).setPageID(q).setVideoID(s.id).setSource(r).log();var w=c("XVideoPostScheduleController").getURIBuilder().setInt("video_id",s.id).setEnum("source",r).setInt("schedule_publish_time",t).getURI();w=c("ActorURI").create(w,q);new(c("AsyncRequest"))().setURI(w).setHandler(function(x){var y=x.payload.error;if(!y){new(c("VideoAssetWaterfallTypedLogger"))().setEvent(c("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FINISH).setPageID(q).setVideoID(s.id).setSource(r).log();u()}else{new(c("VideoAssetWaterfallTypedLogger"))().setEvent(c("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FAILURE).setPageID(q).setVideoID(s.id).setSource(r).log();v()}}).setErrorHandler(function(){new(c("VideoAssetWaterfallTypedLogger"))().setEvent(c("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FAILURE).setPageID(q).setVideoID(s.id).setSource(r).log();v()}).send()})},_canDeleteCrosspostedVideos:false,setCanDeleteCrosspostedVideos:function p(q){this._canDeleteCrosspostedVideos=q},_canRemoveSharePermissionOnExpire:false,setCanRemoveSharePermissionOnExpire:function p(q){this._canRemoveSharePermissionOnExpire=q},openVideoAssetInsightsDialog:function p(q,r){var s=c("XVideoAssetInsightsDialogController").getURIBuilder().setFBID("video_asset_id",q).setFBID("page_id",r).setEnum("source",c("VideoAssetInsightsSource").VIDEO_LIBRARY).setEnum("context",c("VideoAssetContext").VIDEO_ASSET).getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(s))},_openEditDialog:function p(q,r,s,t){var u=c("ActorURI").create(c("XVideoEditDialogController").getURIBuilder().setInt("video_id",q).setString("post_id",r).setEnum("source",t).getURI(),s);c("AsyncDialog").send(new(c("AsyncRequest"))(u))},renderMonitoringStatusIndicator:function p(q,r){if(q==="ERROR")return c("React").createElement(c("Image.react"),{className:c("joinClasses")(r,"_5u-h"),"data-tooltip-content":j._("Not monitored"),"data-hover":"tooltip","data-tooltip-position":"right",src:h("117757")});return null},renderCopyrightInConflictIndicator:function p(q,r){return c("React").createElement(c("Image.react"),{className:c("joinClasses")(q,"_5u-h"),"data-tooltip-content":r,"data-hover":"tooltip","data-tooltip-position":"right",src:h("132175")})},isValidContainerType:function p(q){return Object.keys(c("VideoContainerTypeInVideoLibrary")).some(function(r){return c("VideoContainerType")[r]===c("VideoContainerType")[q]})},_getVideoAssetDefaultFields:function p(q){__p&&__p();var r=[c("GenericVideoAssetGraphFields").ID,c("GenericVideoAssetGraphFields").DESCRIPTION,c("GenericVideoAssetGraphFields").CAN_VIEWER_EDIT,c("GenericVideoAssetGraphFields").CREATED_TIME,c("GenericVideoAssetGraphFields").IS_CROSSPOSTING_ELIGIBLE,c("GenericVideoAssetGraphFields").IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE,c("GenericVideoAssetGraphFields").IS_CROSSPOSTING_WITHIN_BM_ENABLED,c("GenericVideoAssetGraphFields").IS_FEATURED,c("GenericVideoAssetGraphFields").IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE,c("GenericVideoAssetGraphFields").IS_LIVE_PREMIERE,c("GenericVideoAssetGraphFields").THUMBNAIL,c("GenericVideoAssetGraphFields").IS_VIDEO_ASSET,c("GenericVideoAssetGraphFields").POSTS_COUNT,c("GenericVideoAssetGraphFields").POSTS_STATUS,c("GenericVideoAssetGraphFields").VIEWS,c("GenericVideoAssetGraphFields").TITLE,c("GenericVideoAssetGraphFields").CREATOR,c("GenericVideoAssetGraphFields").POSTS_IDS,c("GenericVideoAssetGraphFields").LAST_ADDED_TIME,c("GenericVideoAssetGraphFields").NO_STORY,c("GenericVideoAssetGraphFields").SECRET,c("GenericVideoAssetGraphFields").EMBEDDABLE,c("GenericVideoAssetGraphFields").SOCIAL_ACTIONS,c("GenericVideoAssetGraphFields").PUBLISHED,c("GenericVideoAssetGraphFields").EXPIRATION,c("GenericVideoAssetGraphFields").FEED_TYPE,c("GenericVideoAssetGraphFields").PERMALINK_URL,c("GenericVideoAssetGraphFields").SCHEDULED_PUBLISH_TIME,c("GenericVideoAssetGraphFields").LIVE_STATUS,c("GenericVideoAssetGraphFields").STATUS,c("GenericVideoAssetGraphFields").THUMBNAIL_WHILE_ENCODING,c("GenericVideoAssetGraphFields").LATEST_CREATOR,c("GenericVideoAssetGraphFields").LATEST_OWNED_TITLE,c("GenericVideoAssetGraphFields").LATEST_OWNED_DESCRIPTION,c("GenericVideoAssetGraphFields").BROADCAST_PLANNED_START_TIME,c("GenericVideoAssetGraphFields").LENGTH,c("GenericVideoAssetGraphFields").OWNER_ID];if(q.can_edit_live_broadcast)r.push(c("GenericVideoAssetGraphFields").BROADCAST_ID,c("GenericVideoAssetGraphFields").STREAM_URL,c("GenericVideoAssetGraphFields").SECURE_STREAM_URL);if(q.is_copyright_management_enabled)r.push(c("GenericVideoAssetGraphFields").COPYRIGHT_MONITORING_STATUS);if(q.show_video_library_download_action)r.push(c("GenericVideoAssetGraphFields").DOWNLOAD_SD_URL,c("GenericVideoAssetGraphFields").DOWNLOAD_HD_URL);if(q.is_video_show_page)r.push(c("GenericVideoAssetGraphFields").IS_EPISODE,c("GenericVideoAssetGraphFields").SEASON);if(q.can_insert_ad_breaks&&q.can_see_demonetization_icon)r.push(c("GenericVideoAssetGraphFields").MONETIZATION_STATUS);return r},_getVideoDefaultFields:function p(q){__p&&__p();var r=[c("VideoGraphFields").ID,c("VideoGraphFields").DESCRIPTION,c("VideoGraphFields").CREATED_TIME,c("VideoGraphFields").PICTURE,c("VideoGraphFields").UPDATED_TIME,c("VideoGraphFields").VIEWS,c("VideoGraphFields").EMBEDDABLE,c("VideoGraphFields").FEED_TYPE,c("VideoGraphFields").TITLE,c("VideoGraphFields").ADMIN_CREATOR,c("VideoGraphFields").PERMALINK_URL,c("VideoGraphFields").SECRET,c("VideoGraphFields").SOCIAL_ACTIONS,c("VideoGraphFields").NO_STORY,c("VideoGraphFields").EXPIRATION,c("VideoGraphFields").COPYRIGHTED,c("VideoGraphFields").PUBLISHED,c("VideoGraphFields").SCHEDULED_PUBLISH_TIME,c("VideoGraphFields").CONTAINER_TYPE,c("VideoGraphFields").LIVE_STATUS,c("VideoGraphFields").VIDEO_ASSET_ID,c("VideoGraphFields").STATUS,c("VideoGraphFields").THUMBNAIL_WHILE_ENCODING,c("VideoGraphFields").IS_CROSSPOST_VIDEO,c("VideoGraphFields").IS_CROSSPOSTING_ELIGIBLE,c("VideoGraphFields").IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE,c("VideoGraphFields").IS_CROSSPOSTING_WITHIN_BM_ENABLED,c("VideoGraphFields").IS_FEATURED,c("VideoGraphFields").IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE,c("VideoGraphFields").IS_LIVE_PREMIERE,c("VideoGraphFields").BROADCAST_PLANNED_START_TIME,c("VideoGraphFields").LENGTH];if(q.can_edit_live_broadcast)r.push(c("VideoGraphFields").BROADCAST_ID,c("VideoGraphFields").STREAM_URL,c("VideoGraphFields").SECURE_STREAM_URL);if(q.is_copyright_management_enabled)r.push(c("VideoGraphFields").COPYRIGHT_MONITORING_STATUS);if(q.is_video_show_page)r.push(c("GenericVideoAssetGraphFields").IS_EPISODE,c("VideoGraphFields").SEASON);if(q.can_insert_ad_breaks&&q.can_see_demonetization_icon)r.push(c("VideoGraphFields").MONETIZATION_STATUS);return r},getVideoGameNameSelectorPlaceholder:function p(){return j._("Tag a game (e.g. PUBG)")}};k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.state={shown:false}}o.prototype.show=function(){this.setState({shown:true})};o.prototype.hide=function(){this.setState({shown:false})};o.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{width:300,shown:this.state.shown,layerHideOnBlur:false},c("React").createElement(c("XUIDialogBody.react"),{className:"_5xp9"},c("React").createElement(c("XUISpinner.react"),{background:"light",className:"_5xpe",size:"large"})))};f.exports=n}),null);
__d("MentionsInputUtility",["UnicodeUtils","createEditorStateWithEntities","sanitizeDraftText"],(function a(b,c,d,e,f,g){__p&&__p();var h=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),i=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),j=function j(m){var n=c("sanitizeDraftText")(m),o=n.replace(i,"@[$1:$3]"),p=[],q;while(q=h.exec(o)){var r=q[2].replace(/\\:/g,":").replace(/\\]/g,"]").replace(/\n/g,""),s={uid:q[1],text:r,offset:q.index,length:r.length,weakreference:false,entity:{uid:q[1],weakreference:false}};p.push(s);o=o.substr(0,s.offset)+s.text+o.substr(s.offset+q[0].length);h.lastIndex=s.offset+s.length}return{text:o,ranges:p}};function k(m,n){__p&&__p();var o=0,p=0;n.forEach(function(q){__p&&__p();var r=void 0,s=void 0;r=q.offset;s=m.slice(o,r);p+=s.length-c("UnicodeUtils").strlen(s);o=r;var t=r-p;r=q.offset+q.length;s=m.slice(o,r);p+=s.length-c("UnicodeUtils").strlen(s);o=r;var u=r-p;q.offset=t;q.length=u-t})}function l(m,n){var o=j(m),p=o.text,q=o.ranges;k(p,q);return c("createEditorStateWithEntities")({text:p,ranges:q,decorator:n,addEntityToContentStateFn:function r(s,t){return t.createEntity("MENTION","IMMUTABLE",{id:s.uid,isWeak:s.weakreference})},splitIntoBlocks:true,allowUndo:true})}f.exports={createFromTextWithMentions:l}}),null);
__d("LiveVideoBroadcastDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("XLiveVideoSuggestedInviteFriendsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live_video/invite_friends_suggestion/",{})}),null);
__d("LiveVideoBroadcastActions",["AsyncRequest","LiveVideoBroadcastDispatcher","XLiveVideoSuggestedInviteFriendsController"],(function a(b,c,d,e,f,g){__p&&__p();var h={initialize:function i(j){var k={type:"INITIALIZE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setUpdateRequestPending:function i(j){var k={type:"SET_UPDATE_REQUEST_PENDING",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setShowSaveChangesDialog:function i(j){var k={type:"SET_SHOW_SAVE_CHANGES_DIALOG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},updateCameraState:function i(j){var k={type:"UPDATE_CAMERA_STATE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},startLiveBroadcastRequest:function i(j){var k={type:"START_BROADCAST_REQUEST",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setScheduledLiveData:function i(j,k){var l={type:"SET_SCHEDULED_LIVE_DATA",isManualMode:j,scheduleStartTime:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},serverError:function i(j){var k={type:"SERVER_ERROR",details:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},startLiveCountdown:function i(){var j={type:"START_LIVE_COUNTDOWN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},startLiveBroadcastSuccess:function i(){var j={type:"START_BROADCAST_SUCCESS"};c("LiveVideoBroadcastDispatcher").dispatch(j)},finishBroadcastRequest:function i(){var j={type:"FINISH_BROADCAST_REQUEST"};c("LiveVideoBroadcastDispatcher").dispatch(j)},finishBroadcastSuccess:function i(){var j={type:"FINISH_BROADCAST_SUCCESS"};c("LiveVideoBroadcastDispatcher").dispatch(j)},cancelLiveCountdown:function i(){var j={type:"CANCEL_LIVE_COUNTDOWN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},updateCountdown:function i(j){var k={type:"UPDATE_COUNTDOWN",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},showReplay:function i(){var j={type:"SHOW_REPLAY"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setDialogLoading:function i(j){var k={type:"SET_DIALOG_LOADING",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},hideCommentPlaceholder:function i(){var j={type:"HIDE_COMMENT_PLACEHOLDER"};c("LiveVideoBroadcastDispatcher").dispatch(j)},getWebcamStreamUrlRequest:function i(j){var k={type:"GET_WEBCAM_STREAM_URL_REQUEST",config:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},getWebcamStreamUrlSuccess:function i(j){var k={type:"GET_WEBCAM_STREAM_URL_SUCCESS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},getScreenStreamUrlRequest:function i(j){var k={type:"GET_SCREEN_STREAM_URL_REQUEST",config:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},getScreenStreamUrlSuccess:function i(j){var k={type:"GET_SCREEN_STREAM_URL_SUCCESS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},actionButtonClick:function i(){var j={type:"ACTION_BUTTON_CLICK"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setReplayShouldUploadHigherQualityVideo:function i(j){var k={type:"SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorConnectionBroken:function i(){var j={type:"ERROR_CONNECTION_BROKEN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorConnectionFailed:function i(){var j={type:"ERROR_CONNECTION_FAILED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorRTCClientError:function i(){var j={type:"ERROR_RTC_CLIENT_ERROR"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorMediaValidation:function i(j,k){var l={type:"ERROR_MEDIA_VALIDATION",errorMessage:j.toString(),blockedFromGoingLive:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},errorMWSBadAudioOrVideoData:function i(){var j={type:"ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorTrackEnded:function i(){var j={type:"ERROR_TRACK_ENDED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},attemptReconnection:function i(){var j={type:"ATTEMPT_RECONNECTION"};c("LiveVideoBroadcastDispatcher").dispatch(j)},webRTCConnectionEstablished:function i(){var j={type:"WEBRTC_CONNECTION_ESTABLISHED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},iceConnectionStateChanged:function i(j){var k={type:"ICE_CONNECTION_STATE_CHANGED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorBroadcastCouldNotStart:function i(){var j={type:"ERROR_BROADCAST_COULD_NOT_START"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorBroadcastCouldNotStartAccepted:function i(){var j={type:"ACCEPT_ERROR_BROADCAST_COULD_NOT_START"};c("LiveVideoBroadcastDispatcher").dispatch(j)},deleteReplayVideo:function i(){var j={type:"DELETE_REPLAY_VIDEO"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorBroadcastPublishFail:function i(){var j={type:"ERROR_BROADCAST_PUBLISH_FAIL"};c("LiveVideoBroadcastDispatcher").dispatch(j)},handleNetworkOffline:function i(){var j={type:"NETWORK_OFFLINE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},handleNetworkOnline:function i(){var j={type:"NETWORK_ONLINE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},prepareThumbnailUri:function i(){var j={type:"PREPARE_THUMBNAIL_URI"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setThumbnailUri:function i(j){var k={type:"SET_THUMBNAIL_URI",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setCopyrightTriggered:function i(j){var k={type:"SET_COPYRIGHT_TRIGGERED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setCopyrightsViolationDialogState:function i(j){var k={type:"SET_COPYRIGHTS_VIOLATION_DIALOG_STATE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVodReady:function i(){var j={type:"SET_VOD_READY"};c("LiveVideoBroadcastDispatcher").dispatch(j)},handleCopyrightEvent:function i(j,k){var l={type:"HANDLE_COPYRIGHT_EVENT",value:j,broadcastID:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},setBroadcastEndedWithCopyrightViolation:function i(){var j={type:"SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION"};c("LiveVideoBroadcastDispatcher").dispatch(j)},finishCountdown:function i(){var j={type:"FINISH_COUNT_DOWN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setShowNUX:function i(j){var k={type:"SET_SHOW_NUX",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},requestUFI:function i(){var j={type:"REQUEST_UFI"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setUfiMarkup:function i(j){var k={type:"SET_UFI_MARKUP",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setDialog:function i(j){var k={type:"SET_DIALOG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setDialogContainerID:function i(j){var k={type:"SET_DIALOG_CONTAINER_ID",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setComposerConfig:function i(j){var k={type:"SET_COMPOSER_CONFIG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setUfiScrollArea:function i(j){var k={type:"SET_UFI_SCROLL_AREA",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInviteFriendsShown:function i(j){c("LiveVideoBroadcastDispatcher").dispatch({type:"SET_INVITE_FRIENDS_SHOWN",value:j})},setInviteFriendsQuery:function i(j){var k={type:"SET_INVITE_FRIENDS_QUERY",value:{inviteFriendsQueryString:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInviteFriendsSearchResults:function i(j){var k={type:"SET_INVITE_FRIENDS_RESULTS",value:{results:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInviteFriendsSuggestions:function i(j){var k={type:"SET_INVITE_FRIENDS_SUGGESTIONS",value:{results:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},fetchInviteFriendsSuggestions:function i(){var j=c("XLiveVideoSuggestedInviteFriendsController").getURIBuilder().getURI();new(c("AsyncRequest"))(j).send()},fetchInvitedFriends:function i(j){var k={type:"FETCH_INVITED_FRIENDS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInvitedFriends:function i(j){var k={type:"SET_INVITED_FRIENDS",value:{friendIds:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},inviteFriend:function i(j){var k={type:"INVITE_FRIEND",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},logWebRTCStats:function i(j){var k={type:"LOG_WEBRTC_STATS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setDescriptionExpanded:function i(j){var k={type:"SET_DESCRIPTION_EXPANDED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},cleanup:function i(){var j={type:"CLEANUP"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setDescription:function i(j){var k={type:"SET_DESCRIPTION",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setTagList:function i(j){var k={type:"SET_TAG_LIST",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setTarget:function i(j){var k={type:"SET_TARGET",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},clearBroadcastID:function i(){var j={type:"CLEAR_BROADCAST_ID"};c("LiveVideoBroadcastDispatcher").dispatch(j)},clearAPIBroadcastID:function i(){var j={type:"CLEAR_API_BROADCAST_ID"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setAttributionTags:function i(j){var k={type:"SET_ATTRIBUTION_TAGS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVideoTitle:function i(j){var k={type:"SET_VIDEO_TITLE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setContentTags:function i(j){var k={type:"SET_CONTENT_TAGS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setSelectedAttributionTag:function i(j){var k={type:"SET_SELECTED_ATTRIBUTION_TAG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setBroadcastID:function i(j){var k={type:"SET_BROADCAST_ID",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVideoID:function i(j){var k={type:"SET_VIDEO_ID",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setGame:function i(j){var k={type:"SET_GAME",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setGroups:function i(j){var k={type:"SET_GROUPS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVideoTJApp:function i(j){var k={type:"SET_VIDEO_TJ_APP",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorTimeOutWaitingForPublish:function i(j){var k={type:"ERROR_TIME_OUT_WAITING_FOR_PUBLISH",errorSource:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setPeopleTaggerSource:function i(j){var k={type:"SET_PEOPLE_TAGGER_SOURCE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setPrivacySelector:function i(j){var k={type:"SET_PRIVACY_SELECTOR",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},uiMounted:function i(){var j={type:"UI_MOUNTED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},readyStateEnded:function i(){var j={type:"READY_STATE_ENDED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},updateBroadcastUIConfig:function i(j){var k={type:"UPDATE_UI_CONFIG",values:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInputSource:function i(j){var k={type:"SET_INPUT_SOURCE",source:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},apiBroadcastCreated:function i(j,k,l,m,n,o,p,q){var r={type:"API_BROADCAST_CREATED",actorID:j,id:k,streamURL:l,secureStreamURL:m,videoID:n,targetID:o,apiEmbedHTML:p,attributionAppID:q};c("LiveVideoBroadcastDispatcher").dispatch(r)},apiBroadcastLivePreviewPlaying:function i(j){var k={type:"API_BROADCAST_LIVE_PREVIEW_PLAYING",livePreviewPlaying:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setAPIBroadcastPrivacySelector:function i(j){var k={type:"SET_API_BROADCAST_PRIVACY_SELECTOR",apiComposerPrivacySelector:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorCreatingBroadcast:function i(j){var k={type:"ERROR_CREATING_BROADCAST",additionalLoggingData:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},scheduledLiveSuccess:function i(j){var k={type:"SCHEDULED_LIVE_SUCCESS",shouldCloseDialog:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},prepareBroadcastForScheduledLive:function i(){var j={type:"PREPARE_BROADCAST_FOR_SCHEDULED_LIVE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},scheduledLiveRequest:function i(j,k,l,m,n,o,p){var q={type:"SCHEDULED_LIVE_REQUEST",actorID:j,broadcastID:k,plannedStartTime:l,customProfileImage:m,customProfileImageFocus:n,customAnnouncementThumbnail:o,enableManualMode:p};c("LiveVideoBroadcastDispatcher").dispatch(q)},scheduledLiveFail:function i(j){var k={type:"SCHEDULED_LIVE_FAIL",response:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setEpisodeData:function i(j){var k={type:"SET_EPISODE_DATA",episodeData:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setHideInputToggle:function i(j){var k={type:"SET_HIDE_INPUT_TOGGLE",hideInputToggle:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setBroadcastState:function i(j){var k={type:"SET_BROADCAST_STATE",broadcastState:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setStartTime:function i(j){var k={type:"SET_START_TIME",startTime:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setCrosspostToPage:function i(j,k){var l={type:"SET_SHOULD_CROSSPOST_TO_PAGE",pageId:j,shouldCrosspost:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},toggleCrosspostToShowParentPage:function i(){var j={type:"TOGGLE_CROSSPOST_TO_SHOW_PARENT_PAGE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setCrosspostToAllPages:function i(j){var k={type:"SET_SHOULD_CROSSPOST_TO_ALL_PAGES",shouldCrosspost:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},resortCrosspostConfigs:function i(){var j={type:"RESORT_CROSSPOST_CONFIGS"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setLiveCoverVideoEnabled:function i(j){var k={type:"SET_LIVE_COVER_VIDEO_ENABLED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setSelectedRHCTab:function i(j){var k={type:"SET_SELECTED_RHC_TAB",selectedTab:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setRewindEnabled:function i(j){var k={type:"SET_REWIND_ENABLED",enabled:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},updateMetadataConfig:function i(j){var k={type:"UPDATE_METADATA_CONFIG",config:j};c("LiveVideoBroadcastDispatcher").dispatch(k)}};f.exports=h}),null);
__d("CommercialBreakStartingIndicator.react",["cx","fbt","CircularProgressBar.react","CommercialBreakMobileEvent","CommercialBreakState","CSS","DateConsts","React","Style","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerUIComponentDrawer"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=300,m=300,n=31;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){"use strict";__p&&__p();k.constructor.call(this,p);this.$CommercialBreakStartingIndicator1=null;this.$CommercialBreakStartingIndicator2=null;this.$CommercialBreakStartingIndicator4=null;this.$CommercialBreakStartingIndicator12=null;this.$CommercialBreakStartingIndicator13=null;this.$CommercialBreakStartingIndicator15=false;this.state={percentComplete:-1};this.$CommercialBreakStartingIndicator11=false;this.$CommercialBreakStartingIndicator15=false;this.$CommercialBreakStartingIndicator3=new(c("SubscriptionsHandler"))();this.$CommercialBreakStartingIndicator6=this.props.controller.addListener("optionsChange",function(){return this.$CommercialBreakStartingIndicator16()}.bind(this));this.$CommercialBreakStartingIndicator16();this.$CommercialBreakStartingIndicator14=this.props.controller.registerDrawer(c("VideoPlayerUIComponentDrawer").priorities.AdBreakStartingIndicator,n)}o.prototype.$CommercialBreakStartingIndicator16=function(){"use strict";__p&&__p();if(!this.$CommercialBreakStartingIndicator1){var p=this.props.controller.getOption("VideoWithInstreamVideo","controller");this.$CommercialBreakStartingIndicator1=p&&p.getConfig()}if(!this.$CommercialBreakStartingIndicator5){var q=this.props.controller.getOption("VideoWithCommercialBreak","controller");this.$CommercialBreakStartingIndicator5=q&&q.addListener("commercialBreak/stateChange",function(r){return this.$CommercialBreakStartingIndicator17(r.state)}.bind(this))}if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator5)this.$CommercialBreakStartingIndicator6.remove()};o.prototype.$CommercialBreakStartingIndicator18=function(){"use strict";__p&&__p();clearInterval(this.$CommercialBreakStartingIndicator4);c("CSS").addClass(this.props.container,"_20dq");if(this.$CommercialBreakStartingIndicator10)c("CSS").removeClass(this.$CommercialBreakStartingIndicator10,"_3ee4");if(this.$CommercialBreakStartingIndicator9)c("CSS").removeClass(this.$CommercialBreakStartingIndicator9,"_3ee4");if(this.$CommercialBreakStartingIndicator7)c("CSS").removeClass(this.$CommercialBreakStartingIndicator7,"_3ee6");if(this.$CommercialBreakStartingIndicator7)c("CSS").removeClass(this.$CommercialBreakStartingIndicator7,"_3ee4");c("CSS").removeClass(this.props.container,"_1xn2");this.setState({percentComplete:-1});this.$CommercialBreakStartingIndicator11=false};o.prototype.$CommercialBreakStartingIndicator19=function(p){"use strict";var q=this.props.controller.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC,r=-1;if(q>p)clearInterval(this.$CommercialBreakStartingIndicator4);else if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.startingIndicatorMs&&q>p-this.$CommercialBreakStartingIndicator1.startingIndicatorMs)r=100-100*(p-q)/this.$CommercialBreakStartingIndicator1.startingIndicatorMs;this.setState({percentComplete:r})};o.prototype.$CommercialBreakStartingIndicator20=function(p){"use strict";__p&&__p();var q=this.props.controller.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC;if(q>p){if(!this.$CommercialBreakStartingIndicator15)this.$CommercialBreakStartingIndicator21();return}clearInterval(this.$CommercialBreakStartingIndicator4);if(!this.$CommercialBreakStartingIndicator1||!this.$CommercialBreakStartingIndicator1.startingIndicatorMs)return;this.$CommercialBreakStartingIndicator4=setInterval(function(){this.$CommercialBreakStartingIndicator19(p)}.bind(this),this.$CommercialBreakStartingIndicator1.startingIndicatorMs/100);this.$CommercialBreakStartingIndicator15=true};o.prototype.componentDidMount=function(){"use strict";this.$CommercialBreakStartingIndicator3.addSubscriptions(this.props.controller.addListener("commercialBreak/vodBreakStarting",function(p){this.$CommercialBreakStartingIndicator20(p)}.bind(this)),this.props.controller.addListener("seekRequested",this.$CommercialBreakStartingIndicator18.bind(this)));this.props.controller.registerOption("WatchAndScroll","hideOverlay",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this));this.props.controller.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this));this.props.controller.registerOption("VideoWithInstreamVideo","disableClickToPause",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this))};o.prototype.componentWillUnmount=function(){"use strict";this.$CommercialBreakStartingIndicator3.release();if(this.$CommercialBreakStartingIndicator5)this.$CommercialBreakStartingIndicator5.remove();this.props.controller.unregisterOption("WatchAndScroll","hideOverlay");this.props.controller.unregisterOption("VideoContextMenu","disablePauseMenuItem");this.props.controller.unregisterOption("VideoWithInstreamVideo","disableClickToPause")};o.prototype.UNSAFE_componentWillReceiveProps=function(p){"use strict";if(p.adsStopped)this.$CommercialBreakStartingIndicator21()};o.prototype.componentDidUpdate=function(){"use strict";if(this.$CommercialBreakStartingIndicator9&&this.$CommercialBreakStartingIndicator8)c("Style").set(this.$CommercialBreakStartingIndicator9,"width",this.$CommercialBreakStartingIndicator8.clientWidth+34+"px");if(!this.$CommercialBreakStartingIndicator11&&this.state.percentComplete>=0){c("CSS").addClass(this.props.container,"_1xn2");this.$CommercialBreakStartingIndicator11=true;this.$CommercialBreakStartingIndicator14.reserve()}};o.prototype.$CommercialBreakStartingIndicator17=function(p){"use strict";switch(p){case c("CommercialBreakState").ENTERING_TRANSITION:this.$CommercialBreakStartingIndicator22();break;case c("CommercialBreakState").INIT:case c("CommercialBreakState").PLAY_AD:this.$CommercialBreakStartingIndicator21();break}};o.prototype.$CommercialBreakStartingIndicator22=function(){"use strict";__p&&__p();clearInterval(this.$CommercialBreakStartingIndicator4);var p=this.$CommercialBreakStartingIndicator1;if(!p||!p.beginningNonLiveTransitionTimeMs)return;var q=p.beginningNonLiveTransitionTimeMs-l;if(q<l)return;this.$CommercialBreakStartingIndicator12=setTimeout(function(){clearTimeout(this.$CommercialBreakStartingIndicator12);if(this.$CommercialBreakStartingIndicator9)c("CSS").addClass(this.$CommercialBreakStartingIndicator9,"_3ee4")}.bind(this),m);this.$CommercialBreakStartingIndicator13=setTimeout(function(){clearTimeout(this.$CommercialBreakStartingIndicator13);if(this.$CommercialBreakStartingIndicator7)c("CSS").addClass(this.$CommercialBreakStartingIndicator7,"_3ee4")}.bind(this),q);if(this.$CommercialBreakStartingIndicator10)c("CSS").addClass(this.$CommercialBreakStartingIndicator10,"_3ee4");if(this.$CommercialBreakStartingIndicator7)c("CSS").addClass(this.$CommercialBreakStartingIndicator7,"_3ee6")};o.prototype.$CommercialBreakStartingIndicator21=function(){"use strict";if(this.$CommercialBreakStartingIndicator2){this.$CommercialBreakStartingIndicator2.release();this.$CommercialBreakStartingIndicator2=null}this.$CommercialBreakStartingIndicator18();this.$CommercialBreakStartingIndicator14.release();this.$CommercialBreakStartingIndicator15=false};o.prototype.$CommercialBreakStartingIndicator23=function(){"use strict";__p&&__p();if(!this.$CommercialBreakStartingIndicator2){this.$CommercialBreakStartingIndicator2=this.props.controller.getOption("VideoControls","acquireForceHideLock");this.props.controller.emit("adBreakIndicatorShowing");var p=this.props.controller.getOption("VideoWithInstreamVideo","controller");if(p){p.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STARTING_INDICATOR);this.props.controller.logEvent(c("VideoPlayerLoggerEvent").AD_BREAK_STARTING_INDICATOR,{instream_video_ad_break_index:p.getCurrentInstreamVideoAdBreakIndex(),instream_video_ad_break_video_id:p.getCurrentInstreamVideoAdBreakVideoID()})}}};o.prototype.$CommercialBreakStartingIndicator24=function(){"use strict";if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.vodPreTransitionText)return this.$CommercialBreakStartingIndicator1.vodPreTransitionText;return i._("Ad is starting soon")};o.prototype.$CommercialBreakStartingIndicator25=function(){"use strict";if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.vodTransitionText)return this.$CommercialBreakStartingIndicator1.vodTransitionText;return i._("Video will continue after the ad")};o.prototype.getControlsLock=function(){"use strict";return this.$CommercialBreakStartingIndicator2};o.prototype.UNSAFE_componentWillUpdate=function(p,q){"use strict";if(q.percentComplete>=0)this.$CommercialBreakStartingIndicator23()};o.prototype.render=function(){"use strict";if(this.$CommercialBreakStartingIndicator2)c("CSS").removeClass(this.props.container,"_20dq");return c("React").createElement("div",{className:"_3ee7"},c("React").createElement("div",{className:"_1xne",ref:function(p){this.$CommercialBreakStartingIndicator9=p}.bind(this)}),c("React").createElement("div",{className:"_3ee9",ref:function(p){this.$CommercialBreakStartingIndicator10=p}.bind(this)},c("React").createElement("div",{className:"_20ds"},c("React").createElement(c("CircularProgressBar.react"),{percentComplete:this.state.percentComplete})),c("React").createElement("div",{className:"_4zpn",ref:function(p){this.$CommercialBreakStartingIndicator8=p}.bind(this)},this.$CommercialBreakStartingIndicator24())),c("React").createElement("div",{className:"_3eea",ref:function(p){this.$CommercialBreakStartingIndicator7=p}.bind(this)},this.$CommercialBreakStartingIndicator25()))};f.exports=o}),null);
__d("InstreamVideoAdsController",["CommercialBreakMobileEvent","DataAttributeUtils","DateConsts","DOMQuery","MarauderLogger","NonBlockingIFrame","URI","VideoPlayerStates","ViewableImpressionConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;function i(){"use strict";this.$InstreamVideoAdsController1=new Map()}i.prototype.$InstreamVideoAdsController2=function(j){"use strict";var k=[];this.$InstreamVideoAdsController1.forEach(function(l,m){if(!m.isState(c("VideoPlayerStates").DESTROYED)&&c("DOMQuery").contains(j,m.getRootNode()))k.push(m)});if(k.length===0)return null;return k[0]};i.prototype.$InstreamVideoAdsController3=function(j,k){"use strict";if(this.$InstreamVideoAdsController1.has(j))return;this.$InstreamVideoAdsController1.set(j,k)};i.registerVideoController=function(j,k){"use strict";if(h===null)h=new i();h.$InstreamVideoAdsController3(j,k);c("MarauderLogger").log(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_REGISTER_VIDEO,"commercial_break",{commercial_break_ad_client_token:j.getAdClientToken()});var l=h;j.once("beginPlayback",function(){l.$InstreamVideoAdsController4(j)})};i.prototype.$InstreamVideoAdsController4=function(j){"use strict";var k=this.$InstreamVideoAdsController1.get(j);if(c("DOMQuery").contains(k,j.getRootNode())){var l=c("DataAttributeUtils").getDataAttribute(k,"data-xt"),m=Math.floor(Date.now()/c("DateConsts").MS_PER_SEC),n={xt:l,isv:1,cts:m};c("NonBlockingIFrame").loadIFrame(new(c("URI"))(c("ViewableImpressionConfig").impressionURL).addQueryData(n).toString())}};i.findVideoControllerForStory=function(j){"use strict";if(h===null)return null;return h.$InstreamVideoAdsController2(j)};f.exports=i}),null);
__d("CommercialBreakVideoAdOverlay",["cx","Arbiter","Bootloader","CommercialBreakMobileEvent","CommercialBreakNoAdReason","CommercialBreakState","CSS","DOM","DOMDimensions","Event","InstreamVideoAdsController","InstreamVideoAdType","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","getFullScreenElement","gkx"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this.$CommercialBreakVideoAdOverlay7=j.root;this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay4=null;this.$CommercialBreakVideoAdOverlay10=false;this.$CommercialBreakVideoAdOverlay11=false;this.$CommercialBreakVideoAdOverlay12=0;this.$CommercialBreakVideoAdOverlay14=false}i.prototype.enable=function(j){"use strict";this.$CommercialBreakVideoAdOverlay1=j;this.$CommercialBreakVideoAdOverlay6=j.addListener("optionsChange",function(){return this.$CommercialBreakVideoAdOverlay15()}.bind(this));this.$CommercialBreakVideoAdOverlay15()};i.prototype.disable=function(){"use strict";this.$CommercialBreakVideoAdOverlay6.remove()};i.prototype.stopAdWithoutTransition=function(){"use strict";this.$CommercialBreakVideoAdOverlay16();if(this.$CommercialBreakVideoAdOverlay3)this.$CommercialBreakVideoAdOverlay3.reset()};i.prototype.$CommercialBreakVideoAdOverlay15=function(){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay2=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithInstreamVideo","controller");if(!this.$CommercialBreakVideoAdOverlay2)return;this.$CommercialBreakVideoAdOverlay3=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithCommercialBreak","controller");if(!this.$CommercialBreakVideoAdOverlay3)return;this.$CommercialBreakVideoAdOverlay6.remove();this.$CommercialBreakVideoAdOverlay8=this.$CommercialBreakVideoAdOverlay2.getConfig();this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/vodBreakStarting",function(){this.$CommercialBreakVideoAdOverlay17()}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/videoAdStoryFetched",function(j,k,l,m,n){if(j){c("DOM").setContent(this.$CommercialBreakVideoAdOverlay7,j);this.$CommercialBreakVideoAdOverlay10=true;this.$CommercialBreakVideoAdOverlay11=!k;this.$CommercialBreakVideoAdOverlay12=l;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(m);this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakClientToken(n)}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/stateChange",function(j){__p&&__p();var k=j.state;switch(k){case c("CommercialBreakState").AD_REQUEST_SENT:case c("CommercialBreakState").ENTERING_TRANSITION:var l=this.$CommercialBreakVideoAdOverlay18();if(!!l.height&&!!l.width)this.$CommercialBreakVideoAdOverlay13=l;break;case c("CommercialBreakState").PLAY_AD:this.$CommercialBreakVideoAdOverlay19();break;case c("CommercialBreakState").INIT:this.$CommercialBreakVideoAdOverlay16();break;case c("CommercialBreakState").LEAVING_TRANSITION:if(this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay16();break}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/inTransition",function(j){return this.$CommercialBreakVideoAdOverlay20(j.shouldShowAd)}.bind(this));this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/CTAClicked",this.$CommercialBreakVideoAdOverlay21.bind(this))};i.prototype.$CommercialBreakVideoAdOverlay21=function(){"use strict";this.$CommercialBreakVideoAdOverlay14=true};i.prototype.$CommercialBreakVideoAdOverlay22=function(j){__p&&__p();var k;"use strict";j.setLogEntryPropertyGetters((k={},k[c("VideoPlayerLoggerEventField").HOST_VIDEO_ID]=this.$CommercialBreakVideoAdOverlay8.hostVideoID,k[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$CommercialBreakVideoAdOverlay12,k));j.addListener("stateChange",function(){if(!this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay23();else if(this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").FINISHED))this.$CommercialBreakVideoAdOverlay23()}.bind(this));j.addListener("playRequested",function(l){if(l===c("VideoPlayerReason").USER)this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PLAY_AD)}.bind(this));j.addListener("pauseRequested",function(l){this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PAUSE_AD,{video_player_reason:l})}.bind(this));this.$CommercialBreakVideoAdOverlay2.registerInstreamVideo(j);this.$CommercialBreakVideoAdOverlay24();this.$CommercialBreakVideoAdOverlay25();this.$CommercialBreakVideoAdOverlay26()};i.prototype.$CommercialBreakVideoAdOverlay27=function(){"use strict";__p&&__p();var j=null,k=this.$CommercialBreakVideoAdOverlay2.getCurrentInstreamVideoAdType();switch(k){case c("InstreamVideoAdType").LIVE:if(this.$CommercialBreakVideoAdOverlay3.getIsDuplicateLiveVideo())j=c("CommercialBreakNoAdReason").DUPLICATE_VIDEO;else if(!this.$CommercialBreakVideoAdOverlay10)j=c("CommercialBreakNoAdReason").WAIT_FOR_FAILED;else if(!this.$CommercialBreakVideoAdOverlay11)j=c("CommercialBreakNoAdReason").NO_VIDEO_AD;else j=c("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STATIC_COUNTDOWN,{commercial_break_no_ad_reason:j});break;case c("InstreamVideoAdType").VOD:case c("InstreamVideoAdType").NONLIVE:j=c("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,{commercial_break_no_ad_reason:j});this.$CommercialBreakVideoAdOverlay3.reset();break}};i.prototype.$CommercialBreakVideoAdOverlay23=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay16();this.$CommercialBreakVideoAdOverlay3.leaveAdBreak()};i.prototype.$CommercialBreakVideoAdOverlay19=function(){"use strict";this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay17();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay22(this.$CommercialBreakVideoAdOverlay4);else this.$CommercialBreakVideoAdOverlay27()};i.prototype.$CommercialBreakVideoAdOverlay17=function(){"use strict";this.$CommercialBreakVideoAdOverlay4=c("InstreamVideoAdsController").findVideoControllerForStory(this.$CommercialBreakVideoAdOverlay7);if(this.$CommercialBreakVideoAdOverlay4&&!this.$CommercialBreakVideoAdOverlay4.hasOption("CommercialBreakVideoAdOverlay","videoController"))this.$CommercialBreakVideoAdOverlay4.registerOption("CommercialBreakVideoAdOverlay","videoController",function(){return this.$CommercialBreakVideoAdOverlay1}.bind(this));if(this.$CommercialBreakVideoAdOverlay4&&!this.$CommercialBreakVideoAdOverlay4.hasOption("VideoContextMenu","disablePauseMenuItem"))this.$CommercialBreakVideoAdOverlay4.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$CommercialBreakVideoAdOverlay8.isLive||!this.$CommercialBreakVideoAdOverlay8.canPauseAdBreak}.bind(this))};i.prototype.$CommercialBreakVideoAdOverlay18=function(){"use strict";var j=c("DOMDimensions").getElementDimensions(this.$CommercialBreakVideoAdOverlay1.getRootNode());if(this.$CommercialBreakVideoAdOverlay1.isFullscreen())j=c("DOMDimensions").getElementDimensions(c("getFullScreenElement")());return j};i.prototype.$CommercialBreakVideoAdOverlay24=function(){"use strict";var j=this.$CommercialBreakVideoAdOverlay4;if(!j)return;var k=this.$CommercialBreakVideoAdOverlay18();if((!k.width||!k.height)&&this.$CommercialBreakVideoAdOverlay13)k=this.$CommercialBreakVideoAdOverlay13;j.setDimensions(k.width,k.height)};i.prototype.$CommercialBreakVideoAdOverlay25=function(){"use strict";var j=this.$CommercialBreakVideoAdOverlay4;if(!j)return;var k=this.$CommercialBreakVideoAdOverlay1.getSource();if(k)j.updateSource(k)};i.prototype.$CommercialBreakVideoAdOverlay28=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay2.shouldPlayInstreamAd()){c("CSS").removeClass(this.$CommercialBreakVideoAdOverlay7,"_50m2");if(!this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay1.emit("commercialBreak/hideUFI");this.$CommercialBreakVideoAdOverlay2.playInstreamAd()}};i.prototype.$CommercialBreakVideoAdOverlay20=function(j){"use strict";if(j){this.$CommercialBreakVideoAdOverlay17();this.$CommercialBreakVideoAdOverlay24();if(this.$CommercialBreakVideoAdOverlay4)c("CSS").removeClass(this.$CommercialBreakVideoAdOverlay7,"_50m2")}else this.$CommercialBreakVideoAdOverlay16()};i.prototype.$CommercialBreakVideoAdOverlay26=function(){"use strict";__p&&__p();if(this.$CommercialBreakVideoAdOverlay9)return;this.$CommercialBreakVideoAdOverlay9=true;this.$CommercialBreakVideoAdOverlay5=new(c("SubscriptionsHandler"))();this.$CommercialBreakVideoAdOverlay5.addSubscriptions(this.$CommercialBreakVideoAdOverlay1.addListener("VideoChannelController/enterChannel",this.$CommercialBreakVideoAdOverlay29.bind(this)),c("Arbiter").subscribe("VideoChannelView/closed",this.$CommercialBreakVideoAdOverlay29.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("TahoeController/exitTahoe",this.$CommercialBreakVideoAdOverlay29.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("TahoeController/enterTahoe",this.$CommercialBreakVideoAdOverlay29.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("toggleFullscreen",function(){this.$CommercialBreakVideoAdOverlay24();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.logEvent(this.$CommercialBreakVideoAdOverlay4.isFullscreen()?c("VideoPlayerLoggerEvent").ENTERED_FS:c("VideoPlayerLoggerEvent").EXITED_FS)}.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("WatchAndScroll/positionUpdated",this.$CommercialBreakVideoAdOverlay24.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/scrollAway",function(){if(this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING)){this.$CommercialBreakVideoAdOverlay4.pause(c("VideoPlayerReason").AUTOPLAY);this.$CommercialBreakVideoAdOverlay1.once("commercialBreak/scrollInto",function(){if(this.$CommercialBreakVideoAdOverlay9&&this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PAUSED))this.$CommercialBreakVideoAdOverlay4.play(c("VideoPlayerReason").AUTOPLAY)}.bind(this))}}.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/scrollInto",function(){if(this.$CommercialBreakVideoAdOverlay9&&this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").READY))this.$CommercialBreakVideoAdOverlay28()}.bind(this)),c("Event").listen(window,"focus",this.$CommercialBreakVideoAdOverlay30.bind(this)));this.$CommercialBreakVideoAdOverlay28()};i.prototype.$CommercialBreakVideoAdOverlay30=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay14&&c("gkx")("AT66Z79NswpYFsO2HRr4G1bTG5VJVqTPW01ZncfhaP9KYk7xRjZpH31DhXmSLmHqwAl8I-jzWVNqbJuSv73dKTUSC2M6ufJ3-1EqUthLG94bOQ"))this.$CommercialBreakVideoAdOverlay3.endCommercialBreakByCTAClick()};i.prototype.$CommercialBreakVideoAdOverlay29=function(){"use strict";this.$CommercialBreakVideoAdOverlay24();this.$CommercialBreakVideoAdOverlay25()};i.prototype.$CommercialBreakVideoAdOverlay16=function(){"use strict";__p&&__p();if(!this.$CommercialBreakVideoAdOverlay9)return;this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay10=false;this.$CommercialBreakVideoAdOverlay11=false;this.$CommercialBreakVideoAdOverlay12=0;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(null);this.$CommercialBreakVideoAdOverlay14=false;c("CSS").addClass(this.$CommercialBreakVideoAdOverlay7,"_50m2");if(this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING))this.$CommercialBreakVideoAdOverlay4.pause(c("VideoPlayerReason").AUTOPLAY);this.$CommercialBreakVideoAdOverlay5.release();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.destroy();this.$CommercialBreakVideoAdOverlay4=null;while(this.$CommercialBreakVideoAdOverlay7.children.length>0)c("DOM").remove(this.$CommercialBreakVideoAdOverlay7.children[0])};f.exports=i}),null);
__d("VideoCommercialBreakTransitionOverlay",["cx","fbt","CenteredContainer.react","CommercialBreakState","CountdownTimer.react","CSS","InstreamPlacement","React","ReactDOM","SubscriptionsHandler","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=300,k=300;function l(m){"use strict";this.$VideoCommercialBreakTransitionOverlay9=null;this.$VideoCommercialBreakTransitionOverlay10=null;this.$VideoCommercialBreakTransitionOverlay1=m.root;this.$VideoCommercialBreakTransitionOverlay2=m.body;this.$VideoCommercialBreakTransitionOverlay7=new(c("SubscriptionsHandler"))()}l.prototype.enable=function(m){"use strict";this.$VideoCommercialBreakTransitionOverlay4=m;this.$VideoCommercialBreakTransitionOverlay5=m.addListener("optionsChange",function(){return this.$VideoCommercialBreakTransitionOverlay11()}.bind(this));this.$VideoCommercialBreakTransitionOverlay11()};l.prototype.disable=function(){"use strict";this.$VideoCommercialBreakTransitionOverlay5.remove()};l.prototype.$VideoCommercialBreakTransitionOverlay11=function(){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay3=this.$VideoCommercialBreakTransitionOverlay4.getOption("VideoWithCommercialBreak","controller");if(!this.$VideoCommercialBreakTransitionOverlay3)return;var m=this.$VideoCommercialBreakTransitionOverlay4.getOption("VideoWithInstreamVideo","controller");if(!m)return;this.$VideoCommercialBreakTransitionOverlay6=m.getConfig();this.$VideoCommercialBreakTransitionOverlay5.remove();this.$VideoCommercialBreakTransitionOverlay7.engage();this.$VideoCommercialBreakTransitionOverlay7.addSubscriptions(this.$VideoCommercialBreakTransitionOverlay3.addListener("commercialBreak/stateChange",function(n){var o=n.state,p=n.countdownDurationMsecs,q=n.instreamPlacement;this.$VideoCommercialBreakTransitionOverlay12(o,p,q)}.bind(this)));this.$VideoCommercialBreakTransitionOverlay4.addListener("VideoChannelController/exitChannel",this.$VideoCommercialBreakTransitionOverlay13.bind(this));this.$VideoCommercialBreakTransitionOverlay4.addListener("stateChange",this.$VideoCommercialBreakTransitionOverlay13.bind(this))};l.prototype.$VideoCommercialBreakTransitionOverlay12=function(m,n,o){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay8=m;switch(m){case c("CommercialBreakState").PREPARE:this.$VideoCommercialBreakTransitionOverlay14(o);break;case c("CommercialBreakState").ENTERING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay15(o);break;case c("CommercialBreakState").PLAY_AD:this.$VideoCommercialBreakTransitionOverlay16(n,o);break;case c("CommercialBreakState").LEAVING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay17();break;case c("CommercialBreakState").INIT:this.$VideoCommercialBreakTransitionOverlay18();break}this.$VideoCommercialBreakTransitionOverlay13(o)};l.prototype.$VideoCommercialBreakTransitionOverlay14=function(m){"use strict";if(!this.$VideoCommercialBreakTransitionOverlay6.isBroadcast&&m===c("InstreamPlacement").PRE_ROLL){c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_1p58");c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),this.$VideoCommercialBreakTransitionOverlay2)}return};l.prototype.$VideoCommercialBreakTransitionOverlay15=function(m){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast){this.$VideoCommercialBreakTransitionOverlay19(i._("will be back soon"),null);this.$VideoCommercialBreakTransitionOverlay4.emit("commercialBreak/hideUFI")}else this.$VideoCommercialBreakTransitionOverlay20(m)};l.prototype.$VideoCommercialBreakTransitionOverlay20=function(m){"use strict";__p&&__p();if(!this.$VideoCommercialBreakTransitionOverlay6.beginningNonLiveTransitionTimeMs)return;this.$VideoCommercialBreakTransitionOverlay21();var n=Math.max(j,this.$VideoCommercialBreakTransitionOverlay6.beginningNonLiveTransitionTimeMs-j);if(m===c("InstreamPlacement").PRE_ROLL)c("ReactDOM").render(c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUIText.react"),{size:"header3",color:"white",display:"block"},i._("Video will begin after an ad"))),this.$VideoCommercialBreakTransitionOverlay2);c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");this.$VideoCommercialBreakTransitionOverlay9=setTimeout(function(){clearTimeout(this.$VideoCommercialBreakTransitionOverlay9);this.$VideoCommercialBreakTransitionOverlay3.emit("commercialBreak/inTransition",{shouldShowAd:true});c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")}.bind(this),n)};l.prototype.$VideoCommercialBreakTransitionOverlay17=function(){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)this.$VideoCommercialBreakTransitionOverlay19(i._("is returning now"),null);else this.$VideoCommercialBreakTransitionOverlay22()};l.prototype.$VideoCommercialBreakTransitionOverlay22=function(){"use strict";if(!this.$VideoCommercialBreakTransitionOverlay6.endingNonLiveTransitionTimeMs)return;this.$VideoCommercialBreakTransitionOverlay21();c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");this.$VideoCommercialBreakTransitionOverlay10=setTimeout(function(){clearTimeout(this.$VideoCommercialBreakTransitionOverlay10);this.$VideoCommercialBreakTransitionOverlay3.emit("commercialBreak/inTransition",{shouldShowAd:false});c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")}.bind(this),k)};l.prototype.$VideoCommercialBreakTransitionOverlay21=function(){"use strict";c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay");c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_1p58");c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2)};l.prototype.$VideoCommercialBreakTransitionOverlay16=function(m,n){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)if(m)this.$VideoCommercialBreakTransitionOverlay19(i._("will return in"),m);else this.$VideoCommercialBreakTransitionOverlay19(i._("will be back soon"),null);if(n===c("InstreamPlacement").PRE_ROLL)c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2)};l.prototype.$VideoCommercialBreakTransitionOverlay19=function(m,n){"use strict";c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2);var o=null;if(n)o=c("React").createElement("div",{className:"_4fih"},c("React").createElement(c("CountdownTimer.react"),{endTime:Date.now()+n,format:"digital"}));c("ReactDOM").render(c("React").createElement("div",null,c("React").createElement("div",{className:"_4fid"},m),o),this.$VideoCommercialBreakTransitionOverlay2)};l.prototype.$VideoCommercialBreakTransitionOverlay18=function(){"use strict";c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2);this.$VideoCommercialBreakTransitionOverlay4.emit("commercialBreak/showUFI");clearTimeout(this.$VideoCommercialBreakTransitionOverlay9);clearTimeout(this.$VideoCommercialBreakTransitionOverlay10)};l.prototype.$VideoCommercialBreakTransitionOverlay23=function(){"use strict";return this.$VideoCommercialBreakTransitionOverlay4?this.$VideoCommercialBreakTransitionOverlay4.getVideoNodeNullable():null};l.prototype.$VideoCommercialBreakTransitionOverlay24=function(){"use strict";c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay1,"_4fii");var m=this.$VideoCommercialBreakTransitionOverlay23();if(m)c("CSS").removeClass(m,"_1_d3")};l.prototype.$VideoCommercialBreakTransitionOverlay25=function(){"use strict";c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay1,"_4fii");var m=this.$VideoCommercialBreakTransitionOverlay23();if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast&&m)c("CSS").addClass(m,"_1_d3")};l.prototype.$VideoCommercialBreakTransitionOverlay13=function(m){"use strict";__p&&__p();switch(this.$VideoCommercialBreakTransitionOverlay8){case c("CommercialBreakState").PREPARE:if(m===c("InstreamPlacement").PRE_ROLL)this.$VideoCommercialBreakTransitionOverlay25();break;case c("CommercialBreakState").ENTERING_TRANSITION:case c("CommercialBreakState").LEAVING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay25();break;case c("CommercialBreakState").PLAY_AD:if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)this.$VideoCommercialBreakTransitionOverlay25();else this.$VideoCommercialBreakTransitionOverlay24();break;case c("CommercialBreakState").AD_REQUEST_SENT:break;default:this.$VideoCommercialBreakTransitionOverlay24()}};f.exports=l}),null);
__d("VideoWithInstreamVideo",["BanzaiODS","CommercialBreakMobileEvent","CommercialBreakShouldLogMarauderEvent","CommercialBreakUtil","DateConsts","EventEmitter","InstreamVideoAdType","MarauderLogger","SubscriptionsHandler","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","onViewportChanged"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$VideoWithInstreamVideo4=k}j.prototype.enable=function(k){"use strict";__p&&__p();if(this.$VideoWithInstreamVideo2)return;this.$VideoWithInstreamVideo2=k;this.$VideoWithInstreamVideo3=k;this.$VideoWithInstreamVideo13=false;this.$VideoWithInstreamVideo14=this.getIsVisibleForAutoplay();c("onViewportChanged")(this.$VideoWithInstreamVideo18.bind(this));this.$VideoWithInstreamVideo1=new(c("SubscriptionsHandler"))();this.$VideoWithInstreamVideo1.engage();this.$VideoWithInstreamVideo15=[];this.$VideoWithInstreamVideo19();this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","enabled",function(){return true});this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","controller",function(){return this}.bind(this))};j.prototype.disable=function(){"use strict"};j.prototype.$VideoWithInstreamVideo20=function(){"use strict";var k=["play","pause","mute","unmute","constructor","destroy","addListener","isMuted","isState","updateSource"],l=this.$VideoWithInstreamVideo2.constructor.prototype,m=Object.getOwnPropertyNames(l).filter(function(n){var o=l[n];return typeof o==="function"&&k.indexOf(n)<0});return m};j.prototype.$VideoWithInstreamVideo19=function(){"use strict";var k=this.$VideoWithInstreamVideo20(),l=function l(m){this.constructor.prototype[m]=function(){return this.$VideoWithInstreamVideo2[m].apply(this.$VideoWithInstreamVideo2,arguments)}};k.forEach(l,this)};j.prototype.$VideoWithInstreamVideo21=function(){"use strict";var k=this.$VideoWithInstreamVideo20();k.forEach(function(l){return delete this.constructor.prototype[l]}.bind(this))};j.prototype.$VideoWithInstreamVideo22=function(){var k;"use strict";(k=i.emit).call.apply(k,[this].concat(Array.prototype.slice.call(arguments)))};j.prototype.emit=function(){var k;"use strict";(k=this.$VideoWithInstreamVideo2).emit.apply(k,arguments)};j.prototype.$VideoWithInstreamVideo23=function(event){"use strict";if(this.$VideoWithInstreamVideo15.indexOf(event)<0){this.$VideoWithInstreamVideo15.push(event);var k=function(event){return this.$VideoWithInstreamVideo22.bind(this,event)}.bind(this);this.$VideoWithInstreamVideo1.addSubscriptions(this.$VideoWithInstreamVideo2.addListener(event,k(event)))}};j.prototype.addListener=function(event){var k;"use strict";this.$VideoWithInstreamVideo23(event);return(k=i.addListener).call.apply(k,[this].concat(Array.prototype.slice.call(arguments)))};j.prototype.registerInstreamVideo=function(k){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo13){this.$VideoWithInstreamVideo13=true;this.$VideoWithInstreamVideo2.instreamVideoStart()}if(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo9=this.$VideoWithInstreamVideo2.isState(c("VideoPlayerStates").PLAYING);this.$VideoWithInstreamVideo11=this.$VideoWithInstreamVideo2.isMuted();this.$VideoWithInstreamVideo12=this.$VideoWithInstreamVideo2.getVolume();var l=this.getCurrentInstreamVideoAdType();if(l===c("InstreamVideoAdType").LIVE)this.$VideoWithInstreamVideo2.mute();else if(l===c("InstreamVideoAdType").VOD||l===c("InstreamVideoAdType").NONLIVE){var m;this.$VideoWithInstreamVideo2.setLogEntryPropertyGetters((m={},m[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$VideoWithInstreamVideo5,m[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]=this.$VideoWithInstreamVideo7?this.$VideoWithInstreamVideo7:-1,m));this.$VideoWithInstreamVideo2.pause(c("VideoPlayerReason").COMMERCIAL_BREAK)}}this.$VideoWithInstreamVideo3=k};j.prototype.resetInstreamVideo=function(){"use strict";__p&&__p();this.$VideoWithInstreamVideo2.removeLogEntryPropertyGetters([c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX,c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]);if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var k=this.getCurrentInstreamVideoAdType();if(k===c("InstreamVideoAdType").LIVE&&!this.$VideoWithInstreamVideo11&&this.$VideoWithInstreamVideo2.isMuted())this.$VideoWithInstreamVideo2.unmute();else if((k===c("InstreamVideoAdType").VOD||k===c("InstreamVideoAdType").NONLIVE)&&this.$VideoWithInstreamVideo9&&!this.$VideoWithInstreamVideo2.isState(c("VideoPlayerStates").PLAYING))this.$VideoWithInstreamVideo2.play(c("VideoPlayerReason").COMMERCIAL_BREAK)}this.$VideoWithInstreamVideo3=this.$VideoWithInstreamVideo2;this.$VideoWithInstreamVideo13=false;this.$VideoWithInstreamVideo2.instreamVideoEnd()};j.prototype.shouldPlayInstreamAd=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive&&!this.$VideoWithInstreamVideo9)return false;return this.getIsVisibleForAutoplay()};j.prototype.playInstreamAd=function(){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo3||this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){c("BanzaiODS").bumpEntityKey("instreamads","missing_ad_player");return}var k=this.$VideoWithInstreamVideo3;this.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_AD);k.once("beginPlayback",function(){this.$VideoWithInstreamVideo16={adClientToken:k.getAdClientToken(),adStartPlayingTimeMs:Date.now(),adPositionInVideoMs:this.$VideoWithInstreamVideo2.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC,playerOrigin:this.$VideoWithInstreamVideo2.getPlayerOrigin(),playerSubOrigin:c("CommercialBreakUtil").getVideoPlayerSubOrigin(this.$VideoWithInstreamVideo2),playerFormat:c("CommercialBreakUtil").getVideoPlayerFormat(this.$VideoWithInstreamVideo2)}}.bind(this));if(this.$VideoWithInstreamVideo11)k.mute();else{k.unmute();k.setVolume(this.$VideoWithInstreamVideo12)}this.$VideoWithInstreamVideo10=false;k.play(c("VideoPlayerReason").AUTOPLAY)};j.prototype.play=function(k){__p&&__p();var l,m=this;"use strict";this.$VideoWithInstreamVideo9=true;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PAUSED)||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PLAYING)))(function(){var n=m.$VideoWithInstreamVideo3;if(!m.$VideoWithInstreamVideo2.getOption("VideoWithCommercialBreak","isInstreamPausedByNFX"))if(m.$VideoWithInstreamVideo10&&n!==m.$VideoWithInstreamVideo2)n.once("pausePlayback",function(){return n.play(k)});else n.play(k)})();if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo2.play(k)};j.prototype.pause=function(k){"use strict";__p&&__p();if(k===c("VideoPlayerReason").USER&&this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithInstreamVideo9=false;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PLAYING))){var l=this.$VideoWithInstreamVideo3;if(l!==this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo10=true;l.once("pausePlayback",function(){return this.$VideoWithInstreamVideo10=false}.bind(this))}l.pause(k)}if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo2.pause(k)};j.prototype.mute=function(){"use strict";this.$VideoWithInstreamVideo11=true;if(this.$VideoWithInstreamVideo3)this.$VideoWithInstreamVideo3.mute()};j.prototype.unmute=function(){"use strict";this.$VideoWithInstreamVideo11=false;if(this.$VideoWithInstreamVideo3)this.$VideoWithInstreamVideo3.unmute()};j.prototype.isMuted=function(){"use strict";if(this.$VideoWithInstreamVideo3)return this.$VideoWithInstreamVideo3.isMuted();return this.$VideoWithInstreamVideo2.isMuted()};j.prototype.isState=function(k){"use strict";if(this.$VideoWithInstreamVideo3)return this.$VideoWithInstreamVideo3.isState(k);return this.$VideoWithInstreamVideo2.isState(k)};j.prototype.destroy=function(){"use strict";if(this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo3.destroy();this.$VideoWithInstreamVideo2.destroy()};j.prototype.updateSource=function(k){"use strict";if(this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo3.updateSource(k);this.$VideoWithInstreamVideo2.updateSource(k)};j.prototype.getConfig=function(){"use strict";return this.$VideoWithInstreamVideo4};j.prototype.setCurrentInstreamVideoAdBreakIndex=function(k){"use strict";this.$VideoWithInstreamVideo5=k};j.prototype.setCurrentInstreamPlacement=function(k){"use strict";this.$VideoWithInstreamVideo6=k};j.prototype.setCurrentInstreamVideoAdBreakVideoID=function(k){"use strict";this.$VideoWithInstreamVideo7=k};j.prototype.setCurrentInstreamVideoAdBreakClientToken=function(k){"use strict";this.$VideoWithInstreamVideo8=k};j.prototype.setThumbnailURLForPreview=function(k){"use strict";this.$VideoWithInstreamVideo17=k};j.prototype.getPreferredThumbnailURI=function(){"use strict";if(this.$VideoWithInstreamVideo4.isComposerPreviewing)return this.$VideoWithInstreamVideo17;return this.$VideoWithInstreamVideo4.preferredThumbnailURI};j.prototype.getCurrentInstreamVideoAdType=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive)return c("InstreamVideoAdType").LIVE;else if(this.$VideoWithInstreamVideo4.isBroadcast)return c("InstreamVideoAdType").VOD;else return c("InstreamVideoAdType").NONLIVE};j.prototype.getCurrentInstreamPlacement=function(){"use strict";return this.$VideoWithInstreamVideo6};j.prototype.getCurrentInstreamVideoAdBreakVideoID=function(){"use strict";return this.$VideoWithInstreamVideo7};j.prototype.getCurrentInstreamVideoAdBreakIndex=function(){"use strict";return this.$VideoWithInstreamVideo5};j.prototype.getIsAdActive=function(){"use strict";return this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2};j.prototype.getAdController=function(){"use strict";if(this.getIsAdActive())return this.$VideoWithInstreamVideo3;return null};j.prototype.$VideoWithInstreamVideo18=function(){"use strict";__p&&__p();var k=this.getIsVisibleForAutoplay();if(this.$VideoWithInstreamVideo14!==k){if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var l=null,m=this.$VideoWithInstreamVideo3;if(m&&m.getPlaybackDuration()>0)l=c("DateConsts").MS_PER_SEC*(m.getPlaybackDuration()-m.getCurrentTimePosition());this.logMarauderEvent(k?c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_INTO:c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_AWAY,{remaining_ad_duration_ms:l})}this.$VideoWithInstreamVideo2.emit(k?"commercialBreak/scrollInto":"commercialBreak/scrollAway")}this.$VideoWithInstreamVideo14=k};j.prototype.getIsVisibleForAutoplay=function(){"use strict";var k=this.$VideoWithInstreamVideo2.getOption("FeedAutoplay","isVisibleForAutoplay");return k||k===undefined};j.prototype.getMostRecentAdInfo=function(){"use strict";return this.$VideoWithInstreamVideo16};j.prototype.logMarauderEvent=function(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"use strict";if(!Object.prototype.hasOwnProperty.call(c("CommercialBreakShouldLogMarauderEvent"),k)||!c("CommercialBreakShouldLogMarauderEvent")[k])return;l.host_video_id=this.$VideoWithInstreamVideo4.hostVideoID;l.instream_video_ad_type=this.getCurrentInstreamVideoAdType();if(!Object.prototype.hasOwnProperty.call(l,"ad_break_index"))l.ad_break_index=this.$VideoWithInstreamVideo5;if(!Object.prototype.hasOwnProperty.call(l,"instream_placement"))l.instream_placement=this.$VideoWithInstreamVideo6;l.is_sponsored=this.$VideoWithInstreamVideo4.isSponsored;l.is_visible=this.getIsVisibleForAutoplay();l.player_origin=this.$VideoWithInstreamVideo4.playerOrigin;if(!Object.prototype.hasOwnProperty.call(l,"commercial_break_ad_client_token"))l.commercial_break_ad_client_token=this.$VideoWithInstreamVideo8;c("MarauderLogger").log(k,"commercial_break",l)};f.exports=j}),null);
__d("VodWithCommercialBreak",["CommercialBreakExperiments","CommercialBreakNoAdReason","DateConsts","UFIVideoPlayerRegistry","VideoPlayerStates","Visibility"],(function a(b,c,d,e,f,g){__p&&__p();var h=Object.freeze({RECHECK_START_MS:300});function i(j){__p&&__p();var k=j.videoPlayerController,l=j.adBreaks;"use strict";this.$VodWithCommercialBreak1=l;this.$VodWithCommercialBreak4=k;this.$VodWithCommercialBreak7=false;this.$VodWithCommercialBreak9=-1;this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak13=0;this.$VodWithCommercialBreak8=false;this.$VodWithCommercialBreak3=k.addListener("optionsChange",function(){return this.$VodWithCommercialBreak14()}.bind(this));this.$VodWithCommercialBreak14()}i.prototype.setAdBreaks=function(j){"use strict";this.$VodWithCommercialBreak15();this.$VodWithCommercialBreak1=j};i.prototype.$VodWithCommercialBreak15=function(){"use strict";if(this.$VodWithCommercialBreak10)clearTimeout(this.$VodWithCommercialBreak10);if(this.$VodWithCommercialBreak11)clearTimeout(this.$VodWithCommercialBreak11);this.$VodWithCommercialBreak10=null;this.$VodWithCommercialBreak11=null;this.$VodWithCommercialBreak9=-1};i.prototype.$VodWithCommercialBreak14=function(){"use strict";__p&&__p();this.$VodWithCommercialBreak5=this.$VodWithCommercialBreak4.getOption("VideoWithInstreamVideo","controller");this.$VodWithCommercialBreak6=this.$VodWithCommercialBreak4.getOption("VideoWithCommercialBreak","controller");if(!this.$VodWithCommercialBreak5||!this.$VodWithCommercialBreak6)return;this.$VodWithCommercialBreak3.remove();this.$VodWithCommercialBreak2=this.$VodWithCommercialBreak5.getConfig();if(this.$VodWithCommercialBreak4.isState(c("VideoPlayerStates").PLAYING))this.$VodWithCommercialBreak16();this.$VodWithCommercialBreak4.addListener("beginPlayback",this.$VodWithCommercialBreak16.bind(this));this.$VodWithCommercialBreak4.addListener("pausePlayback",this.$VodWithCommercialBreak17.bind(this))};i.prototype.$VodWithCommercialBreak16=function(){"use strict";__p&&__p();if(!this.$VodWithCommercialBreak7)this.$VodWithCommercialBreak7=true;if(this.$VodWithCommercialBreak12===0)this.$VodWithCommercialBreak12=Date.now();var j=this.$VodWithCommercialBreak18();if(j===0){this.$VodWithCommercialBreak4.once("updateStatus",this.$VodWithCommercialBreak16.bind(this));return}var k=this.$VodWithCommercialBreak19(j);if(k===this.$VodWithCommercialBreak9)k+=1;this.$VodWithCommercialBreak20(k,j)};i.prototype.$VodWithCommercialBreak17=function(){"use strict";if(this.$VodWithCommercialBreak12>0)this.$VodWithCommercialBreak13+=Date.now()-this.$VodWithCommercialBreak12;this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak15()};i.prototype.$VodWithCommercialBreak19=function(j){"use strict";var k=this.$VodWithCommercialBreak1.length;for(var l=this.$VodWithCommercialBreak1.length-1;l>=0;l--){var m=this.$VodWithCommercialBreak1[l].getTimeOffsetInMs();if(m&&m>j+this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs)k=l;else break}return k};i.prototype.$VodWithCommercialBreak20=function(j,k){"use strict";__p&&__p();this.$VodWithCommercialBreak15();if(j>=this.$VodWithCommercialBreak1.length)return;var l=this.$VodWithCommercialBreak1[j].getTimeOffsetInMs();if(!l)return;var m=l-k,n=m-this.$VodWithCommercialBreak2.vodPrefetchTimeMs;if(m<0){this.$VodWithCommercialBreak16();return}if(n<=this.$VodWithCommercialBreak2.vodAllowIntentTimeDeltaMs)this.$VodWithCommercialBreak21(j);else this.$VodWithCommercialBreak10=setTimeout(function(){return this.$VodWithCommercialBreak21(j)}.bind(this),n);if(!this.$VodWithCommercialBreak2.isBroadcast)m-=this.$VodWithCommercialBreak2.startingIndicatorMs;if(m<=this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs)this.$VodWithCommercialBreak22(j);else this.$VodWithCommercialBreak11=setTimeout(function(){return this.$VodWithCommercialBreak22(j)}.bind(this),m)};i.prototype.$VodWithCommercialBreak21=function(j){"use strict";__p&&__p();var k=this.$VodWithCommercialBreak18(),l=this.$VodWithCommercialBreak1[j],m=l.getTimeOffsetInMs();if(!m)return;var n=m-this.$VodWithCommercialBreak2.vodPrefetchTimeMs,o=n-k;if(o>this.$VodWithCommercialBreak2.vodAllowIntentTimeDeltaMs){this.$VodWithCommercialBreak10=setTimeout(function(){return this.$VodWithCommercialBreak21(j)}.bind(this),o);return}var p=this.$VodWithCommercialBreak13+m-k;if(this.$VodWithCommercialBreak12>0)p+=Date.now()-this.$VodWithCommercialBreak12;var q=!this.$VodWithCommercialBreak6.hasReceivedAdStory(l.getIndex())&&p>=this.$VodWithCommercialBreak2.vodMinWatchTimeSeconds*c("DateConsts").MS_PER_SEC;if(q){this.$VodWithCommercialBreak6.reset();this.$VodWithCommercialBreak6.onIntentCommand(l.getIndex(),l.getInstreamPlacement(),l.getAdBreakDurationInMs())}this.$VodWithCommercialBreak10=null};i.prototype.$VodWithCommercialBreak22=function(j){"use strict";__p&&__p();var k=this.$VodWithCommercialBreak18(),l=this.$VodWithCommercialBreak1[j],m=l.getTimeOffsetInMs();if(!m)return;var n=m-k,o=this.$VodWithCommercialBreak13+n;if(this.$VodWithCommercialBreak12>0)o+=Date.now()-this.$VodWithCommercialBreak12;var p=null;if(o<this.$VodWithCommercialBreak2.vodMinWatchTimeSeconds*c("DateConsts").MS_PER_SEC)p=c("CommercialBreakNoAdReason").TIME_SPENT_INSUFFICIENT;else if(!this.$VodWithCommercialBreak6.hasReceivedAdStory(l.getIndex()))p=c("CommercialBreakNoAdReason").NO_VIDEO_AD;else if(c("Visibility").isHidden()&&c("CommercialBreakExperiments").skipInstreamAdWhenInvisible)p=c("CommercialBreakNoAdReason").INACTIVE_TAB;else if(this.$VodWithCommercialBreak2.skipAdsWhileCommenting&&!this.$VodWithCommercialBreak8){var q=c("UFIVideoPlayerRegistry").getAvailableUFIController(this.$VodWithCommercialBreak4);if(q&&!q.getIsCurrentCommentEmpty())p=c("CommercialBreakNoAdReason").IS_COMMENTING}if(!p&&!this.$VodWithCommercialBreak2.isBroadcast){this.$VodWithCommercialBreak4.emit("commercialBreak/vodBreakStarting",m);this.$VodWithCommercialBreak8=true}if(n>this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs){if(!this.$VodWithCommercialBreak2.isBroadcast)n=Math.min(n,h.RECHECK_START_MS);this.$VodWithCommercialBreak11=setTimeout(function(){return this.$VodWithCommercialBreak22(j)}.bind(this),n);return}if(!p){this.$VodWithCommercialBreak6.onStartCommand(l.getIndex(),l.getInstreamPlacement(),m);this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak13=0}else this.$VodWithCommercialBreak6.startBreakWithNoVideoAd(p,m,l.getIndex());this.$VodWithCommercialBreak9=j;this.$VodWithCommercialBreak11=null;this.$VodWithCommercialBreak8=false};i.prototype.$VodWithCommercialBreak18=function(){"use strict";return this.$VodWithCommercialBreak4.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC};f.exports=i}),null);
__d("VideoComponentScrubberPreview.react",["React","RelayClassic_DEPRECATED","VideoComponent","VideoScrubberPreviewComponent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.UNSAFE_componentWillReceiveProps=function(k){__p&&__p();var l=k.video;if(l&&l!==this.props.video){var m={};Object.assign(m,l.scrubberPreviewThumbnailInformation);if(Array.isArray(m.spriteIndexToURIMap)){var n=m.spriteIndexToURIMap.slice();n.unshift(null);m.spriteIndexToURIMap=n}new(c("VideoScrubberPreviewComponent"))(this.vpc,m)}};j.prototype.disable=function(k){};j.prototype.enable=function(k){this.vpc=k};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"scrubberPreviewThumbnailInformation",calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallValue",callValue:45}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:45}}],children:[{alias:"timeIntervalBetweenImages",fieldName:"time_interval_between_image",kind:"Field",metadata:{},type:"Int"},{alias:"previewScrubberWidth",fieldName:"thumbnail_width",kind:"Field",metadata:{},type:"Float"},{alias:"previewScrubberHeight",fieldName:"thumbnail_height",kind:"Field",metadata:{},type:"Float"},{alias:"maxImagesPerSprite",fieldName:"max_number_of_images_per_sprite",kind:"Field",metadata:{},type:"Int"},{alias:"imagesPerRow",fieldName:"num_images_per_row",kind:"Field",metadata:{},type:"Int"},{alias:"hasPreviewThumbnails",fieldName:"has_preview_thumbnails",kind:"Field",metadata:{},type:"Boolean"},{alias:"spriteIndexToURIMap",fieldName:"sprite_uris",kind:"Field",metadata:{isPlural:true},type:"String"},{alias:"scrubberVideoURI",fieldName:"scrubber_video_uri",kind:"Field",metadata:{},type:"String"}],fieldName:"scrubber_preview_thumbnail_information",kind:"Field",metadata:{canHaveSubselections:true},type:"ScrubberPreview"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentScrubberPreview_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentWithSpacePlayPause.react",["React","VideoComponent","VideoWithSpacePlayPause"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){new(c("VideoWithSpacePlayPause"))(k)};j.prototype.disable=function(){};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("SphericalVideoComponentDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SphericalVideoComponentActions",["SphericalVideoComponentDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();var h={registerVideoPlayerController:function i(j){var k={type:"SphericalVideoComponent/registerVideoPlayerController",controller:j,id:j.getVideoPlayerID()};c("SphericalVideoComponentDispatcher").dispatch(k)},updateVideoPlayerState:function i(j,k){var l={type:"SphericalVideoComponent/updateVideoPlayerState",id:j,state:k};c("SphericalVideoComponentDispatcher").dispatch(l)},togglePlay:function i(j,k){var l={type:"SphericalVideoComponent/togglePlay",id:j,nextIsPlaying:k};c("SphericalVideoComponentDispatcher").dispatch(l)},toggleChannelView:function i(j,k){var l={type:"SphericalVideoComponent/toggleChannelView",id:j,isInChannelView:k};c("SphericalVideoComponentDispatcher").dispatch(l)},toggleTahoe:function i(j,k){var l={type:"SphericalVideoComponent/toggleTahoe",id:j,isInTahoe:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setCurrentVideoTime:function i(j,k){var l={type:"SphericalVideoComponent/setCurrentPlaytime",id:j,time:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setVideoDuration:function i(j,k){var l={type:"SphericalVideoComponent/setVideoDuration",id:j,durationSeconds:k};c("SphericalVideoComponentDispatcher").dispatch(l)},seekStart:function i(j){var k={type:"SphericalVideoComponent/seekStart",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},registerSphericalViewportControl:function i(j,k,l){var m={type:"SphericalVideoComponent/registerSphericalViewportControl",id:j,sphericalViewportControl:k,viewport:l};c("SphericalVideoComponentDispatcher").dispatch(m)},changeViewport:function i(j,k,l,m){var n={type:"SphericalVideoComponent/changeViewport",id:j,yaw:k,pitch:l,fieldOfView:m};c("SphericalVideoComponentDispatcher").dispatch(n)},toggleViewportGrabbed:function i(j){var k={type:"SphericalVideoComponent/toggleViewportGrabbed",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},updateViewportDimensions:function i(j,k,l){var m={type:"SphericalVideoComponent/updateViewportDimensions",id:j,width:k,height:l};c("SphericalVideoComponentDispatcher").dispatch(m)},setUserIsInactive:function i(j){var k={type:"SphericalVideoComponent/setUserIsInactive",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},setInitialViewport:function i(j,k,l){var m={type:"SphericalVideoComponent/setInitialViewport",id:j,yaw:k,pitch:l};c("SphericalVideoComponentDispatcher").dispatch(m)},registerNewSpatialReactionsState:function i(j){var k={type:"SphericalVideoComponent/registerNewSpatialReactionsState",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},addSpatialReactionClusters:function i(j,k){var l={type:"SphericalVideoComponent/addSpatialReactions",id:j,reactionClusters:k};c("SphericalVideoComponentDispatcher").dispatch(l)},tickAnimation:function i(j){var k={type:"SphericalVideoComponent/tickAnimation",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},startAnimationForFrame:function i(j,k,l,m,n,o,p){var q={type:"SphericalVideoComponent/startAnimationForFrame",id:j,timestamp:k,yaw:l,pitch:m,fieldOfView:n,viewportWidth:o,viewportHeight:p};c("SphericalVideoComponentDispatcher").dispatch(q)},setMouseDown:function i(j,k,l){var m={type:"SphericalVideoComponent/setMouseDown",id:j,reactionCenter:k,wasVideoPlaying:l};c("SphericalVideoComponentDispatcher").dispatch(m)},setMouseUp:function i(j,k){var l={type:"SphericalVideoComponent/setMouseUp",id:j,reactionCenter:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setIsDragging:function i(j,k){var l={type:"SphericalVideoComponent/setIsDragging",id:j,isDragging:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setShouldLeaveReactionMenuOpen:function i(j,k){var l={type:"SphericalVideoComponent/setShouldLeaveReactionMenuOpen",id:j,leaveOpen:k};c("SphericalVideoComponentDispatcher").dispatch(l)},clickReaction:function i(j,k){var l={type:"SphericalVideoComponent/clickReaction",id:j,reactionType:k};c("SphericalVideoComponentDispatcher").dispatch(l)},dropReaction:function i(j,k,l,m,n,o,p,q,r,s){var t={type:"SphericalVideoComponent/dropReaction",id:j,reactionType:k,reactionOutsideViewport:l,recordMouseLocation:m,viewportWidth:n,viewportHeight:o,viewportYaw:p,viewportPitch:q,viewportFieldOfView:r,recordReactionCallback:s};c("SphericalVideoComponentDispatcher").dispatch(t)},clickLikeButton:function i(j){var k={type:"SphericalVideoComponent/clickLikeButton",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},openReactionMenu:function i(j){var k={type:"SphericalVideoComponent/openReactionMenu",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},closeReactionMenu:function i(j){var k={type:"SphericalVideoComponent/closeReactionMenu",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},registerExperimentConfig:function i(j,k){var l={type:"SphericalVideoComponent/registerExperimentConfig",id:j,config:k};c("SphericalVideoComponentDispatcher").dispatch(l)}};f.exports=h}),null);
__d("SphericalVideoComponentConstants",[],(function a(b,c,d,e,f,g){var h={ACTIONS:{REGISTER_VIDEO_PLAYER_CONTROLLER:"SphericalVideoComponent/registerVideoPlayerController",UPDATE_VIDEO_PLAYER_STATE:"SphericalVideoComponent/updateVideoPlayerState",TOGGLE_PLAY:"SphericalVideoComponent/togglePlay",SET_CURRENT_PLAY_TIME:"SphericalVideoComponent/setCurrentPlaytime",SET_VIDEO_DURATION:"SphericalVideoComponent/setVideoDuration",TOGGLE_CHANNEL_VIEW:"SphericalVideoComponent/toggleChannelView",TOGGLE_TAHOE:"SphericalVideoComponent/toggleTahoe",SEEK_START:"SphericalVideoComponent/seekStart",REGISTER_SPHERICAL_VIEWPORT_CONTROL:"SphericalVideoComponent/registerSphericalViewportControl",CHANGE_VIEWPORT:"SphericalVideoComponent/changeViewport",TOGGLE_VIEWPORT_GRABBED:"SphericalVideoComponent/toggleViewportGrabbed",UPDATE_VIEWPORT_DIMENSIONS:"SphericalVideoComponent/updateViewportDimensions",SET_USER_IS_INACTIVE:"SphericalVideoComponent/setUserIsInactive",SET_INITIAL_VIEWPORT:"SphericalVideoComponent/setInitialViewport",REGISTER_NEW_REACTIONS_STATE:"SphericalVideoComponent/registerNewSpatialReactionsState",ADD_SPATIAL_REACTIONS:"SphericalVideoComponent/addSpatialReactions",SET_MOUSE_DOWN:"SphericalVideoComponent/setMouseDown",SET_MOUSE_UP:"SphericalVideoComponent/setMouseUp",SET_IS_DRAGGING:"SphericalVideoComponent/setIsDragging",SET_SHOULD_LEAVE_REACTION_MENU_OPEN:"SphericalVideoComponent/setShouldLeaveReactionMenuOpen",CLICK_REACTION:"SphericalVideoComponent/clickReaction",DROP_REACTION:"SphericalVideoComponent/dropReaction",TICK_ANIMATION:"SphericalVideoComponent/tickAnimation",START_ANIMATION_FOR_FRAME:"SphericalVideoComponent/startAnimationForFrame",CLICK_LIKE_BUTTON:"SphericalVideoComponent/clickLikeButton",OPEN_REACTION_MENU:"SphericalVideoComponent/openReactionMenu",CLOSE_REACTION_MENU:"SphericalVideoComponent/closeReactionMenu",REGISTER_EXPERIMENT_CONFIG:"SphericalVideoComponent/registerExperimentConfig"}};f.exports=h}),null);
__d("SphericalViewportControlStore",["SphericalVideoComponentActions","SphericalVideoComponentDispatcher","immutable","FluxMapStore","SphericalVideoComponentConstants","Rect","Vector","curry","throttle","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={fieldOfView:-1,initialPitch:-1,initialYaw:-1,isInChannelView:false,isInTahoe:false,pitch:-1,viewport:null,viewportGrabbed:false,viewportHeight:0,viewportInactivityTimeout:0,viewportPanStart:false,viewportWidth:0,yaw:-1},m=5e3;h=babelHelpers.inherits(n,c("immutable").Record(l));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxMapStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return c("immutable").Map({sphericalViewportControls:c("immutable").Map({}),sphericalViewportControlStates:c("immutable").Map({})})};o.prototype.reduce=function(p,q){__p&&__p();var r=q.id;switch(q.type){case c("SphericalVideoComponentConstants").ACTIONS.REGISTER_SPHERICAL_VIEWPORT_CONTROL:var s=q.sphericalViewportControl,t=q.viewport;p=this.$SphericalViewportStore1(p,r,s,t);break;case c("SphericalVideoComponentConstants").ACTIONS.CHANGE_VIEWPORT:var u=q.yaw,v=q.pitch,w=q.fieldOfView;p=this.$SphericalViewportStore2(p,r,u,v,w);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_VIEWPORT_GRABBED:p=this.$SphericalViewportStore3(p,r);break;case c("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIEWPORT_DIMENSIONS:var x=q.width,y=q.height;p=this.$SphericalViewportStore4(p,r,x,y);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_CHANNEL_VIEW:var z=q.isInChannelView;p=this.$SphericalViewportStore5(p,r,z);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_TAHOE:var A=q.isInTahoe;p=this.$SphericalViewportStore6(p,r,A);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_USER_IS_INACTIVE:p=this.$SphericalViewportStore7(p,r);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_INITIAL_VIEWPORT:p=this.$SphericalViewportStore8(p,r,q.yaw,q.pitch);break;default:break}return p};o.prototype.getSphericalViewportControl=function(p){var q=this.get("sphericalViewportControls");if(q&&q.has(p))return q.get(p);else throw new Error("Video player controller with id "+p+" is not registered")};o.prototype.getOrientation=function(p){var q=this.$SphericalViewportStore9(this.getState(),p),r=q.yaw,s=q.pitch;return{yaw:r,pitch:s}};o.prototype.getUserIsActive=function(p){var q=this.$SphericalViewportStore9(this.getState(),p);return q.viewportInactivityTimeout!==0};o.prototype.getFieldOfView=function(p){return this.$SphericalViewportStore9(this.getState(),p).fieldOfView};o.prototype.getViewportGrabbed=function(p){return this.$SphericalViewportStore9(this.getState(),p).viewportGrabbed};o.prototype.getInitialYaw=function(p){return this.$SphericalViewportStore9(this.getState(),p).initialYaw};o.prototype.getInitialPitch=function(p){return this.$SphericalViewportStore9(this.getState(),p).initialPitch};o.prototype.getIsInChannelView=function(p){return this.$SphericalViewportStore9(this.getState(),p).isInChannelView};o.prototype.getIsInTahoe=function(p){return this.$SphericalViewportStore9(this.getState(),p).isInTahoe};o.prototype.getViewportDimensions=function(p){return{width:this.$SphericalViewportStore9(this.getState(),p).viewportWidth,height:this.$SphericalViewportStore9(this.getState(),p).viewportHeight}};o.prototype.getViewportPositionVector=function(p){var q=this.$SphericalViewportStore9(this.getState(),p);return new(c("Rect"))(q.viewport).getPositionVector()};o.prototype.getViewportCenterVector=function(p){var q=this.getViewportPositionVector(p),r=this.getViewportDimensions(p),s=r.width,t=r.height,u=new(c("Vector"))(s/2,t/2);return q.add(u)};o.prototype.onViewportGrabbed=function(p){c("SphericalVideoComponentActions").toggleViewportGrabbed(p)};o.prototype.onViewportPanStart=function(p,q){return};o.prototype.onViewportPanEnd=function(p){c("SphericalVideoComponentActions").toggleViewportGrabbed(p)};o.prototype.onViewportChange=function(p,q,r,s){c("SphericalVideoComponentActions").changeViewport(p,q,r,s)};o.prototype.$SphericalViewportStore1=function(p,q,r,s){__p&&__p();var t=p.get("sphericalViewportControls");if(t.has(q))return p;t=t.set(q,r);p=p.set("sphericalViewportControls",t);var u=p.get("sphericalViewportControlStates"),v=new n({yaw:r.getOrientation().x,pitch:r.getOrientation().y,fieldOfView:r.getVerticalFieldOfView(),viewport:s});u=u.set(q,v);p=p.set("sphericalViewportControlStates",u);r.addListener("viewportChange",c("throttle")(c("curry")(this.onViewportChange,q),16));r.addListener("updateViewportBegin",c("curry")(this.onViewportGrabbed,q));r.addListener("updateViewportEnd",c("curry")(this.onViewportPanEnd,q));return p};o.prototype.$SphericalViewportStore2=function(p,q,r,s,t){__p&&__p();var u=[["yaw",r],["pitch",s],["fieldOfView",t]];for(var v=u,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y,A=z[0],B=z[1];p=this.$SphericalViewportStore10(p,q,A,B)}var C=this.getSphericalViewportControl(q);C.setSphericalOrientation(r,s);C.setFieldOfView(t);var D=this.$SphericalViewportStore9(p,q).get("viewportInactivityTimeout");clearTimeout(D);p=this.$SphericalViewportStore10(p,q,"viewportInactivityTimeout",this.$SphericalViewportStore11(q));return p};o.prototype.$SphericalViewportStore11=function(p){return c("setTimeout")(function(){return c("SphericalVideoComponentActions").setUserIsInactive(p)},m)};o.prototype.$SphericalViewportStore7=function(p,q){p=this.$SphericalViewportStore10(p,q,"viewportInactivityTimeout",0);return p};o.prototype.$SphericalViewportStore8=function(p,q,r,s){p=this.$SphericalViewportStore10(p,q,"initialYaw",r);p=this.$SphericalViewportStore10(p,q,"initialPitch",s);return p};o.prototype.$SphericalViewportStore4=function(p,q,r,s){p=this.$SphericalViewportStore10(p,q,"viewportWidth",r);p=this.$SphericalViewportStore10(p,q,"viewportHeight",s);return p};o.prototype.$SphericalViewportStore3=function(p,q){var r=this.$SphericalViewportStore9(p,q).viewportGrabbed;return this.$SphericalViewportStore10(p,q,"viewportGrabbed",!r)};o.prototype.$SphericalViewportStore5=function(p,q,r){return this.$SphericalViewportStore10(p,q,"isInChannelView",r)};o.prototype.$SphericalViewportStore6=function(p,q,r){return this.$SphericalViewportStore10(p,q,"isInTahoe",r)};o.prototype.$SphericalViewportStore10=function(p,q,r,s){var t=this.$SphericalViewportStore9(p,q),u=p.get("sphericalViewportControlStates");t=t.set(r,s);u=u.set(q,t);return p.set("sphericalViewportControlStates",u)};o.prototype.$SphericalViewportStore9=function(p,q){var r=p.get("sphericalViewportControlStates").get(q);if(!r)this.$SphericalViewportStore12(q);return r};o.prototype.$SphericalViewportStore12=function(p){throw new Error("Viewport control with id "+p+" does not exist")};function o(){j.apply(this,arguments)}f.exports=new o(c("SphericalVideoComponentDispatcher"))}),null);
__d("VideoPlayerControllerStore",["FluxMapStore","immutable","SphericalVideoComponentActions","SphericalVideoComponentConstants","SphericalVideoComponentDispatcher","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","curry"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({currentTime:-1,currentVideoPlayerState:c("VideoPlayerStates").UNKNOWN,durationSeconds:-1,videoId:"",unpauseOnMouseUp:false}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxMapStore"));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.onVideoPlayerControllerStateChange=function(s){var t=s.getVideoPlayerID(),u=this.$VideoPlayerControllerStore7(this.getState(),t),v=u.videoPlayerState,w=s.getState();if(v!==w)c("SphericalVideoComponentActions").updateVideoPlayerState(t,w)}.bind(this),o}m.prototype.getInitialState=function(){return c("immutable").Map({videoPlayerControllers:c("immutable").Map({}),videoPlayerControllerStates:c("immutable").Map({})})};m.prototype.reduce=function(n,o){__p&&__p();var p=o.id,q=void 0;switch(o.type){case c("SphericalVideoComponentConstants").ACTIONS.REGISTER_VIDEO_PLAYER_CONTROLLER:var r=o.controller;n=this.$VideoPlayerControllerStore1(n,r,p);break;case c("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIDEO_PLAYER_STATE:n=this.$VideoPlayerControllerStore2(n,p,o.state);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_PLAY:n=this.$VideoPlayerControllerStore3(n,p,o.nextIsPlaying);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_CURRENT_PLAY_TIME:n=this.$VideoPlayerControllerStore4(n,p,o.time);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_VIDEO_DURATION:n=this.$VideoPlayerControllerStore5(n,p,o.durationSeconds);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_MOUSE_DOWN:var s=o.wasVideoPlaying;if(s){n=this.$VideoPlayerControllerStore6(n,p,"unpauseOnMouseUp",s);n=this.$VideoPlayerControllerStore3(n,p,false)}break;case c("SphericalVideoComponentConstants").ACTIONS.DROP_REACTION:q=this.$VideoPlayerControllerStore7(n,p);if(q.unpauseOnMouseUp){n=this.$VideoPlayerControllerStore3(n,p,true);n=this.$VideoPlayerControllerStore6(n,p,"unpauseOnMouseUp",false)}break;default:break}return n};m.prototype.getVideoPlayerController=function(n){var o=this.get("videoPlayerControllers");if(o&&o.has(n))return o.get(n);else throw new Error("Video player controller with id "+n+" is not registered")};m.prototype.getIsVideoPlayable=function(n){var o=this.$VideoPlayerControllerStore7(this.getState(),n).currentVideoPlayerState;return o!==c("VideoPlayerStates").FALLBACK&&o!==c("VideoPlayerStates").DESTROYED&&o!==c("VideoPlayerStates").UNKNOWN};m.prototype.getIsPlaying=function(n){var o=this.getVideoPlayerController(n).isBuffering(),p=this.$VideoPlayerControllerStore7(this.getState(),n).currentVideoPlayerState;return p===c("VideoPlayerStates").PLAYING&&!o};m.prototype.getCurrentTime=function(n){return this.$VideoPlayerControllerStore7(this.getState(),n).currentTime};m.prototype.getVideoID=function(n){return this.$VideoPlayerControllerStore7(this.getState(),n).videoId};m.prototype.$VideoPlayerControllerStore1=function(n,o,p){__p&&__p();var q=n.get("videoPlayerControllers");if(q.has(p))return n;q=q.set(p,o);n=n.set("videoPlayerControllers",q);var r=n.get("videoPlayerControllerStates"),s=new l({isPlaying:o.isState(c("VideoPlayerStates").PLAYING),currentTime:o.getCurrentTimePosition(),videoId:o.getVideoID()});r=r.set(p,s);n=n.set("videoPlayerControllerStates",r);o.addListener("stateChange",c("curry")(this.onVideoPlayerControllerStateChange,o));o.addListener("updateStatus",c("curry")(this.onTimeUpdate,o));o.addListener("updateMetadata",c("curry")(this.onUpdateMetaData,o));o.addListener("VideoChannelController/pendingElementsShown",c("curry")(this.onToggleChannelView,o,true));o.addListener("VideoChannelController/exitChannel",c("curry")(this.onToggleChannelView,o,false));o.addListener("seekRequested",c("curry")(this.onSeekStart,o));o.addListener("TahoeController/enterTahoe",c("curry")(this.onToggleTahoe,o,true));o.addListener("TahoeController/exitTahoe",c("curry")(this.onToggleTahoe,o,false));return n};m.prototype.onTimeUpdate=function(n,event){c("SphericalVideoComponentActions").setCurrentVideoTime(n.getVideoPlayerID(),event.position)};m.prototype.onSeekStart=function(n){c("SphericalVideoComponentActions").seekStart(n.getVideoPlayerID())};m.prototype.onUpdateMetaData=function(n){c("SphericalVideoComponentActions").setVideoDuration(n.getVideoPlayerID(),n.getPlaybackDuration())};m.prototype.onToggleChannelView=function(n,o){c("SphericalVideoComponentActions").toggleChannelView(n.getVideoPlayerID(),o)};m.prototype.onToggleTahoe=function(n,o){c("SphericalVideoComponentActions").toggleTahoe(n.getVideoPlayerID(),o)};m.prototype.$VideoPlayerControllerStore3=function(n,o,p){var q=this.getVideoPlayerController(o),r=this.$VideoPlayerControllerStore7(this.getState(),o),s=r.currentVideoPlayerState;if(s===c("VideoPlayerStates").PLAYING&&!p||s===c("VideoPlayerStates").PAUSED&&p)p?q.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER)):q.pause();return n};m.prototype.$VideoPlayerControllerStore4=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"currentTime",p)};m.prototype.$VideoPlayerControllerStore2=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"currentVideoPlayerState",p)};m.prototype.$VideoPlayerControllerStore5=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"durationSeconds",p)};m.prototype.$VideoPlayerControllerStore7=function(n,o){var p=n.get("videoPlayerControllerStates").get(o);if(!p)this.$VideoPlayerControllerStore8(o);return p};m.prototype.$VideoPlayerControllerStore6=function(n,o,p,q){var r=n.get("videoPlayerControllerStates"),s=this.$VideoPlayerControllerStore7(n,o);s=s.set(p,q);r=r.set(o,s);return n.set("videoPlayerControllerStates",r)};m.prototype.$VideoPlayerControllerStore8=function(n){throw new Error("Video player controller with id "+n+" does not exist")};f.exports=new m(c("SphericalVideoComponentDispatcher"))}),null);
__d("SphericalVideoGuideAnimationConfig",[],(function a(b,c,d,e,f,g){var h=Object.freeze({MIN_INTERVAL_MS:2e3,MS_PER_SECOND:1e3});f.exports=h}),null);
__d("findGreatestLowerBoundGuideKeyframeIndex",["BinarySearch"],(function a(b,c,d,e,f,g){var h=function h(i,j){return c("BinarySearch").greatestLowerBound(function(k){return i[k][0]},j,0,i.length,function(k,l){return k-l})};f.exports=h}),null);
__d("normalizeDeltaYaw",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=j?Math.PI:180,l=2*k;if(Math.abs(i)>l){var m=Math.trunc(Math.abs(i)/l);i-=Math.sign(i)*m*l}if(Math.abs(i)>k)i-=Math.sign(i)*2*k;return i}f.exports=h}),null);
__d("SphericalVideoGuideAnimation",["EventEmitter","SphericalVideoGuideAnimationConfig","easeInOutInterpolate","normalizeDeltaYaw","findGreatestLowerBoundGuideKeyframeIndex","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(m,n,o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$SphericalVideoGuideAnimation12=function(){if(!this.$SphericalVideoGuideAnimation2||!this.$SphericalVideoGuideAnimation1||!this.$SphericalVideoGuideAnimation7()){this.$SphericalVideoGuideAnimation3=null;return}this.updateViewport();c("requestAnimationFrame")(this.$SphericalVideoGuideAnimation12)}.bind(this);this.$SphericalVideoGuideAnimation3=null;this.$SphericalVideoGuideAnimation1=false;this.$SphericalVideoGuideAnimation2=m.guideKeyframes||[];this.$SphericalVideoGuideAnimation8={yaw:m.initialHeading||0,pitch:m.initialPitch||0};this.$SphericalVideoGuideAnimation5=o;this.$SphericalVideoGuideAnimation4=n;this.$SphericalVideoGuideAnimation6=p;this.$SphericalVideoGuideAnimation7=q;if(this.$SphericalVideoGuideAnimation2)this.$SphericalVideoGuideAnimation10(0)}l.prototype.isEnabled=function(){"use strict";return this.$SphericalVideoGuideAnimation1};l.prototype.setEnabledOnResume=function(m,n){"use strict";if(!this.$SphericalVideoGuideAnimation1&&m)this.calculateKeyframeIntervalOnResume();this.setEnabled(m,n)};l.prototype.setEnabled=function(m,n){"use strict";if(this.$SphericalVideoGuideAnimation1!==m)this.emit("toggle",m,n);this.$SphericalVideoGuideAnimation1=m;this.resumeAnimation()};l.prototype.resumeAnimation=function(){"use strict";if(this.$SphericalVideoGuideAnimation1)this.$SphericalVideoGuideAnimation11()};l.prototype.setInitialViewport=function(m,n){"use strict";this.$SphericalVideoGuideAnimation8.yaw=m;this.$SphericalVideoGuideAnimation8.pitch=n};l.prototype.setKeyframes=function(m){"use strict";this.$SphericalVideoGuideAnimation2=m};l.prototype.updateViewport=function(m){"use strict";var n=this.$SphericalVideoGuideAnimation9,o=this.$SphericalVideoGuideAnimation6()*k;if(o<n.baseTime||o>n.nextTime||!!m){this.$SphericalVideoGuideAnimation10(o);n=this.$SphericalVideoGuideAnimation9}var p=c("easeInOutInterpolate")((o-n.baseTime)/n.deltaTime),q=n.deltaPitch*p+n.basePitch,r=n.deltaYaw*p+n.baseYaw;if(this.$SphericalVideoGuideAnimation1)this.$SphericalVideoGuideAnimation4(r,q)};l.prototype.$SphericalVideoGuideAnimation11=function(){"use strict";if(this.$SphericalVideoGuideAnimation3===null)this.$SphericalVideoGuideAnimation3=c("requestAnimationFrame")(this.$SphericalVideoGuideAnimation12)};l.prototype.calculateKeyframeIntervalOnResume=function(){"use strict";__p&&__p();var m=this.$SphericalVideoGuideAnimation5(),n=m.yaw,o=m.pitch,p=this.$SphericalVideoGuideAnimation6()*k,q=[p,o,n],r;if(this.$SphericalVideoGuideAnimation2.length===0)r=[Infinity,o,n];else{var s=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$SphericalVideoGuideAnimation2,p);if(this.$SphericalVideoGuideAnimation2.length>s+1)if(this.$SphericalVideoGuideAnimation2[s+1][0]-p>2*j)r=[p+j,s<0?this.$SphericalVideoGuideAnimation8.pitch:this.$SphericalVideoGuideAnimation2[s][1],s<0?this.$SphericalVideoGuideAnimation8.yaw:this.$SphericalVideoGuideAnimation2[s][2]];else if(this.$SphericalVideoGuideAnimation2[s+1][0]-p>j)r=this.$SphericalVideoGuideAnimation2[s+1];else if(this.$SphericalVideoGuideAnimation2.length>s+2&&this.$SphericalVideoGuideAnimation2[s+2][0]-p<2*j)r=this.$SphericalVideoGuideAnimation2[s+2];else r=[p+j,this.$SphericalVideoGuideAnimation2[s+1][1],this.$SphericalVideoGuideAnimation2[s+1][2]];else r=[p+j,s<0?this.$SphericalVideoGuideAnimation8.pitch:this.$SphericalVideoGuideAnimation2[s][1],s<0?this.$SphericalVideoGuideAnimation8.yaw:this.$SphericalVideoGuideAnimation2[s][2]]}this.$SphericalVideoGuideAnimation13(q,r)};l.prototype.$SphericalVideoGuideAnimation10=function(m){"use strict";__p&&__p();var n,o;if(this.$SphericalVideoGuideAnimation2.length===0){n=[0,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw];o=[Infinity,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw]}else{var p=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$SphericalVideoGuideAnimation2,m);n=p===-1?[0,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw]:this.$SphericalVideoGuideAnimation2[p];if(this.$SphericalVideoGuideAnimation2.length<=p+1)o=[Infinity,n[1],n[2]];else if(this.$SphericalVideoGuideAnimation2[p+1][0]-m>j)o=[this.$SphericalVideoGuideAnimation2[p+1][0]-j,n[1],n[2]];else{o=this.$SphericalVideoGuideAnimation2[p+1];n=[this.$SphericalVideoGuideAnimation2[p+1][0]-j,n[1],n[2]]}}this.$SphericalVideoGuideAnimation13(n,o)};l.prototype.$SphericalVideoGuideAnimation13=function(m,n){"use strict";var o=function o(){return{baseTime:m[0],nextTime:n[0],deltaTime:n[0]-m[0],basePitch:m[1],deltaPitch:n[1]-m[1],baseYaw:m[2],deltaYaw:c("normalizeDeltaYaw")(n[2]-m[2])}};if(this.$SphericalVideoGuideAnimation1)this.emit("newIntervalCalculated",o());this.$SphericalVideoGuideAnimation9=o()};f.exports=l}),null);
__d("SphericalMediaUtils",[],(function a(b,c,d,e,f,g){"use strict";var h={getDPR:function i(){return Math.max(window.devicePixelRatio||1,1)}};f.exports=h}),null);
__d("degToRad",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i*Math.PI/180}f.exports=h}),null);
/**
 * License: https://www.facebook.com/legal/license/sp9U-49Yqrm/
 */
__d("gl-matrix-2.4.0",[],(function aa(ba,ca,da,ea,fa,a){"use strict";__p&&__p();var ga={},ha={exports:ga},ia;function ja(){__p&&__p();(function b(na,c){if(typeof ga==="object"&&typeof ha==="object")ha.exports=c();else if(typeof ia==="function"&&ia.amd)ia([],c);else{var d=c();for(var e in d)(typeof ga==="object"?ga:na)[e]=d[e]}})(this,function(){__p&&__p();return function(b){__p&&__p();var na={};function c(d){if(na[d])return na[d].exports;var fa=na[d]={i:d,l:false,exports:{}};b[d].call(fa.exports,fa,fa.exports,c);fa.l=true;return fa.exports}c.m=b;c.c=na;c.d=function(a,d,e){if(!c.o(a,d))Object.defineProperty(a,d,{configurable:false,enumerable:true,get:e})};c.n=function(fa){var d=fa&&fa.__esModule?function e(){return fa["default"]}:function e(){return fa};c.d(d,"a",d);return d};c.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};c.p="";return c(c.s=4)}([function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.setMatrixArrayType=e;a.toRadian=pa;a.equals=qa;var na=a.EPSILON=1e-6,c=a.ARRAY_TYPE=typeof Float32Array!=="undefined"?Float32Array:Array,d=a.RANDOM=Math.random;function e(f){a.ARRAY_TYPE=c=f}var oa=Math.PI/180;function pa(f){return f*oa}function qa(f,ra){return Math.abs(f-ra)<=na*Math.max(1,Math.abs(f),Math.abs(ra))}},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.fromMat4=oa;a.clone=pa;a.copy=qa;a.fromValues=f;a.set=ra;a.identity=sa;a.transpose=ta;a.invert=ua;a.adjoint=va;a.determinant=wa;a.multiply=xa;a.translate=g;a.rotate=ya;a.scale=h;a.fromTranslation=i;a.fromRotation=za;a.fromScaling=Aa;a.fromMat2d=Ba;a.fromQuat=Ca;a.normalFromMat4=Da;a.projection=Ea;a.str=Fa;a.frob=Ga;a.add=Ha;a.subtract=j;a.multiplyScalar=k;a.multiplyScalarAndAdd=l;a.exactEquals=m;a.equals=n;var na=b(0),c=d(na);function d(q){__p&&__p();if(q&&q.__esModule)return q;else{var r={};if(q!=null)for(var s in q)if(Object.prototype.hasOwnProperty.call(q,s))r[s]=q[s];r["default"]=q;return r}}function e(){__p&&__p();var q=new c.ARRAY_TYPE(9);q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function oa(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=r[2];q[3]=r[4];q[4]=r[5];q[5]=r[6];q[6]=r[8];q[7]=r[9];q[8]=r[10];return q}function pa(q){__p&&__p();var r=new c.ARRAY_TYPE(9);r[0]=q[0];r[1]=q[1];r[2]=q[2];r[3]=q[3];r[4]=q[4];r[5]=q[5];r[6]=q[6];r[7]=q[7];r[8]=q[8];return r}function qa(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=r[6];q[7]=r[7];q[8]=r[8];return q}function f(q,r,s,t,u,v,w,x,y){__p&&__p();var z=new c.ARRAY_TYPE(9);z[0]=q;z[1]=r;z[2]=s;z[3]=t;z[4]=u;z[5]=v;z[6]=w;z[7]=x;z[8]=y;return z}function ra(q,r,s,t,u,v,w,x,y,z){__p&&__p();q[0]=r;q[1]=s;q[2]=t;q[3]=u;q[4]=v;q[5]=w;q[6]=x;q[7]=y;q[8]=z;return q}function sa(q){__p&&__p();q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function ta(q,r){__p&&__p();if(q===r){var s=r[1],t=r[2],u=r[5];q[1]=r[3];q[2]=r[6];q[3]=s;q[5]=r[7];q[6]=t;q[7]=u}else{q[0]=r[0];q[1]=r[3];q[2]=r[6];q[3]=r[1];q[4]=r[4];q[5]=r[7];q[6]=r[2];q[7]=r[5];q[8]=r[8]}return q}function ua(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8],B=A*w-x*z,C=-A*v+x*y,D=z*v-w*y,E=s*B+t*C+u*D;if(!E)return null;E=1/E;q[0]=B*E;q[1]=(-A*t+u*z)*E;q[2]=(x*t-u*w)*E;q[3]=C*E;q[4]=(A*s-u*y)*E;q[5]=(-x*s+u*v)*E;q[6]=D*E;q[7]=(-z*s+t*y)*E;q[8]=(w*s-t*v)*E;return q}function va(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8];q[0]=w*A-x*z;q[1]=u*z-t*A;q[2]=t*x-u*w;q[3]=x*y-v*A;q[4]=s*A-u*y;q[5]=u*v-s*x;q[6]=v*z-w*y;q[7]=t*y-s*z;q[8]=s*w-t*v;return q}function wa(q){var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=q[6],y=q[7],z=q[8];return r*(z*v-w*y)+s*(-z*u+w*x)+t*(y*u-v*x)}function xa(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=s[0],D=s[1],E=s[2],F=s[3],G=s[4],H=s[5],I=s[6],J=s[7],K=s[8];q[0]=C*t+D*w+E*z;q[1]=C*u+D*x+E*A;q[2]=C*v+D*y+E*B;q[3]=F*t+G*w+H*z;q[4]=F*u+G*x+H*A;q[5]=F*v+G*y+H*B;q[6]=I*t+J*w+K*z;q[7]=I*u+J*x+K*A;q[8]=I*v+J*y+K*B;return q}function g(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=s[0],D=s[1];q[0]=t;q[1]=u;q[2]=v;q[3]=w;q[4]=x;q[5]=y;q[6]=C*t+D*w+z;q[7]=C*u+D*x+A;q[8]=C*v+D*y+B;return q}function ya(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=Math.sin(s),D=Math.cos(s);q[0]=D*t+C*w;q[1]=D*u+C*x;q[2]=D*v+C*y;q[3]=D*w-C*t;q[4]=D*x-C*u;q[5]=D*y-C*v;q[6]=z;q[7]=A;q[8]=B;return q}function h(q,r,s){__p&&__p();var t=s[0],u=s[1];q[0]=t*r[0];q[1]=t*r[1];q[2]=t*r[2];q[3]=u*r[3];q[4]=u*r[4];q[5]=u*r[5];q[6]=r[6];q[7]=r[7];q[8]=r[8];return q}function i(q,r){__p&&__p();q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=r[0];q[7]=r[1];q[8]=1;return q}function za(q,r){__p&&__p();var s=Math.sin(r),t=Math.cos(r);q[0]=t;q[1]=s;q[2]=0;q[3]=-s;q[4]=t;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function Aa(q,r){__p&&__p();q[0]=r[0];q[1]=0;q[2]=0;q[3]=0;q[4]=r[1];q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function Ba(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=0;q[3]=r[2];q[4]=r[3];q[5]=0;q[6]=r[4];q[7]=r[5];q[8]=1;return q}function Ca(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=s+s,x=t+t,y=u+u,z=s*w,A=t*w,B=t*x,C=u*w,D=u*x,E=u*y,F=v*w,G=v*x,H=v*y;q[0]=1-B-E;q[3]=A-H;q[6]=C+G;q[1]=A+H;q[4]=1-z-E;q[7]=D-F;q[2]=C-G;q[5]=D+F;q[8]=1-z-B;return q}function Da(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8],B=r[9],C=r[10],D=r[11],E=r[12],F=r[13],G=r[14],H=r[15],I=s*x-t*w,J=s*y-u*w,K=s*z-v*w,L=t*y-u*x,M=t*z-v*x,N=u*z-v*y,O=A*F-B*E,P=A*G-C*E,Q=A*H-D*E,R=B*G-C*F,S=B*H-D*F,T=C*H-D*G,U=I*T-J*S+K*R+L*Q-M*P+N*O;if(!U)return null;U=1/U;q[0]=(x*T-y*S+z*R)*U;q[1]=(y*Q-w*T-z*P)*U;q[2]=(w*S-x*Q+z*O)*U;q[3]=(u*S-t*T-v*R)*U;q[4]=(s*T-u*Q+v*P)*U;q[5]=(t*Q-s*S-v*O)*U;q[6]=(F*N-G*M+H*L)*U;q[7]=(G*K-E*N-H*J)*U;q[8]=(E*M-F*K+H*I)*U;return q}function Ea(q,r,s){__p&&__p();q[0]=2/r;q[1]=0;q[2]=0;q[3]=0;q[4]=-2/s;q[5]=0;q[6]=-1;q[7]=1;q[8]=1;return q}function Fa(q){return"mat3("+q[0]+", "+q[1]+", "+q[2]+", "+q[3]+", "+q[4]+", "+q[5]+", "+q[6]+", "+q[7]+", "+q[8]+")"}function Ga(q){return Math.sqrt(Math.pow(q[0],2)+Math.pow(q[1],2)+Math.pow(q[2],2)+Math.pow(q[3],2)+Math.pow(q[4],2)+Math.pow(q[5],2)+Math.pow(q[6],2)+Math.pow(q[7],2)+Math.pow(q[8],2))}function Ha(q,r,s){__p&&__p();q[0]=r[0]+s[0];q[1]=r[1]+s[1];q[2]=r[2]+s[2];q[3]=r[3]+s[3];q[4]=r[4]+s[4];q[5]=r[5]+s[5];q[6]=r[6]+s[6];q[7]=r[7]+s[7];q[8]=r[8]+s[8];return q}function j(q,r,s){__p&&__p();q[0]=r[0]-s[0];q[1]=r[1]-s[1];q[2]=r[2]-s[2];q[3]=r[3]-s[3];q[4]=r[4]-s[4];q[5]=r[5]-s[5];q[6]=r[6]-s[6];q[7]=r[7]-s[7];q[8]=r[8]-s[8];return q}function k(q,r,s){__p&&__p();q[0]=r[0]*s;q[1]=r[1]*s;q[2]=r[2]*s;q[3]=r[3]*s;q[4]=r[4]*s;q[5]=r[5]*s;q[6]=r[6]*s;q[7]=r[7]*s;q[8]=r[8]*s;return q}function l(q,r,s,h){__p&&__p();q[0]=r[0]+s[0]*h;q[1]=r[1]+s[1]*h;q[2]=r[2]+s[2]*h;q[3]=r[3]+s[3]*h;q[4]=r[4]+s[4]*h;q[5]=r[5]+s[5]*h;q[6]=r[6]+s[6]*h;q[7]=r[7]+s[7]*h;q[8]=r[8]+s[8]*h;return q}function m(q,r){return q[0]===r[0]&&q[1]===r[1]&&q[2]===r[2]&&q[3]===r[3]&&q[4]===r[4]&&q[5]===r[5]&&q[6]===r[6]&&q[7]===r[7]&&q[8]===r[8]}function n(q,r){var s=q[0],t=q[1],u=q[2],v=q[3],w=q[4],x=q[5],y=q[6],z=q[7],A=q[8],B=r[0],C=r[1],D=r[2],E=r[3],F=r[4],G=r[5],H=r[6],I=r[7],J=r[8];return Math.abs(s-B)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(B))&&Math.abs(t-C)<=c.EPSILON*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(u-D)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(v-E)<=c.EPSILON*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(w-F)<=c.EPSILON*Math.max(1,Math.abs(w),Math.abs(F))&&Math.abs(x-G)<=c.EPSILON*Math.max(1,Math.abs(x),Math.abs(G))&&Math.abs(y-H)<=c.EPSILON*Math.max(1,Math.abs(y),Math.abs(H))&&Math.abs(z-I)<=c.EPSILON*Math.max(1,Math.abs(z),Math.abs(I))&&Math.abs(A-J)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(J))}var o=a.mul=xa,p=a.sub=j},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=undefined;a.create=e;a.clone=oa;a.length=pa;a.fromValues=qa;a.copy=f;a.set=ra;a.add=sa;a.subtract=ta;a.multiply=ua;a.divide=va;a.ceil=wa;a.floor=xa;a.min=g;a.max=ya;a.round=h;a.scale=i;a.scaleAndAdd=za;a.distance=Aa;a.squaredDistance=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.cross=Ha;a.lerp=j;a.hermite=k;a.bezier=l;a.random=m;a.transformMat4=n;a.transformMat3=o;a.transformQuat=p;a.rotateX=q;a.rotateY=r;a.rotateZ=s;a.angle=t;a.str=u;a.exactEquals=v;a.equals=w;var na=b(0),c=d(na);function d(F){__p&&__p();if(F&&F.__esModule)return F;else{var G={};if(F!=null)for(var H in F)if(Object.prototype.hasOwnProperty.call(F,H))G[H]=F[H];G["default"]=F;return G}}function e(){var F=new c.ARRAY_TYPE(3);F[0]=0;F[1]=0;F[2]=0;return F}function oa(F){var G=new c.ARRAY_TYPE(3);G[0]=F[0];G[1]=F[1];G[2]=F[2];return G}function pa(F){var G=F[0],H=F[1],I=F[2];return Math.sqrt(G*G+H*H+I*I)}function qa(F,G,H){var I=new c.ARRAY_TYPE(3);I[0]=F;I[1]=G;I[2]=H;return I}function f(F,G){F[0]=G[0];F[1]=G[1];F[2]=G[2];return F}function ra(F,G,H,I){F[0]=G;F[1]=H;F[2]=I;return F}function sa(F,G,H){F[0]=G[0]+H[0];F[1]=G[1]+H[1];F[2]=G[2]+H[2];return F}function ta(F,G,H){F[0]=G[0]-H[0];F[1]=G[1]-H[1];F[2]=G[2]-H[2];return F}function ua(F,G,H){F[0]=G[0]*H[0];F[1]=G[1]*H[1];F[2]=G[2]*H[2];return F}function va(F,G,H){F[0]=G[0]/H[0];F[1]=G[1]/H[1];F[2]=G[2]/H[2];return F}function wa(F,G){F[0]=Math.ceil(G[0]);F[1]=Math.ceil(G[1]);F[2]=Math.ceil(G[2]);return F}function xa(F,G){F[0]=Math.floor(G[0]);F[1]=Math.floor(G[1]);F[2]=Math.floor(G[2]);return F}function g(F,G,H){F[0]=Math.min(G[0],H[0]);F[1]=Math.min(G[1],H[1]);F[2]=Math.min(G[2],H[2]);return F}function ya(F,G,H){F[0]=Math.max(G[0],H[0]);F[1]=Math.max(G[1],H[1]);F[2]=Math.max(G[2],H[2]);return F}function h(F,G){F[0]=Math.round(G[0]);F[1]=Math.round(G[1]);F[2]=Math.round(G[2]);return F}function i(F,G,H){F[0]=G[0]*H;F[1]=G[1]*H;F[2]=G[2]*H;return F}function za(F,G,H,i){F[0]=G[0]+H[0]*i;F[1]=G[1]+H[1]*i;F[2]=G[2]+H[2]*i;return F}function Aa(F,G){var H=G[0]-F[0],I=G[1]-F[1],J=G[2]-F[2];return Math.sqrt(H*H+I*I+J*J)}function Ba(F,G){var H=G[0]-F[0],I=G[1]-F[1],J=G[2]-F[2];return H*H+I*I+J*J}function Ca(F){var G=F[0],H=F[1],I=F[2];return G*G+H*H+I*I}function Da(F,G){F[0]=-G[0];F[1]=-G[1];F[2]=-G[2];return F}function Ea(F,G){F[0]=1/G[0];F[1]=1/G[1];F[2]=1/G[2];return F}function Fa(F,G){var H=G[0],I=G[1],J=G[2],C=H*H+I*I+J*J;if(C>0){C=1/Math.sqrt(C);F[0]=G[0]*C;F[1]=G[1]*C;F[2]=G[2]*C}return F}function Ga(F,G){return F[0]*G[0]+F[1]*G[1]+F[2]*G[2]}function Ha(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[0],M=H[1],N=H[2];F[0]=J*N-K*M;F[1]=K*L-I*N;F[2]=I*M-J*L;return F}function j(F,G,H,I){var J=G[0],K=G[1],L=G[2];F[0]=J+I*(H[0]-J);F[1]=K+I*(H[1]-K);F[2]=L+I*(H[2]-L);return F}function k(F,G,H,I,J,K){var L=K*K,M=L*(2*K-3)+1,N=L*(K-2)+K,O=L*(K-1),P=L*(3-2*K);F[0]=G[0]*M+H[0]*N+I[0]*O+J[0]*P;F[1]=G[1]*M+H[1]*N+I[1]*O+J[1]*P;F[2]=G[2]*M+H[2]*N+I[2]*O+J[2]*P;return F}function l(F,G,H,I,J,K){var L=1-K,M=L*L,N=K*K,O=M*L,P=3*K*M,Q=3*N*L,R=N*K;F[0]=G[0]*O+H[0]*P+I[0]*Q+J[0]*R;F[1]=G[1]*O+H[1]*P+I[1]*Q+J[1]*R;F[2]=G[2]*O+H[2]*P+I[2]*Q+J[2]*R;return F}function m(F,i){i=i||1;var G=c.RANDOM()*2*Math.PI,H=c.RANDOM()*2-1,I=Math.sqrt(1-H*H)*i;F[0]=Math.cos(G)*I;F[1]=Math.sin(G)*I;F[2]=H*i;return F}function n(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[3]*I+H[7]*J+H[11]*K+H[15];L=L||1;F[0]=(H[0]*I+H[4]*J+H[8]*K+H[12])/L;F[1]=(H[1]*I+H[5]*J+H[9]*K+H[13])/L;F[2]=(H[2]*I+H[6]*J+H[10]*K+H[14])/L;return F}function o(F,G,H){var I=G[0],J=G[1],K=G[2];F[0]=I*H[0]+J*H[3]+K*H[6];F[1]=I*H[1]+J*H[4]+K*H[7];F[2]=I*H[2]+J*H[5]+K*H[8];return F}function p(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[0],M=H[1],N=H[2],O=H[3],P=O*I+M*K-N*J,Q=O*J+N*I-L*K,R=O*K+L*J-M*I,S=-L*I-M*J-N*K;F[0]=P*O+S*-L+Q*-N-R*-M;F[1]=Q*O+S*-M+R*-L-P*-N;F[2]=R*O+S*-N+P*-M-Q*-L;return F}function q(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[0];K[1]=J[1]*Math.cos(I)-J[2]*Math.sin(I);K[2]=J[1]*Math.sin(I)+J[2]*Math.cos(I);F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function r(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[2]*Math.sin(I)+J[0]*Math.cos(I);K[1]=J[1];K[2]=J[2]*Math.cos(I)-J[0]*Math.sin(I);F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function s(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[0]*Math.cos(I)-J[1]*Math.sin(I);K[1]=J[0]*Math.sin(I)+J[1]*Math.cos(I);K[2]=J[2];F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function t(F,G){var H=qa(F[0],F[1],F[2]),I=qa(G[0],G[1],G[2]);Fa(H,H);Fa(I,I);var J=Ga(H,I);if(J>1)return 0;else if(J<-1)return Math.PI;else return Math.acos(J)}function u(F){return"vec3("+F[0]+", "+F[1]+", "+F[2]+")"}function v(F,G){return F[0]===G[0]&&F[1]===G[1]&&F[2]===G[2]}function w(F,G){var H=F[0],I=F[1],J=F[2],K=G[0],L=G[1],M=G[2];return Math.abs(H-K)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(K))&&Math.abs(I-L)<=c.EPSILON*Math.max(1,Math.abs(I),Math.abs(L))&&Math.abs(J-M)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(M))}var x=a.sub=ta,y=a.mul=ua,z=a.div=va,A=a.dist=Aa,B=a.sqrDist=Ba,C=a.len=pa,D=a.sqrLen=Ca,E=a.forEach=function(){__p&&__p();var F=e();return function(G,H,I,J,K,L){__p&&__p();var M=void 0,N=void 0;if(!H)H=3;if(!I)I=0;if(J)N=Math.min(J*H+I,G.length);else N=G.length;for(M=I;M<N;M+=H){F[0]=G[M];F[1]=G[M+1];F[2]=G[M+2];K(F,F,L);G[M]=F[0];G[M+1]=F[1];G[M+2]=F[2]}return G}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=undefined;a.create=e;a.clone=oa;a.fromValues=pa;a.copy=qa;a.set=f;a.add=ra;a.subtract=sa;a.multiply=ta;a.divide=ua;a.ceil=va;a.floor=wa;a.min=xa;a.max=g;a.round=ya;a.scale=h;a.scaleAndAdd=i;a.distance=za;a.squaredDistance=Aa;a.length=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.lerp=Ha;a.random=j;a.transformMat4=k;a.transformQuat=l;a.str=m;a.exactEquals=n;a.equals=o;var na=b(0),c=d(na);function d(x){__p&&__p();if(x&&x.__esModule)return x;else{var y={};if(x!=null)for(var z in x)if(Object.prototype.hasOwnProperty.call(x,z))y[z]=x[z];y["default"]=x;return y}}function e(){var x=new c.ARRAY_TYPE(4);x[0]=0;x[1]=0;x[2]=0;x[3]=0;return x}function oa(x){var y=new c.ARRAY_TYPE(4);y[0]=x[0];y[1]=x[1];y[2]=x[2];y[3]=x[3];return y}function pa(x,y,z,A){var B=new c.ARRAY_TYPE(4);B[0]=x;B[1]=y;B[2]=z;B[3]=A;return B}function qa(x,y){x[0]=y[0];x[1]=y[1];x[2]=y[2];x[3]=y[3];return x}function f(x,y,z,A,B){x[0]=y;x[1]=z;x[2]=A;x[3]=B;return x}function ra(x,y,z){x[0]=y[0]+z[0];x[1]=y[1]+z[1];x[2]=y[2]+z[2];x[3]=y[3]+z[3];return x}function sa(x,y,z){x[0]=y[0]-z[0];x[1]=y[1]-z[1];x[2]=y[2]-z[2];x[3]=y[3]-z[3];return x}function ta(x,y,z){x[0]=y[0]*z[0];x[1]=y[1]*z[1];x[2]=y[2]*z[2];x[3]=y[3]*z[3];return x}function ua(x,y,z){x[0]=y[0]/z[0];x[1]=y[1]/z[1];x[2]=y[2]/z[2];x[3]=y[3]/z[3];return x}function va(x,y){x[0]=Math.ceil(y[0]);x[1]=Math.ceil(y[1]);x[2]=Math.ceil(y[2]);x[3]=Math.ceil(y[3]);return x}function wa(x,y){x[0]=Math.floor(y[0]);x[1]=Math.floor(y[1]);x[2]=Math.floor(y[2]);x[3]=Math.floor(y[3]);return x}function xa(x,y,z){x[0]=Math.min(y[0],z[0]);x[1]=Math.min(y[1],z[1]);x[2]=Math.min(y[2],z[2]);x[3]=Math.min(y[3],z[3]);return x}function g(x,y,z){x[0]=Math.max(y[0],z[0]);x[1]=Math.max(y[1],z[1]);x[2]=Math.max(y[2],z[2]);x[3]=Math.max(y[3],z[3]);return x}function ya(x,y){x[0]=Math.round(y[0]);x[1]=Math.round(y[1]);x[2]=Math.round(y[2]);x[3]=Math.round(y[3]);return x}function h(x,y,z){x[0]=y[0]*z;x[1]=y[1]*z;x[2]=y[2]*z;x[3]=y[3]*z;return x}function i(x,y,z,h){x[0]=y[0]+z[0]*h;x[1]=y[1]+z[1]*h;x[2]=y[2]+z[2]*h;x[3]=y[3]+z[3]*h;return x}function za(x,y){var z=y[0]-x[0],A=y[1]-x[1],B=y[2]-x[2],C=y[3]-x[3];return Math.sqrt(z*z+A*A+B*B+C*C)}function Aa(x,y){var z=y[0]-x[0],A=y[1]-x[1],B=y[2]-x[2],C=y[3]-x[3];return z*z+A*A+B*B+C*C}function Ba(x){var y=x[0],z=x[1],A=x[2],B=x[3];return Math.sqrt(y*y+z*z+A*A+B*B)}function Ca(x){var y=x[0],z=x[1],A=x[2],B=x[3];return y*y+z*z+A*A+B*B}function Da(x,y){x[0]=-y[0];x[1]=-y[1];x[2]=-y[2];x[3]=-y[3];return x}function Ea(x,y){x[0]=1/y[0];x[1]=1/y[1];x[2]=1/y[2];x[3]=1/y[3];return x}function Fa(x,y){var z=y[0],A=y[1],B=y[2],C=y[3],u=z*z+A*A+B*B+C*C;if(u>0){u=1/Math.sqrt(u);x[0]=z*u;x[1]=A*u;x[2]=B*u;x[3]=C*u}return x}function Ga(x,y){return x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3]}function Ha(x,y,z,A){var B=y[0],C=y[1],D=y[2],E=y[3];x[0]=B+A*(z[0]-B);x[1]=C+A*(z[1]-C);x[2]=D+A*(z[2]-D);x[3]=E+A*(z[3]-E);return x}function j(x,y){y=y||1;x[0]=c.RANDOM();x[1]=c.RANDOM();x[2]=c.RANDOM();x[3]=c.RANDOM();Fa(x,x);h(x,x,y);return x}function k(x,y,z){var A=y[0],B=y[1],C=y[2],D=y[3];x[0]=z[0]*A+z[4]*B+z[8]*C+z[12]*D;x[1]=z[1]*A+z[5]*B+z[9]*C+z[13]*D;x[2]=z[2]*A+z[6]*B+z[10]*C+z[14]*D;x[3]=z[3]*A+z[7]*B+z[11]*C+z[15]*D;return x}function l(x,y,z){var A=y[0],B=y[1],C=y[2],D=z[0],E=z[1],F=z[2],G=z[3],H=G*A+E*C-F*B,I=G*B+F*A-D*C,J=G*C+D*B-E*A,K=-D*A-E*B-F*C;x[0]=H*G+K*-D+I*-F-J*-E;x[1]=I*G+K*-E+J*-D-H*-F;x[2]=J*G+K*-F+H*-E-I*-D;x[3]=y[3];return x}function m(x){return"vec4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")"}function n(x,y){return x[0]===y[0]&&x[1]===y[1]&&x[2]===y[2]&&x[3]===y[3]}function o(x,y){var z=x[0],A=x[1],B=x[2],C=x[3],D=y[0],E=y[1],F=y[2],G=y[3];return Math.abs(z-D)<=c.EPSILON*Math.max(1,Math.abs(z),Math.abs(D))&&Math.abs(A-E)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(E))&&Math.abs(B-F)<=c.EPSILON*Math.max(1,Math.abs(B),Math.abs(F))&&Math.abs(C-G)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(G))}var p=a.sub=sa,q=a.mul=ta,r=a.div=ua,s=a.dist=za,t=a.sqrDist=Aa,u=a.len=Ba,v=a.sqrLen=Ca,w=a.forEach=function(){__p&&__p();var x=e();return function(y,z,A,B,C,D){__p&&__p();var E=void 0,F=void 0;if(!z)z=4;if(!A)A=0;if(B)F=Math.min(B*z+A,y.length);else F=y.length;for(E=A;E<F;E+=z){x[0]=y[E];x[1]=y[E+1];x[2]=y[E+2];x[3]=y[E+3];C(x,x,D);y[E]=x[0];y[E+1]=x[1];y[E+2]=x[2];y[E+3]=x[3]}return y}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.vec4=a.vec3=a.vec2=a.quat=a.mat4=a.mat3=a.mat2d=a.mat2=a.glMatrix=undefined;var na=b(0),c=i(na),d=b(5),e=i(d),oa=b(6),pa=i(oa),qa=b(1),f=i(qa),ra=b(7),sa=i(ra),ta=b(8),ua=i(ta),va=b(9),wa=i(va),xa=b(2),g=i(xa),ya=b(3),h=i(ya);function i(za){__p&&__p();if(za&&za.__esModule)return za;else{var Aa={};if(za!=null)for(var Ba in za)if(Object.prototype.hasOwnProperty.call(za,Ba))Aa[Ba]=za[Ba];Aa["default"]=za;return Aa}}a.glMatrix=c;a.mat2=e;a.mat2d=pa;a.mat3=f;a.mat4=sa;a.quat=ua;a.vec2=wa;a.vec3=g;a.vec4=h},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.identity=qa;a.fromValues=f;a.set=ra;a.transpose=sa;a.invert=ta;a.adjoint=ua;a.determinant=va;a.multiply=wa;a.rotate=xa;a.scale=g;a.fromRotation=ya;a.fromScaling=h;a.str=i;a.frob=za;a.LDU=Aa;a.add=Ba;a.subtract=Ca;a.exactEquals=Da;a.equals=Ea;a.multiplyScalar=Fa;a.multiplyScalarAndAdd=Ga;var na=b(0),c=d(na);function d(k){__p&&__p();if(k&&k.__esModule)return k;else{var l={};if(k!=null)for(var m in k)if(Object.prototype.hasOwnProperty.call(k,m))l[m]=k[m];l["default"]=k;return l}}function e(){var k=new c.ARRAY_TYPE(4);k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k}function oa(k){var l=new c.ARRAY_TYPE(4);l[0]=k[0];l[1]=k[1];l[2]=k[2];l[3]=k[3];return l}function pa(k,l){k[0]=l[0];k[1]=l[1];k[2]=l[2];k[3]=l[3];return k}function qa(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k}function f(k,l,m,n){var o=new c.ARRAY_TYPE(4);o[0]=k;o[1]=l;o[2]=m;o[3]=n;return o}function ra(k,l,m,n,o){k[0]=l;k[1]=m;k[2]=n;k[3]=o;return k}function sa(k,l){__p&&__p();if(k===l){var m=l[1];k[1]=l[2];k[2]=m}else{k[0]=l[0];k[1]=l[2];k[2]=l[1];k[3]=l[3]}return k}function ta(k,l){var m=l[0],n=l[1],o=l[2],p=l[3],q=m*p-o*n;if(!q)return null;q=1/q;k[0]=p*q;k[1]=-n*q;k[2]=-o*q;k[3]=m*q;return k}function ua(k,l){var m=l[0];k[0]=l[3];k[1]=-l[1];k[2]=-l[2];k[3]=m;return k}function va(k){return k[0]*k[3]-k[2]*k[1]}function wa(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=m[0],s=m[1],t=m[2],u=m[3];k[0]=n*r+p*s;k[1]=o*r+q*s;k[2]=n*t+p*u;k[3]=o*t+q*u;return k}function xa(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=Math.sin(m),s=Math.cos(m);k[0]=n*s+p*r;k[1]=o*s+q*r;k[2]=n*-r+p*s;k[3]=o*-r+q*s;return k}function g(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=m[0],s=m[1];k[0]=n*r;k[1]=o*r;k[2]=p*s;k[3]=q*s;return k}function ya(k,l){var m=Math.sin(l),n=Math.cos(l);k[0]=n;k[1]=m;k[2]=-m;k[3]=n;return k}function h(k,l){k[0]=l[0];k[1]=0;k[2]=0;k[3]=l[1];return k}function i(k){return"mat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"}function za(k){return Math.sqrt(Math.pow(k[0],2)+Math.pow(k[1],2)+Math.pow(k[2],2)+Math.pow(k[3],2))}function Aa(k,l,m,n){k[2]=n[2]/n[0];m[0]=n[0];m[1]=n[1];m[3]=n[3]-k[2]*m[1];return[k,l,m]}function Ba(k,l,m){k[0]=l[0]+m[0];k[1]=l[1]+m[1];k[2]=l[2]+m[2];k[3]=l[3]+m[3];return k}function Ca(k,l,m){k[0]=l[0]-m[0];k[1]=l[1]-m[1];k[2]=l[2]-m[2];k[3]=l[3]-m[3];return k}function Da(k,l){return k[0]===l[0]&&k[1]===l[1]&&k[2]===l[2]&&k[3]===l[3]}function Ea(k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=l[0],r=l[1],s=l[2],t=l[3];return Math.abs(m-q)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(n-r)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(o-s)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(p-t)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(t))}function Fa(k,l,m){k[0]=l[0]*m;k[1]=l[1]*m;k[2]=l[2]*m;k[3]=l[3]*m;return k}function Ga(k,l,m,g){k[0]=l[0]+m[0]*g;k[1]=l[1]+m[1]*g;k[2]=l[2]+m[2]*g;k[3]=l[3]+m[3]*g;return k}var Ha=a.mul=wa,j=a.sub=Ca},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.identity=qa;a.fromValues=f;a.set=ra;a.invert=sa;a.determinant=ta;a.multiply=ua;a.rotate=va;a.scale=wa;a.translate=xa;a.fromRotation=g;a.fromScaling=ya;a.fromTranslation=h;a.str=i;a.frob=za;a.add=Aa;a.subtract=Ba;a.multiplyScalar=Ca;a.multiplyScalarAndAdd=Da;a.exactEquals=Ea;a.equals=Fa;var na=b(0),c=d(na);function d(j){__p&&__p();if(j&&j.__esModule)return j;else{var k={};if(j!=null)for(var l in j)if(Object.prototype.hasOwnProperty.call(j,l))k[l]=j[l];k["default"]=j;return k}}function e(){var j=new c.ARRAY_TYPE(6);j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=0;j[5]=0;return j}function oa(j){var k=new c.ARRAY_TYPE(6);k[0]=j[0];k[1]=j[1];k[2]=j[2];k[3]=j[3];k[4]=j[4];k[5]=j[5];return k}function pa(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];return j}function qa(j){j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=0;j[5]=0;return j}function f(j,k,l,m,n,o){var p=new c.ARRAY_TYPE(6);p[0]=j;p[1]=k;p[2]=l;p[3]=m;p[4]=n;p[5]=o;return p}function ra(j,k,l,m,n,o,p){j[0]=k;j[1]=l;j[2]=m;j[3]=n;j[4]=o;j[5]=p;return j}function sa(j,k){__p&&__p();var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=l*o-m*n;if(!r)return null;r=1/r;j[0]=o*r;j[1]=-m*r;j[2]=-n*r;j[3]=l*r;j[4]=(n*q-o*p)*r;j[5]=(m*p-l*q)*r;return j}function ta(j){return j[0]*j[3]-j[1]*j[2]}function ua(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1],u=l[2],v=l[3],w=l[4],x=l[5];j[0]=m*s+o*t;j[1]=n*s+p*t;j[2]=m*u+o*v;j[3]=n*u+p*v;j[4]=m*w+o*x+q;j[5]=n*w+p*x+r;return j}function va(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=Math.sin(l),t=Math.cos(l);j[0]=m*t+o*s;j[1]=n*t+p*s;j[2]=m*-s+o*t;j[3]=n*-s+p*t;j[4]=q;j[5]=r;return j}function wa(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1];j[0]=m*s;j[1]=n*s;j[2]=o*t;j[3]=p*t;j[4]=q;j[5]=r;return j}function xa(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1];j[0]=m;j[1]=n;j[2]=o;j[3]=p;j[4]=m*s+o*t+q;j[5]=n*s+p*t+r;return j}function g(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=l;j[2]=-l;j[3]=m;j[4]=0;j[5]=0;return j}function ya(j,k){j[0]=k[0];j[1]=0;j[2]=0;j[3]=k[1];j[4]=0;j[5]=0;return j}function h(j,k){j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=k[0];j[5]=k[1];return j}function i(j){return"mat2d("+j[0]+", "+j[1]+", "+j[2]+", "+j[3]+", "+j[4]+", "+j[5]+")"}function za(j){return Math.sqrt(Math.pow(j[0],2)+Math.pow(j[1],2)+Math.pow(j[2],2)+Math.pow(j[3],2)+Math.pow(j[4],2)+Math.pow(j[5],2)+1)}function Aa(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];j[3]=k[3]+l[3];j[4]=k[4]+l[4];j[5]=k[5]+l[5];return j}function Ba(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];j[3]=k[3]-l[3];j[4]=k[4]-l[4];j[5]=k[5]-l[5];return j}function Ca(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;j[3]=k[3]*l;j[4]=k[4]*l;j[5]=k[5]*l;return j}function Da(j,k,l,wa){j[0]=k[0]+l[0]*wa;j[1]=k[1]+l[1]*wa;j[2]=k[2]+l[2]*wa;j[3]=k[3]+l[3]*wa;j[4]=k[4]+l[4]*wa;j[5]=k[5]+l[5]*wa;return j}function Ea(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2]&&j[3]===k[3]&&j[4]===k[4]&&j[5]===k[5]}function Fa(j,k){var l=j[0],m=j[1],n=j[2],o=j[3],p=j[4],q=j[5],r=k[0],s=k[1],t=k[2],u=k[3],v=k[4],w=k[5];return Math.abs(l-r)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(r))&&Math.abs(m-s)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(s))&&Math.abs(n-t)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(t))&&Math.abs(o-u)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(p-v)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(v))&&Math.abs(q-w)<=c.EPSILON*Math.max(1,Math.abs(q),Math.abs(w))}var Ga=a.mul=ua,Ha=a.sub=Ba},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.fromValues=qa;a.set=f;a.identity=ra;a.transpose=sa;a.invert=ta;a.adjoint=ua;a.determinant=va;a.multiply=wa;a.translate=xa;a.scale=g;a.rotate=ya;a.rotateX=h;a.rotateY=i;a.rotateZ=za;a.fromTranslation=Aa;a.fromScaling=Ba;a.fromRotation=Ca;a.fromXRotation=Da;a.fromYRotation=Ea;a.fromZRotation=Fa;a.fromRotationTranslation=Ga;a.getTranslation=Ha;a.getScaling=j;a.getRotation=k;a.fromRotationTranslationScale=l;a.fromRotationTranslationScaleOrigin=m;a.fromQuat=n;a.frustum=o;a.perspective=p;a.perspectiveFromFieldOfView=q;a.ortho=r;a.lookAt=s;a.targetTo=t;a.str=u;a.frob=v;a.add=w;a.subtract=x;a.multiplyScalar=y;a.multiplyScalarAndAdd=z;a.exactEquals=A;a.equals=B;var na=b(0),c=d(na);function d(E){__p&&__p();if(E&&E.__esModule)return E;else{var F={};if(E!=null)for(var G in E)if(Object.prototype.hasOwnProperty.call(E,G))F[G]=E[G];F["default"]=E;return F}}function e(){__p&&__p();var E=new c.ARRAY_TYPE(16);E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function oa(E){__p&&__p();var F=new c.ARRAY_TYPE(16);F[0]=E[0];F[1]=E[1];F[2]=E[2];F[3]=E[3];F[4]=E[4];F[5]=E[5];F[6]=E[6];F[7]=E[7];F[8]=E[8];F[9]=E[9];F[10]=E[10];F[11]=E[11];F[12]=E[12];F[13]=E[13];F[14]=E[14];F[15]=E[15];return F}function pa(E,F){__p&&__p();E[0]=F[0];E[1]=F[1];E[2]=F[2];E[3]=F[3];E[4]=F[4];E[5]=F[5];E[6]=F[6];E[7]=F[7];E[8]=F[8];E[9]=F[9];E[10]=F[10];E[11]=F[11];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15];return E}function qa(E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T){__p&&__p();var U=new c.ARRAY_TYPE(16);U[0]=E;U[1]=F;U[2]=G;U[3]=H;U[4]=I;U[5]=J;U[6]=K;U[7]=L;U[8]=M;U[9]=N;U[10]=O;U[11]=P;U[12]=Q;U[13]=R;U[14]=S;U[15]=T;return U}function f(E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U){__p&&__p();E[0]=F;E[1]=G;E[2]=H;E[3]=I;E[4]=J;E[5]=K;E[6]=L;E[7]=M;E[8]=N;E[9]=O;E[10]=P;E[11]=Q;E[12]=R;E[13]=S;E[14]=T;E[15]=U;return E}function ra(E){__p&&__p();E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function sa(E,F){__p&&__p();if(E===F){var G=F[1],H=F[2],I=F[3],J=F[6],K=F[7],L=F[11];E[1]=F[4];E[2]=F[8];E[3]=F[12];E[4]=G;E[6]=F[9];E[7]=F[13];E[8]=H;E[9]=J;E[11]=F[14];E[12]=I;E[13]=K;E[14]=L}else{E[0]=F[0];E[1]=F[4];E[2]=F[8];E[3]=F[12];E[4]=F[1];E[5]=F[5];E[6]=F[9];E[7]=F[13];E[8]=F[2];E[9]=F[6];E[10]=F[10];E[11]=F[14];E[12]=F[3];E[13]=F[7];E[14]=F[11];E[15]=F[15]}return E}function ta(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=F[7],O=F[8],P=F[9],Q=F[10],R=F[11],S=F[12],T=F[13],U=F[14],V=F[15],W=G*L-H*K,X=G*M-I*K,Y=G*N-J*K,Z=H*M-I*L,$=H*N-J*L,Ia=I*N-J*M,Ja=O*T-P*S,Ka=O*U-Q*S,La=O*V-R*S,Ma=P*U-Q*T,Na=P*V-R*T,Oa=Q*V-R*U,Pa=W*Oa-X*Na+Y*Ma+Z*La-$*Ka+Ia*Ja;if(!Pa)return null;Pa=1/Pa;E[0]=(L*Oa-M*Na+N*Ma)*Pa;E[1]=(I*Na-H*Oa-J*Ma)*Pa;E[2]=(T*Ia-U*$+V*Z)*Pa;E[3]=(Q*$-P*Ia-R*Z)*Pa;E[4]=(M*La-K*Oa-N*Ka)*Pa;E[5]=(G*Oa-I*La+J*Ka)*Pa;E[6]=(U*Y-S*Ia-V*X)*Pa;E[7]=(O*Ia-Q*Y+R*X)*Pa;E[8]=(K*Na-L*La+N*Ja)*Pa;E[9]=(H*La-G*Na-J*Ja)*Pa;E[10]=(S*$-T*Y+V*W)*Pa;E[11]=(P*Y-O*$-R*W)*Pa;E[12]=(L*Ka-K*Ma-M*Ja)*Pa;E[13]=(G*Ma-H*Ka+I*Ja)*Pa;E[14]=(T*X-S*Z-U*W)*Pa;E[15]=(O*Z-P*X+Q*W)*Pa;return E}function ua(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=F[7],O=F[8],P=F[9],Q=F[10],R=F[11],S=F[12],T=F[13],U=F[14],V=F[15];E[0]=L*(Q*V-R*U)-P*(M*V-N*U)+T*(M*R-N*Q);E[1]=-(H*(Q*V-R*U)-P*(I*V-J*U)+T*(I*R-J*Q));E[2]=H*(M*V-N*U)-L*(I*V-J*U)+T*(I*N-J*M);E[3]=-(H*(M*R-N*Q)-L*(I*R-J*Q)+P*(I*N-J*M));E[4]=-(K*(Q*V-R*U)-O*(M*V-N*U)+S*(M*R-N*Q));E[5]=G*(Q*V-R*U)-O*(I*V-J*U)+S*(I*R-J*Q);E[6]=-(G*(M*V-N*U)-K*(I*V-J*U)+S*(I*N-J*M));E[7]=G*(M*R-N*Q)-K*(I*R-J*Q)+O*(I*N-J*M);E[8]=K*(P*V-R*T)-O*(L*V-N*T)+S*(L*R-N*P);E[9]=-(G*(P*V-R*T)-O*(H*V-J*T)+S*(H*R-J*P));E[10]=G*(L*V-N*T)-K*(H*V-J*T)+S*(H*N-J*L);E[11]=-(G*(L*R-N*P)-K*(H*R-J*P)+O*(H*N-J*L));E[12]=-(K*(P*U-Q*T)-O*(L*U-M*T)+S*(L*Q-M*P));E[13]=G*(P*U-Q*T)-O*(H*U-I*T)+S*(H*Q-I*P);E[14]=-(G*(L*U-M*T)-K*(H*U-I*T)+S*(H*M-I*L));E[15]=G*(L*Q-M*P)-K*(H*Q-I*P)+O*(H*M-I*L);return E}function va(E){var F=E[0],G=E[1],H=E[2],I=E[3],J=E[4],K=E[5],L=E[6],M=E[7],N=E[8],O=E[9],P=E[10],Q=E[11],R=E[12],S=E[13],T=E[14],U=E[15],V=F*K-G*J,W=F*L-H*J,X=F*M-I*J,Y=G*L-H*K,Z=G*M-I*K,$=H*M-I*L,Ia=N*S-O*R,Ja=N*T-P*R,Ka=N*U-Q*R,La=O*T-P*S,Ma=O*U-Q*S,Na=P*U-Q*T;return V*Na-W*Ma+X*La+Y*Ka-Z*Ja+$*Ia}function wa(E,F,G){__p&&__p();var H=F[0],I=F[1],J=F[2],K=F[3],L=F[4],M=F[5],N=F[6],O=F[7],P=F[8],Q=F[9],R=F[10],S=F[11],T=F[12],U=F[13],V=F[14],W=F[15],X=G[0],Y=G[1],Z=G[2],$=G[3];E[0]=X*H+Y*L+Z*P+$*T;E[1]=X*I+Y*M+Z*Q+$*U;E[2]=X*J+Y*N+Z*R+$*V;E[3]=X*K+Y*O+Z*S+$*W;X=G[4];Y=G[5];Z=G[6];$=G[7];E[4]=X*H+Y*L+Z*P+$*T;E[5]=X*I+Y*M+Z*Q+$*U;E[6]=X*J+Y*N+Z*R+$*V;E[7]=X*K+Y*O+Z*S+$*W;X=G[8];Y=G[9];Z=G[10];$=G[11];E[8]=X*H+Y*L+Z*P+$*T;E[9]=X*I+Y*M+Z*Q+$*U;E[10]=X*J+Y*N+Z*R+$*V;E[11]=X*K+Y*O+Z*S+$*W;X=G[12];Y=G[13];Z=G[14];$=G[15];E[12]=X*H+Y*L+Z*P+$*T;E[13]=X*I+Y*M+Z*Q+$*U;E[14]=X*J+Y*N+Z*R+$*V;E[15]=X*K+Y*O+Z*S+$*W;return E}function xa(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2],K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0;if(F===E){E[12]=F[0]*H+F[4]*I+F[8]*J+F[12];E[13]=F[1]*H+F[5]*I+F[9]*J+F[13];E[14]=F[2]*H+F[6]*I+F[10]*J+F[14];E[15]=F[3]*H+F[7]*I+F[11]*J+F[15]}else{K=F[0];L=F[1];M=F[2];N=F[3];O=F[4];P=F[5];Q=F[6];R=F[7];S=F[8];T=F[9];U=F[10];V=F[11];E[0]=K;E[1]=L;E[2]=M;E[3]=N;E[4]=O;E[5]=P;E[6]=Q;E[7]=R;E[8]=S;E[9]=T;E[10]=U;E[11]=V;E[12]=K*H+O*I+S*J+F[12];E[13]=L*H+P*I+T*J+F[13];E[14]=M*H+Q*I+U*J+F[14];E[15]=N*H+R*I+V*J+F[15]}return E}function g(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2];E[0]=F[0]*H;E[1]=F[1]*H;E[2]=F[2]*H;E[3]=F[3]*H;E[4]=F[4]*I;E[5]=F[5]*I;E[6]=F[6]*I;E[7]=F[7]*I;E[8]=F[8]*J;E[9]=F[9]*J;E[10]=F[10]*J;E[11]=F[11]*J;E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15];return E}function ya(E,F,G,H){__p&&__p();var I=H[0],J=H[1],K=H[2],L=Math.sqrt(I*I+J*J+K*K),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0;if(Math.abs(L)<c.EPSILON)return null;L=1/L;I*=L;J*=L;K*=L;M=Math.sin(G);N=Math.cos(G);O=1-N;P=F[0];Q=F[1];R=F[2];S=F[3];T=F[4];U=F[5];V=F[6];W=F[7];X=F[8];Y=F[9];Z=F[10];$=F[11];Ia=I*I*O+N;Ja=J*I*O+K*M;Ka=K*I*O-J*M;La=I*J*O-K*M;Ma=J*J*O+N;Na=K*J*O+I*M;Oa=I*K*O+J*M;Pa=J*K*O-I*M;Qa=K*K*O+N;E[0]=P*Ia+T*Ja+X*Ka;E[1]=Q*Ia+U*Ja+Y*Ka;E[2]=R*Ia+V*Ja+Z*Ka;E[3]=S*Ia+W*Ja+$*Ka;E[4]=P*La+T*Ma+X*Na;E[5]=Q*La+U*Ma+Y*Na;E[6]=R*La+V*Ma+Z*Na;E[7]=S*La+W*Ma+$*Na;E[8]=P*Oa+T*Pa+X*Qa;E[9]=Q*Oa+U*Pa+Y*Qa;E[10]=R*Oa+V*Pa+Z*Qa;E[11]=S*Oa+W*Pa+$*Qa;if(F!==E){E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}return E}function h(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[4],K=F[5],L=F[6],M=F[7],N=F[8],O=F[9],P=F[10],Q=F[11];if(F!==E){E[0]=F[0];E[1]=F[1];E[2]=F[2];E[3]=F[3];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[4]=J*I+N*H;E[5]=K*I+O*H;E[6]=L*I+P*H;E[7]=M*I+Q*H;E[8]=N*I-J*H;E[9]=O*I-K*H;E[10]=P*I-L*H;E[11]=Q*I-M*H;return E}function i(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[0],K=F[1],L=F[2],M=F[3],N=F[8],O=F[9],P=F[10],Q=F[11];if(F!==E){E[4]=F[4];E[5]=F[5];E[6]=F[6];E[7]=F[7];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[0]=J*I-N*H;E[1]=K*I-O*H;E[2]=L*I-P*H;E[3]=M*I-Q*H;E[8]=J*H+N*I;E[9]=K*H+O*I;E[10]=L*H+P*I;E[11]=M*H+Q*I;return E}function za(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[0],K=F[1],L=F[2],M=F[3],N=F[4],O=F[5],P=F[6],Q=F[7];if(F!==E){E[8]=F[8];E[9]=F[9];E[10]=F[10];E[11]=F[11];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[0]=J*I+N*H;E[1]=K*I+O*H;E[2]=L*I+P*H;E[3]=M*I+Q*H;E[4]=N*I-J*H;E[5]=O*I-K*H;E[6]=P*I-L*H;E[7]=Q*I-M*H;return E}function Aa(E,F){__p&&__p();E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=F[0];E[13]=F[1];E[14]=F[2];E[15]=1;return E}function Ba(E,F){__p&&__p();E[0]=F[0];E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=F[1];E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=F[2];E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ca(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2],K=Math.sqrt(H*H+I*I+J*J),L=void 0,M=void 0,N=void 0;if(Math.abs(K)<c.EPSILON)return null;K=1/K;H*=K;I*=K;J*=K;L=Math.sin(F);M=Math.cos(F);N=1-M;E[0]=H*H*N+M;E[1]=I*H*N+J*L;E[2]=J*H*N-I*L;E[3]=0;E[4]=H*I*N-J*L;E[5]=I*I*N+M;E[6]=J*I*N+H*L;E[7]=0;E[8]=H*J*N+I*L;E[9]=I*J*N-H*L;E[10]=J*J*N+M;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Da(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=H;E[6]=G;E[7]=0;E[8]=0;E[9]=-G;E[10]=H;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ea(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=H;E[1]=0;E[2]=-G;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=G;E[9]=0;E[10]=H;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Fa(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=H;E[1]=G;E[2]=0;E[3]=0;E[4]=-G;E[5]=H;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ga(E,F,G){__p&&__p();var H=F[0],I=F[1],J=F[2],K=F[3],L=H+H,M=I+I,N=J+J,O=H*L,P=H*M,Q=H*N,R=I*M,S=I*N,T=J*N,U=K*L,V=K*M,W=K*N;E[0]=1-(R+T);E[1]=P+W;E[2]=Q-V;E[3]=0;E[4]=P-W;E[5]=1-(O+T);E[6]=S+U;E[7]=0;E[8]=Q+V;E[9]=S-U;E[10]=1-(O+R);E[11]=0;E[12]=G[0];E[13]=G[1];E[14]=G[2];E[15]=1;return E}function Ha(E,F){E[0]=F[12];E[1]=F[13];E[2]=F[14];return E}function j(E,F){var G=F[0],H=F[1],I=F[2],J=F[4],K=F[5],L=F[6],M=F[8],N=F[9],O=F[10];E[0]=Math.sqrt(G*G+H*H+I*I);E[1]=Math.sqrt(J*J+K*K+L*L);E[2]=Math.sqrt(M*M+N*N+O*O);return E}function k(E,F){__p&&__p();var G=F[0]+F[5]+F[10],H=0;if(G>0){H=Math.sqrt(G+1)*2;E[3]=.25*H;E[0]=(F[6]-F[9])/H;E[1]=(F[8]-F[2])/H;E[2]=(F[1]-F[4])/H}else if(F[0]>F[5]&F[0]>F[10]){H=Math.sqrt(1+F[0]-F[5]-F[10])*2;E[3]=(F[6]-F[9])/H;E[0]=.25*H;E[1]=(F[1]+F[4])/H;E[2]=(F[8]+F[2])/H}else if(F[5]>F[10]){H=Math.sqrt(1+F[5]-F[0]-F[10])*2;E[3]=(F[8]-F[2])/H;E[0]=(F[1]+F[4])/H;E[1]=.25*H;E[2]=(F[6]+F[9])/H}else{H=Math.sqrt(1+F[10]-F[0]-F[5])*2;E[3]=(F[1]-F[4])/H;E[0]=(F[8]+F[2])/H;E[1]=(F[6]+F[9])/H;E[2]=.25*H}return E}function l(E,F,G,H){__p&&__p();var I=F[0],J=F[1],K=F[2],L=F[3],M=I+I,N=J+J,O=K+K,P=I*M,Q=I*N,R=I*O,S=J*N,T=J*O,U=K*O,V=L*M,W=L*N,X=L*O,Y=H[0],Z=H[1],$=H[2];E[0]=(1-(S+U))*Y;E[1]=(Q+X)*Y;E[2]=(R-W)*Y;E[3]=0;E[4]=(Q-X)*Z;E[5]=(1-(P+U))*Z;E[6]=(T+V)*Z;E[7]=0;E[8]=(R+W)*$;E[9]=(T-V)*$;E[10]=(1-(P+S))*$;E[11]=0;E[12]=G[0];E[13]=G[1];E[14]=G[2];E[15]=1;return E}function m(E,F,G,H,I){__p&&__p();var J=F[0],K=F[1],L=F[2],M=F[3],N=J+J,O=K+K,P=L+L,Q=J*N,R=J*O,S=J*P,T=K*O,U=K*P,V=L*P,W=M*N,X=M*O,Y=M*P,Z=H[0],$=H[1],Ia=H[2],Ja=I[0],Ka=I[1],La=I[2];E[0]=(1-(T+V))*Z;E[1]=(R+Y)*Z;E[2]=(S-X)*Z;E[3]=0;E[4]=(R-Y)*$;E[5]=(1-(Q+V))*$;E[6]=(U+W)*$;E[7]=0;E[8]=(S+X)*Ia;E[9]=(U-W)*Ia;E[10]=(1-(Q+T))*Ia;E[11]=0;E[12]=G[0]+Ja-(E[0]*Ja+E[4]*Ka+E[8]*La);E[13]=G[1]+Ka-(E[1]*Ja+E[5]*Ka+E[9]*La);E[14]=G[2]+La-(E[2]*Ja+E[6]*Ka+E[10]*La);E[15]=1;return E}function n(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=G+G,L=H+H,M=I+I,N=G*K,O=H*K,P=H*L,Q=I*K,R=I*L,S=I*M,T=J*K,U=J*L,V=J*M;E[0]=1-P-S;E[1]=O+V;E[2]=Q-U;E[3]=0;E[4]=O-V;E[5]=1-N-S;E[6]=R+T;E[7]=0;E[8]=Q+U;E[9]=R-T;E[10]=1-N-P;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function o(E,F,G,H,I,J,K){__p&&__p();var L=1/(G-F),M=1/(I-H),N=1/(J-K);E[0]=J*2*L;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=J*2*M;E[6]=0;E[7]=0;E[8]=(G+F)*L;E[9]=(I+H)*M;E[10]=(K+J)*N;E[11]=-1;E[12]=0;E[13]=0;E[14]=K*J*2*N;E[15]=0;return E}function p(E,F,G,H,I){__p&&__p();var J=1/Math.tan(F/2),K=1/(H-I);E[0]=J/G;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=J;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=(I+H)*K;E[11]=-1;E[12]=0;E[13]=0;E[14]=2*I*H*K;E[15]=0;return E}function q(E,F,G,H){__p&&__p();var I=Math.tan(F.upDegrees*Math.PI/180),J=Math.tan(F.downDegrees*Math.PI/180),K=Math.tan(F.leftDegrees*Math.PI/180),L=Math.tan(F.rightDegrees*Math.PI/180),M=2/(K+L),N=2/(I+J);E[0]=M;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=N;E[6]=0;E[7]=0;E[8]=-((K-L)*M*.5);E[9]=(I-J)*N*.5;E[10]=H/(G-H);E[11]=-1;E[12]=0;E[13]=0;E[14]=H*G/(G-H);E[15]=0;return E}function r(E,F,G,H,I,J,K){__p&&__p();var L=1/(F-G),M=1/(H-I),N=1/(J-K);E[0]=-2*L;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=-2*M;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=2*N;E[11]=0;E[12]=(F+G)*L;E[13]=(I+H)*M;E[14]=(K+J)*N;E[15]=1;return E}function s(E,F,G,H){__p&&__p();var I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=F[0],T=F[1],U=F[2],V=H[0],W=H[1],X=H[2],Y=G[0],Z=G[1],$=G[2];if(Math.abs(S-Y)<c.EPSILON&&Math.abs(T-Z)<c.EPSILON&&Math.abs(U-$)<c.EPSILON)return mat4.identity(E);O=S-Y;P=T-Z;Q=U-$;R=1/Math.sqrt(O*O+P*P+Q*Q);O*=R;P*=R;Q*=R;I=W*Q-X*P;J=X*O-V*Q;K=V*P-W*O;R=Math.sqrt(I*I+J*J+K*K);if(!R){I=0;J=0;K=0}else{R=1/R;I*=R;J*=R;K*=R}L=P*K-Q*J;M=Q*I-O*K;N=O*J-P*I;R=Math.sqrt(L*L+M*M+N*N);if(!R){L=0;M=0;N=0}else{R=1/R;L*=R;M*=R;N*=R}E[0]=I;E[1]=L;E[2]=O;E[3]=0;E[4]=J;E[5]=M;E[6]=P;E[7]=0;E[8]=K;E[9]=N;E[10]=Q;E[11]=0;E[12]=-(I*S+J*T+K*U);E[13]=-(L*S+M*T+N*U);E[14]=-(O*S+P*T+Q*U);E[15]=1;return E}function t(E,F,G,H){__p&&__p();var I=F[0],J=F[1],K=F[2],L=H[0],M=H[1],N=H[2],O=I-G[0],P=J-G[1],Q=K-G[2],R=O*O+P*P+Q*Q;if(R>0){R=1/Math.sqrt(R);O*=R;P*=R;Q*=R}var S=M*Q-N*P,T=N*O-L*Q,U=L*P-M*O;E[0]=S;E[1]=T;E[2]=U;E[3]=0;E[4]=P*U-Q*T;E[5]=Q*S-O*U;E[6]=O*T-P*S;E[7]=0;E[8]=O;E[9]=P;E[10]=Q;E[11]=0;E[12]=I;E[13]=J;E[14]=K;E[15]=1;return E}function u(E){return"mat4("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+", "+E[4]+", "+E[5]+", "+E[6]+", "+E[7]+", "+E[8]+", "+E[9]+", "+E[10]+", "+E[11]+", "+E[12]+", "+E[13]+", "+E[14]+", "+E[15]+")"}function v(E){return Math.sqrt(Math.pow(E[0],2)+Math.pow(E[1],2)+Math.pow(E[2],2)+Math.pow(E[3],2)+Math.pow(E[4],2)+Math.pow(E[5],2)+Math.pow(E[6],2)+Math.pow(E[7],2)+Math.pow(E[8],2)+Math.pow(E[9],2)+Math.pow(E[10],2)+Math.pow(E[11],2)+Math.pow(E[12],2)+Math.pow(E[13],2)+Math.pow(E[14],2)+Math.pow(E[15],2))}function w(E,F,G){__p&&__p();E[0]=F[0]+G[0];E[1]=F[1]+G[1];E[2]=F[2]+G[2];E[3]=F[3]+G[3];E[4]=F[4]+G[4];E[5]=F[5]+G[5];E[6]=F[6]+G[6];E[7]=F[7]+G[7];E[8]=F[8]+G[8];E[9]=F[9]+G[9];E[10]=F[10]+G[10];E[11]=F[11]+G[11];E[12]=F[12]+G[12];E[13]=F[13]+G[13];E[14]=F[14]+G[14];E[15]=F[15]+G[15];return E}function x(E,F,G){__p&&__p();E[0]=F[0]-G[0];E[1]=F[1]-G[1];E[2]=F[2]-G[2];E[3]=F[3]-G[3];E[4]=F[4]-G[4];E[5]=F[5]-G[5];E[6]=F[6]-G[6];E[7]=F[7]-G[7];E[8]=F[8]-G[8];E[9]=F[9]-G[9];E[10]=F[10]-G[10];E[11]=F[11]-G[11];E[12]=F[12]-G[12];E[13]=F[13]-G[13];E[14]=F[14]-G[14];E[15]=F[15]-G[15];return E}function y(E,F,G){__p&&__p();E[0]=F[0]*G;E[1]=F[1]*G;E[2]=F[2]*G;E[3]=F[3]*G;E[4]=F[4]*G;E[5]=F[5]*G;E[6]=F[6]*G;E[7]=F[7]*G;E[8]=F[8]*G;E[9]=F[9]*G;E[10]=F[10]*G;E[11]=F[11]*G;E[12]=F[12]*G;E[13]=F[13]*G;E[14]=F[14]*G;E[15]=F[15]*G;return E}function z(E,F,G,g){__p&&__p();E[0]=F[0]+G[0]*g;E[1]=F[1]+G[1]*g;E[2]=F[2]+G[2]*g;E[3]=F[3]+G[3]*g;E[4]=F[4]+G[4]*g;E[5]=F[5]+G[5]*g;E[6]=F[6]+G[6]*g;E[7]=F[7]+G[7]*g;E[8]=F[8]+G[8]*g;E[9]=F[9]+G[9]*g;E[10]=F[10]+G[10]*g;E[11]=F[11]+G[11]*g;E[12]=F[12]+G[12]*g;E[13]=F[13]+G[13]*g;E[14]=F[14]+G[14]*g;E[15]=F[15]+G[15]*g;return E}function A(E,F){return E[0]===F[0]&&E[1]===F[1]&&E[2]===F[2]&&E[3]===F[3]&&E[4]===F[4]&&E[5]===F[5]&&E[6]===F[6]&&E[7]===F[7]&&E[8]===F[8]&&E[9]===F[9]&&E[10]===F[10]&&E[11]===F[11]&&E[12]===F[12]&&E[13]===F[13]&&E[14]===F[14]&&E[15]===F[15]}function B(E,F){var G=E[0],H=E[1],I=E[2],J=E[3],K=E[4],L=E[5],M=E[6],N=E[7],O=E[8],P=E[9],Q=E[10],R=E[11],S=E[12],T=E[13],U=E[14],V=E[15],W=F[0],X=F[1],Y=F[2],Z=F[3],$=F[4],Ia=F[5],Ja=F[6],Ka=F[7],La=F[8],Ma=F[9],Na=F[10],Oa=F[11],Pa=F[12],Qa=F[13],Ra=F[14],Sa=F[15];return Math.abs(G-W)<=c.EPSILON*Math.max(1,Math.abs(G),Math.abs(W))&&Math.abs(H-X)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(X))&&Math.abs(I-Y)<=c.EPSILON*Math.max(1,Math.abs(I),Math.abs(Y))&&Math.abs(J-Z)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(K-$)<=c.EPSILON*Math.max(1,Math.abs(K),Math.abs($))&&Math.abs(L-Ia)<=c.EPSILON*Math.max(1,Math.abs(L),Math.abs(Ia))&&Math.abs(M-Ja)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(Ja))&&Math.abs(N-Ka)<=c.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ka))&&Math.abs(O-La)<=c.EPSILON*Math.max(1,Math.abs(O),Math.abs(La))&&Math.abs(P-Ma)<=c.EPSILON*Math.max(1,Math.abs(P),Math.abs(Ma))&&Math.abs(Q-Na)<=c.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Na))&&Math.abs(R-Oa)<=c.EPSILON*Math.max(1,Math.abs(R),Math.abs(Oa))&&Math.abs(S-Pa)<=c.EPSILON*Math.max(1,Math.abs(S),Math.abs(Pa))&&Math.abs(T-Qa)<=c.EPSILON*Math.max(1,Math.abs(T),Math.abs(Qa))&&Math.abs(U-Ra)<=c.EPSILON*Math.max(1,Math.abs(U),Math.abs(Ra))&&Math.abs(V-Sa)<=c.EPSILON*Math.max(1,Math.abs(V),Math.abs(Sa))}var C=a.mul=wa,D=a.sub=x},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.setAxes=a.sqlerp=a.rotationTo=a.equals=a.exactEquals=a.normalize=a.sqrLen=a.squaredLength=a.len=a.length=a.lerp=a.dot=a.scale=a.mul=a.add=a.set=a.copy=a.fromValues=a.clone=undefined;a.create=sa;a.identity=ta;a.setAxisAngle=ua;a.getAxisAngle=va;a.multiply=wa;a.rotateX=xa;a.rotateY=g;a.rotateZ=ya;a.calculateW=h;a.slerp=i;a.invert=za;a.conjugate=Aa;a.fromMat3=Ba;a.fromEuler=Ca;a.str=Da;var na=b(0),c=ra(na),d=b(1),e=ra(d),oa=b(2),pa=ra(oa),qa=b(3),f=ra(qa);function ra(y){__p&&__p();if(y&&y.__esModule)return y;else{var z={};if(y!=null)for(var A in y)if(Object.prototype.hasOwnProperty.call(y,A))z[A]=y[A];z["default"]=y;return z}}function sa(){var y=new c.ARRAY_TYPE(4);y[0]=0;y[1]=0;y[2]=0;y[3]=1;return y}function ta(y){y[0]=0;y[1]=0;y[2]=0;y[3]=1;return y}function ua(y,z,A){A=A*.5;var B=Math.sin(A);y[0]=B*z[0];y[1]=B*z[1];y[2]=B*z[2];y[3]=Math.cos(A);return y}function va(y,z){__p&&__p();var A=Math.acos(z[3])*2,B=Math.sin(A/2);if(B!=0){y[0]=z[0]/B;y[1]=z[1]/B;y[2]=z[2]/B}else{y[0]=1;y[1]=0;y[2]=0}return A}function wa(y,z,A){var B=z[0],C=z[1],D=z[2],E=z[3],F=A[0],G=A[1],H=A[2],I=A[3];y[0]=B*I+E*F+C*H-D*G;y[1]=C*I+E*G+D*F-B*H;y[2]=D*I+E*H+B*G-C*F;y[3]=E*I-B*F-C*G-D*H;return y}function xa(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G+E*F;y[1]=C*G+D*F;y[2]=D*G-C*F;y[3]=E*G-B*F;return y}function g(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G-D*F;y[1]=C*G+E*F;y[2]=D*G+B*F;y[3]=E*G-C*F;return y}function ya(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G+C*F;y[1]=C*G-B*F;y[2]=D*G+E*F;y[3]=E*G-D*F;return y}function h(y,z){var A=z[0],B=z[1],C=z[2];y[0]=A;y[1]=B;y[2]=C;y[3]=Math.sqrt(Math.abs(1-A*A-B*B-C*C));return y}function i(y,z,A,B){__p&&__p();var C=z[0],D=z[1],E=z[2],F=z[3],G=A[0],H=A[1],I=A[2],J=A[3],K=void 0,L=void 0,M=void 0,N=void 0,O=void 0;L=C*G+D*H+E*I+F*J;if(L<0){L=-L;G=-G;H=-H;I=-I;J=-J}if(1-L>1e-6){K=Math.acos(L);M=Math.sin(K);N=Math.sin((1-B)*K)/M;O=Math.sin(B*K)/M}else{N=1-B;O=B}y[0]=N*C+O*G;y[1]=N*D+O*H;y[2]=N*E+O*I;y[3]=N*F+O*J;return y}function za(y,z){var A=z[0],B=z[1],C=z[2],D=z[3],m=A*A+B*B+C*C+D*D,E=m?1/m:0;y[0]=-A*E;y[1]=-B*E;y[2]=-C*E;y[3]=D*E;return y}function Aa(y,z){y[0]=-z[0];y[1]=-z[1];y[2]=-z[2];y[3]=z[3];return y}function Ba(y,z){__p&&__p();var A=z[0]+z[4]+z[8],B=void 0;if(A>0){B=Math.sqrt(A+1);y[3]=.5*B;B=.5/B;y[0]=(z[5]-z[7])*B;y[1]=(z[6]-z[2])*B;y[2]=(z[1]-z[3])*B}else{var C=0;if(z[4]>z[0])C=1;if(z[8]>z[C*3+C])C=2;var D=(C+1)%3,E=(C+2)%3;B=Math.sqrt(z[C*3+C]-z[D*3+D]-z[E*3+E]+1);y[C]=.5*B;B=.5/B;y[3]=(z[D*3+E]-z[E*3+D])*B;y[D]=(z[D*3+C]+z[C*3+D])*B;y[E]=(z[E*3+C]+z[C*3+E])*B}return y}function Ca(y,z,A,B){__p&&__p();var C=.5*Math.PI/180;z*=C;A*=C;B*=C;var D=Math.sin(z),E=Math.cos(z),F=Math.sin(A),G=Math.cos(A),H=Math.sin(B),I=Math.cos(B);y[0]=D*G*I-E*F*H;y[1]=E*F*I+D*G*H;y[2]=E*G*H-D*F*I;y[3]=E*G*I+D*F*H;return y}function Da(y){return"quat("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"}var Ea=a.clone=f.clone,Fa=a.fromValues=f.fromValues,Ga=a.copy=f.copy,Ha=a.set=f.set,j=a.add=f.add,k=a.mul=wa,l=a.scale=f.scale,m=a.dot=f.dot,n=a.lerp=f.lerp,o=a.length=f.length,p=a.len=o,q=a.squaredLength=f.squaredLength,r=a.sqrLen=q,s=a.normalize=f.normalize,t=a.exactEquals=f.exactEquals,u=a.equals=f.equals,v=a.rotationTo=function(){__p&&__p();var y=pa.create(),z=pa.fromValues(1,0,0),A=pa.fromValues(0,1,0);return function(B,C,D){__p&&__p();var m=pa.dot(C,D);if(m<-.999999){pa.cross(y,z,C);if(pa.len(y)<1e-6)pa.cross(y,A,C);pa.normalize(y,y);ua(B,y,Math.PI);return B}else if(m>.999999){B[0]=0;B[1]=0;B[2]=0;B[3]=1;return B}else{pa.cross(y,C,D);B[0]=y[0];B[1]=y[1];B[2]=y[2];B[3]=1+m;return s(B,B)}}}(),w=a.sqlerp=function(){var y=sa(),z=sa();return function(A,B,C,D,E,F){i(y,B,E,F);i(z,C,D,F);i(A,y,z,2*F*(1-F));return A}}(),x=a.setAxes=function(){__p&&__p();var y=e.create();return function(z,A,B,C){__p&&__p();y[0]=B[0];y[3]=B[1];y[6]=B[2];y[1]=C[0];y[4]=C[1];y[7]=C[2];y[2]=-A[0];y[5]=-A[1];y[8]=-A[2];return s(z,Ba(z,y))}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.len=undefined;a.create=e;a.clone=oa;a.fromValues=pa;a.copy=qa;a.set=f;a.add=ra;a.subtract=sa;a.multiply=ta;a.divide=ua;a.ceil=va;a.floor=wa;a.min=xa;a.max=g;a.round=ya;a.scale=h;a.scaleAndAdd=i;a.distance=za;a.squaredDistance=Aa;a.length=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.cross=Ha;a.lerp=j;a.random=k;a.transformMat2=l;a.transformMat2d=m;a.transformMat3=n;a.transformMat4=o;a.str=p;a.exactEquals=q;a.equals=r;var na=b(0),c=d(na);function d(A){__p&&__p();if(A&&A.__esModule)return A;else{var B={};if(A!=null)for(var C in A)if(Object.prototype.hasOwnProperty.call(A,C))B[C]=A[C];B["default"]=A;return B}}function e(){var A=new c.ARRAY_TYPE(2);A[0]=0;A[1]=0;return A}function oa(A){var B=new c.ARRAY_TYPE(2);B[0]=A[0];B[1]=A[1];return B}function pa(A,B){var C=new c.ARRAY_TYPE(2);C[0]=A;C[1]=B;return C}function qa(A,B){A[0]=B[0];A[1]=B[1];return A}function f(A,B,C){A[0]=B;A[1]=C;return A}function ra(A,B,C){A[0]=B[0]+C[0];A[1]=B[1]+C[1];return A}function sa(A,B,C){A[0]=B[0]-C[0];A[1]=B[1]-C[1];return A}function ta(A,B,C){A[0]=B[0]*C[0];A[1]=B[1]*C[1];return A}function ua(A,B,C){A[0]=B[0]/C[0];A[1]=B[1]/C[1];return A}function va(A,B){A[0]=Math.ceil(B[0]);A[1]=Math.ceil(B[1]);return A}function wa(A,B){A[0]=Math.floor(B[0]);A[1]=Math.floor(B[1]);return A}function xa(A,B,C){A[0]=Math.min(B[0],C[0]);A[1]=Math.min(B[1],C[1]);return A}function g(A,B,C){A[0]=Math.max(B[0],C[0]);A[1]=Math.max(B[1],C[1]);return A}function ya(A,B){A[0]=Math.round(B[0]);A[1]=Math.round(B[1]);return A}function h(A,B,C){A[0]=B[0]*C;A[1]=B[1]*C;return A}function i(A,B,C,h){A[0]=B[0]+C[0]*h;A[1]=B[1]+C[1]*h;return A}function za(A,B){var C=B[0]-A[0],D=B[1]-A[1];return Math.sqrt(C*C+D*D)}function Aa(A,B){var C=B[0]-A[0],D=B[1]-A[1];return C*C+D*D}function Ba(A){var B=A[0],C=A[1];return Math.sqrt(B*B+C*C)}function Ca(A){var B=A[0],C=A[1];return B*B+C*C}function Da(A,B){A[0]=-B[0];A[1]=-B[1];return A}function Ea(A,B){A[0]=1/B[0];A[1]=1/B[1];return A}function Fa(A,B){var C=B[0],D=B[1],s=C*C+D*D;if(s>0){s=1/Math.sqrt(s);A[0]=B[0]*s;A[1]=B[1]*s}return A}function Ga(A,B){return A[0]*B[0]+A[1]*B[1]}function Ha(A,B,C){var D=B[0]*C[1]-B[1]*C[0];A[0]=A[1]=0;A[2]=D;return A}function j(A,B,C,D){var E=B[0],F=B[1];A[0]=E+D*(C[0]-E);A[1]=F+D*(C[1]-F);return A}function k(A,h){h=h||1;var B=c.RANDOM()*2*Math.PI;A[0]=Math.cos(B)*h;A[1]=Math.sin(B)*h;return A}function l(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[2]*E;A[1]=C[1]*D+C[3]*E;return A}function m(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[2]*E+C[4];A[1]=C[1]*D+C[3]*E+C[5];return A}function n(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[3]*E+C[6];A[1]=C[1]*D+C[4]*E+C[7];return A}function o(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[4]*E+C[12];A[1]=C[1]*D+C[5]*E+C[13];return A}function p(A){return"vec2("+A[0]+", "+A[1]+")"}function q(A,B){return A[0]===B[0]&&A[1]===B[1]}function r(A,B){var C=A[0],D=A[1],E=B[0],F=B[1];return Math.abs(C-E)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(E))&&Math.abs(D-F)<=c.EPSILON*Math.max(1,Math.abs(D),Math.abs(F))}var s=a.len=Ba,t=a.sub=sa,u=a.mul=ta,v=a.div=ua,w=a.dist=za,x=a.sqrDist=Aa,y=a.sqrLen=Ca,z=a.forEach=function(){__p&&__p();var A=e();return function(B,C,D,E,F,G){__p&&__p();var H=void 0,I=void 0;if(!C)C=2;if(!D)D=0;if(E)I=Math.min(E*C+D,B.length);else I=B.length;for(H=D;H<I;H+=C){A[0]=B[H];A[1]=B[H+1];F(A,A,G);B[H]=A[0];B[H+1]=A[1]}return B}}()}])})}var ka=false,la=function(){if(!ka){ka=true;ja()}return ha.exports},ma=function(b){switch(b){case undefined:return la()}};fa.exports=ma}),null);
__d("gl-matrix",["gl-matrix-2.4.0"],(function a(b,c,d,e,f,g){f.exports=c("gl-matrix-2.4.0")()}),null);
__d("radToDeg",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i*180/Math.PI}f.exports=h}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("gl-matrix").glMatrix,i=c("gl-matrix").mat4,j=c("gl-matrix").vec3,k={getMaxMinVfov:function l(m,n){var o=c("degToRad")(m.partialRightDegrees||180),p=c("degToRad")(m.partialLeftDegrees||180),q=c("degToRad")(m.partialTopDegrees||90),r=c("degToRad")(m.partialBottomDegrees||90),s=(o+p)/2,t=(q+r)/2,u=2*Math.atan(s/n),v=this.getMinFullVfov(t,t);return{maxVfov:c("radToDeg")(Math.max(u,v)),minVfov:c("radToDeg")(Math.min(v,u/2))}},getMaxVfov:function l(m,n){return this.getMaxMinVfov(m,n).maxVfov},getMinFullVfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getMinFullHfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getZoomProgressFromFov:function l(m,n,o){return Math.max(0,Math.min(1,(m-o)/(n-o)))},getZoomProgress:function l(m,n,o){var p=this.getMaxMinVfov(n,o),q=p.maxVfov,r=p.minVfov;return this.getZoomProgressFromFov(m,q,r)},getHfov:function l(m,n){var o=2*Math.atan(Math.tan(m/2)*n);return o},normalizeLimits:function l(m){__p&&__p();var n=m.partialLeftDegrees||0,o=m.partialRightDegrees||0,p=m.partialTopDegrees||0,q=m.partialBottomDegrees||0;if(n<0&&o<0){var r=Math.max(n,o);n-=r;o-=r}if(p<0&&q<0){var s=Math.max(p,q);p-=s;q-=s}return{partialLeftDegrees:n,partialRightDegrees:o,partialTopDegrees:p,partialBottomDegrees:q}},getPartialLimits:function l(m,n,o){var p=this.getMaxMinVfov(o,n),q=p.maxVfov,r=p.minVfov,s=c("degToRad")(m),t=this.getHfov(s,n),u=this.getZoomProgressFromFov(m,q,r),v=Math.tan(t/2),w=Math.tan(s/2),x=Math.sin(v)*u+v*(1-u),y=Math.cos(v)*u+1*(1-u),z=Math.sin(w)*u+w*(1-u),A=Math.cos(w)*u+1*(1-u),B=function B(G,H,I){var J=Math.sin(G),K=Math.cos(G);return m>q?0:c("radToDeg")(Math.atan2(J*I-K*H,J*H+K*I))},C=c("degToRad")(o.partialLeftDegrees||180),D=c("degToRad")(o.partialRightDegrees||180),E=c("degToRad")(o.partialTopDegrees||90),F=c("degToRad")(o.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:B(C,x,y),partialRightDegrees:B(D,x,y),partialTopDegrees:B(E,z,A),partialBottomDegrees:B(F,z,A)})},projectVertex:function l(m,n,o,p){var q=m[0],r=m[1],s=o?Math.sin(q):Math.sin(q)*Math.cos(r),t=o?r:Math.sin(r),u=o?Math.cos(q):Math.cos(q)*Math.cos(r);s=p*s+(1-p)*q;t=p*t+(1-p)*r;u=p*u+(1-p)*1;var v=j.fromValues(s,t,u);j.transformMat4(v,v,n);return v},getSphericalFromVertex:function l(m){var n=m[0],o=m[1],p=m[2],q=Math.atan2(n,p),r=Math.atan2(o,Math.sqrt(n*n+p*p));return{yaw:q,pitch:r}},getRelativeHfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialLeftDegrees||180,r=o.partialRightDegrees||180,s=p.partialLeftDegrees||0,t=p.partialRightDegrees||0;return c("degToRad")(r-t+q-s)},getRelativeVfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialTopDegrees||90,r=o.partialBottomDegrees||90,s=p.partialTopDegrees||0,t=p.partialBottomDegrees||0;return c("degToRad")(q-s+r-t)},convert2dTo3d:function l(m,n,o,p,q,r){var s=p/q,t=p/2,u=q/2,v=(m-t)*(2/p),w=(n-u)*(2/q),x=c("degToRad")(o.fov),y=this.getHfov(x,s),z=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),A=Math.tan(x/2),B=Math.tan(y/2),C=Math.tan(Math.min(y,z)/2),D=v*B,E=-w*A;if(D>C||D<-C)return null;var F=this.getZoomProgress(o.fov,r,s),G=i.create();i.rotateY(G,G,c("degToRad")(o.yaw));i.rotateX(G,G,-c("degToRad")(o.pitch));var H=this.projectVertex(j.fromValues(D,E,-1),G,false,F),I=this.getSphericalFromVertex(H),J=c("radToDeg")(I.yaw);return{yaw:J<0?360+J:J,pitch:c("radToDeg")(I.pitch)}},convert3dTo2d:function l(m,n,o,p,q,r){var s=c("degToRad")(m),t=c("degToRad")(n),u=c("degToRad")(o.fov),v=p/q,w=this.getHfov(u,v),x=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),y=Math.tan(w/2),z=Math.tan(Math.min(w,x)/2),A=z/y,B=this.getMinFullVfov(c("degToRad")(r.partialTopDegrees||90),c("degToRad")(r.partialBottomDegrees||90)),C=Math.tan(u/2),D=Math.tan(Math.min(u,B)/2),E=D/C,F=this.getRelativeHfov(o.fov,v,r),G=this.getRelativeVfov(o.fov,v,r),H=i.create();i.rotateY(H,H,c("degToRad")(o.yaw));i.rotateX(H,H,-c("degToRad")(o.pitch));i.invert(H,H);var I=s+Math.PI,J=t+Math.PI/2,K=-Math.sin(J)*Math.sin(I),L=-Math.cos(J),M=-Math.sin(J)*Math.cos(I),N=j.fromValues(K,L,M);j.transformMat4(N,N,H);var O=Math.atan2(N[0],N[2]),P=Math.atan2(N[1],Math.sqrt(N[0]*N[0]+N[2]*N[2])),Q=.5+O*A/F,R=.5-P*E/G;return{x:Q*p,y:R*q}}};f.exports=k}),null);
__d("SphericalMediaHeadingIndicator.react",["cx","EventListener","React","SphericalMediaConstants","SphericalMediaUtils","SphericalPhotoPartialLimits","SphericalPhotoProjectionUtils","SubscriptionsHandler","degToRad","easeInOutInterpolate","requestAnimationFrame","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SphericalMediaConstants").HI_SIZE_NORMAL,l=c("SphericalMediaConstants").HI_SIZE_FULL,m=c("SphericalMediaConstants").HI_ALPHA_BG,n=c("SphericalMediaConstants").HI_ALPHA_ELEMENT,o=c("SphericalMediaConstants").HI_ALPHA_DURATION,p=c("SphericalMediaConstants").HI_FADE_OUT_DELAY,q=c("SphericalMediaConstants").HI_BLINK_ARC_RAD,r=c("SphericalMediaConstants").HI_BLINK_DURATION,s=c("SphericalMediaUtils").getDPR,t=c("SphericalPhotoPartialLimits").makePartialLimits,u=function u(y){return y!==undefined&&y!==null},v=function v(y,z,A,B){y.beginPath();y.arc(z.x,z.y,A*s(),0,2*Math.PI,false);y.fillStyle=B;y.lineWidth=0;y.fill()},w=function w(y,z,A,B,C,D,E){var F=s();y.beginPath();y.arc(z.x,z.y,A*F,B,C,false);y.lineWidth=D*F;y.strokeStyle=E;y.stroke()};i=babelHelpers.inherits(x,c("React").Component);j=i&&i.prototype;function x(y){__p&&__p();j.constructor.call(this,y);this.$SphericalMediaHeadingIndicator24=function(){__p&&__p();var A=this.__getDrawData();if(!u(A.poiYaw)){this.$SphericalMediaHeadingIndicator11=false;this.draw(A);return}var B=(Date.now()-this.__blinkStartTime)%r<r/2;if(this.$SphericalMediaHeadingIndicator11!==B){this.$SphericalMediaHeadingIndicator11=B;this.draw(A)}c("requestAnimationFrame")(this.$SphericalMediaHeadingIndicator24)}.bind(this);this.$SphericalMediaHeadingIndicator14=function(){if(this.$SphericalMediaHeadingIndicator6===m.end)return;this.$SphericalMediaHeadingIndicator25(m.start,m.end,n.start,n.end)}.bind(this);this.$SphericalMediaHeadingIndicator15=function(){if(this.$SphericalMediaHeadingIndicator6===m.start)return;this.$SphericalMediaHeadingIndicator25(m.end,m.start,n.end,n.start)}.bind(this);this.$SphericalMediaHeadingIndicator2=c("uniqueID")();this.$SphericalMediaHeadingIndicator5=0;this.$SphericalMediaHeadingIndicator6=m.start;this.$SphericalMediaHeadingIndicator7=n.start;this.$SphericalMediaHeadingIndicator8=null;this.$SphericalMediaHeadingIndicator9=false;this.$SphericalMediaHeadingIndicator10=false;this.$SphericalMediaHeadingIndicator11=false;if(!this.constructor.__subClassMethods)throw new Error('Must implement "static __subClassMethods"');for(var z in this.constructor.__subClassMethods)if(typeof this[z]!=="function")throw new Error('Must implement "'+z+'"')}x.prototype.UNSAFE_componentWillReceiveProps=function(y){var z=y.isActive&&y.isPanning!==this.props.isPanning;if(z)this.$SphericalMediaHeadingIndicator13(y.isPanning)};x.prototype.shouldComponentUpdate=function(y){var z=y.aspectRatio!==this.props.aspectRatio||y.isActive!==this.props.isActive||y.isGuideAuto!==this.props.isGuideAuto||y.useLargeHeadingIndicator!==this.props.useLargeHeadingIndicator;return z};x.prototype.$SphericalMediaHeadingIndicator13=function(y){__p&&__p();var z=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.$SphericalMediaHeadingIndicator5+=y?1:-1;if(y){this.$SphericalMediaHeadingIndicator8!==null&&clearTimeout(this.$SphericalMediaHeadingIndicator8);this.$SphericalMediaHeadingIndicator14()}else if(this.$SphericalMediaHeadingIndicator5===0)this.$SphericalMediaHeadingIndicator8=setTimeout(function(){this.$SphericalMediaHeadingIndicator8=null;this.$SphericalMediaHeadingIndicator15()}.bind(this),z?p:0)};x.prototype.$SphericalMediaHeadingIndicator16=function(){var y=this.$SphericalMediaHeadingIndicator17(),z=s();return{width:y.width*z,height:y.height*z}};x.prototype.$SphericalMediaHeadingIndicator17=function(){return this.props.useLargeHeadingIndicator?l:k};x.prototype.$SphericalMediaHeadingIndicator18=function(){var y=this.$SphericalMediaHeadingIndicator16();return{x:y.width/2,y:y.height/2}};x.prototype.draw=function(y){__p&&__p();if(!this.$SphericalMediaHeadingIndicator1)return;var z=this.$SphericalMediaHeadingIndicator1,A=this.$SphericalMediaHeadingIndicator16();if(z.width!==A.width||z.height!==A.height){z.width=A.width;z.height=A.height}var B=z.getContext("2d");if(!B)return;B.save();B.clearRect(0,0,A.width,A.height);this.$SphericalMediaHeadingIndicator19(B,y);this.$SphericalMediaHeadingIndicator20(B,y);this.$SphericalMediaHeadingIndicator21(B,y);B.restore()};x.prototype.$SphericalMediaHeadingIndicator19=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18(),C=z.fov*this.props.aspectRatio,D=c("degToRad")(C)/2;v(y,B,A.background_radius,this.$SphericalMediaHeadingIndicator22());if(this.props.isGuideAuto){var E=A.inner_radius+A.inner_stroke/2-A.center_radius;w(y,B,A.center_radius+E/2,0,2*Math.PI,E,this.$SphericalMediaHeadingIndicator23())}else{v(y,B,A.center_radius,this.$SphericalMediaHeadingIndicator23());var F=this.props.partialLimits;if(F&&F.partialLeftDegrees&&F.partialRightDegrees){var G=F.partialLeftDegrees,H=F.partialRightDegrees;w(y,B,A.inner_radius,0,2*Math.PI,A.inner_stroke,this.getPartialPanoElementColor());var I=270-z.initialYaw,J=c("degToRad")(G*-1+I+D),K=c("degToRad")(H+I-D);w(y,B,A.inner_radius,J||0,K||0,A.inner_stroke,this.$SphericalMediaHeadingIndicator23())}else w(y,B,A.inner_radius,0,2*Math.PI,A.inner_stroke,this.$SphericalMediaHeadingIndicator23())}};x.prototype.$SphericalMediaHeadingIndicator21=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18();if(this.$SphericalMediaHeadingIndicator11){var C=c("degToRad")((z.poiYaw||0)-z.initialYaw)-Math.PI/2;w(y,B,A.rim_radius,C-q/2,C+q/2,A.rim_stroke,this.$SphericalMediaHeadingIndicator23())}var D=s(),E=A.triangle[0]*D,F=A.triangle[1]*D,G=A.triangle[2]*D;y.translate(B.x,B.y);if(z.pointerYaw){var H=z.pointerYaw-z.initialYaw;y.rotate(c("degToRad")(H||0))}y.beginPath();y.moveTo(0,E-B.y);y.lineTo(-F,G-B.y);y.lineTo(F,G-B.y);y.fillStyle=this.$SphericalMediaHeadingIndicator23();y.fill()};x.prototype.$SphericalMediaHeadingIndicator20=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18(),C=this.props,D=C.partialLimits,E=C.aspectRatio,F=C.showNewPhotoRenderer,G=z.yaw-z.initialYaw,H=z.fov*this.props.aspectRatio,I=c("degToRad")(H)/2;if(F&&D){var J=c("SphericalPhotoProjectionUtils").getRelativeHfov(z.fov,E,D);I=J/2}var K=c("degToRad")(G)-Math.PI/2,L=this.props.isGuideAuto;if(L){var M=s();y.save();y.beginPath();y.lineWidth=A.arc_stroke*M;y.arc(B.x,B.y,(A.arc_radius+A.arc_stroke/2)*M,K-I,K+I,false);y.arc(B.x,B.y,(A.arc_radius-A.arc_stroke/2)*M,K+I,K-I,true);y.clip();var N=this.$SphericalMediaHeadingIndicator16();y.clearRect(0,0,N.width,N.height);y.restore()}w(y,B,A.arc_radius,K-I,K+I,A.arc_stroke,L?this.$SphericalMediaHeadingIndicator22():this.$SphericalMediaHeadingIndicator23())};x.prototype.getPartialPanoElementColor=function(){return"rgba(255, 255, 255, "+this.$SphericalMediaHeadingIndicator7*.4+")"};x.prototype.$SphericalMediaHeadingIndicator23=function(){return"rgba(255, 255, 255, "+this.$SphericalMediaHeadingIndicator7+")"};x.prototype.$SphericalMediaHeadingIndicator22=function(){return"rgba(0, 0, 0, "+this.$SphericalMediaHeadingIndicator6+")"};x.prototype.$SphericalMediaHeadingIndicator25=function(y,z,A,B){__p&&__p();this.$SphericalMediaHeadingIndicator10=this.$SphericalMediaHeadingIndicator9;this.$SphericalMediaHeadingIndicator9=true;var C=Date.now(),D=function(G){__p&&__p();var H=Date.now();if(this.$SphericalMediaHeadingIndicator10){this.$SphericalMediaHeadingIndicator10=false;return}if(H-C>o){this.$SphericalMediaHeadingIndicator9=false;this.$SphericalMediaHeadingIndicator6=z;this.$SphericalMediaHeadingIndicator7=B;return}c("requestAnimationFrame")(function(){D(G)});var I=c("easeInOutInterpolate")((H-C)/o),J=G.deltaAlphaBG*I+G.startAlphaBG,K=G.deltaAlphaElement*I+G.startAlphaElement;this.$SphericalMediaHeadingIndicator6=J;this.$SphericalMediaHeadingIndicator7=K;this.draw(this.__getDrawData())}.bind(this),E=z-y,F=B-A;c("requestAnimationFrame")(function(){D({startAlphaBG:y,deltaAlphaBG:E,startAlphaElement:A,deltaAlphaElement:F})})};x.prototype.componentDidMount=function(){if(this.props.isActive)this.draw(this.__getDrawData());if(this.props.useNativeListeners){this.$SphericalMediaHeadingIndicator12=new(c("SubscriptionsHandler"))();this.$SphericalMediaHeadingIndicator12.addSubscriptions(c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"click",function(event){return this.__onClick(event)}.bind(this)),c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"mouseover",function(){return this.$SphericalMediaHeadingIndicator13(true)}.bind(this)),c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"mouseout",function(){return this.$SphericalMediaHeadingIndicator13(false,false)}.bind(this)))}};x.prototype.componentDidUpdate=function(){if(this.props.isActive)this.draw(this.__getDrawData());c("requestAnimationFrame")(this.$SphericalMediaHeadingIndicator24)};x.prototype.componentWillUnmount=function(){this.$SphericalMediaHeadingIndicator1=null;if(this.props.useNativeListeners)this.$SphericalMediaHeadingIndicator12.release()};x.prototype.render=function(){__p&&__p();var y=this.$SphericalMediaHeadingIndicator17(),z=this.props.isActive,A={};if(!this.props.useNativeListeners){A.onClick=function(event){return this.__onClick(event)}.bind(this);A.onMouseOver=function(){return this.$SphericalMediaHeadingIndicator13(true)}.bind(this);A.onMouseOut=function(){return this.$SphericalMediaHeadingIndicator13(false,false)}.bind(this)}return c("React").createElement("button",babelHelpers["extends"]({},A,{ref:function(B){return this.$SphericalMediaHeadingIndicator4=B}.bind(this),className:"_17az sphericalHeadingIndicator"+(!z?" hidden_elem":""),style:{width:y.width,height:y.height}}),c("React").createElement("div",{className:"_17a-",ref:function(B){return this.$SphericalMediaHeadingIndicator3=B}.bind(this)},c("React").createElement("canvas",{className:"_5nxw _17ay",ref:function(B){return this.$SphericalMediaHeadingIndicator1=B}.bind(this)})))};f.exports=x}),null);
__d("SphericalVideoHeadingIndicator.react",["cx","fbt","BasicFBNux","React","SphericalVideoExperiments","SphericalViewportControlStore","SphericalMediaHeadingIndicator.react","SubscriptionsHandler","VideoPlayerStates","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l,m,n=4320,o=i._("You're watching the best views from this 360 video only. You can swipe or drag the video to watch it manually."),p=function p(s){return s!==undefined&&s!==null};j=babelHelpers.inherits(q,c("SphericalMediaHeadingIndicator.react"));k=j&&j.prototype;q.prototype.__onClick=function(event){"use strict";this.props.onClick(event)};q.prototype.__getDrawData=function(){"use strict";return{fov:this.props.fov,initialYaw:this.props.initialYaw,pointerYaw:this.props.pointerYaw,poiYaw:this.props.poiYaw,yaw:this.props.yaw}};q.prototype.$SphericalHeadingIndicatorImpl1=function(s){"use strict";return{fov:s.fov,initialYaw:s.initialYaw,pointerYaw:s.pointerYaw,poiYaw:s.poiYaw,yaw:s.yaw}};q.prototype.UNSAFE_componentWillReceiveProps=function(s){"use strict";k.UNSAFE_componentWillReceiveProps.call(this,s);if(!p(this.props.poiYaw)&&p(s.poiYaw))this.__blinkStartTime=Date.now();var t=s.isActive===this.props.isActive&&(s.initialYaw!==this.props.initialYaw||s.aspectRatio!==this.props.aspectRatio||s.fov!==this.props.fov||s.yaw!==this.props.yaw||s.pointerYaw!==this.props.pointerYaw||s.poiYaw!==this.props.poiYaw);if(t)this.draw(this.$SphericalHeadingIndicatorImpl1(s))};q.prototype.shouldComponentUpdate=function(s){"use strict";var t=k.shouldComponentUpdate.call(this,s)||s.poiYaw!==this.props.poiYaw;return t};function q(){"use strict";j.apply(this,arguments)}q.__subClassMethods={__onClick:true,__getDrawData:true};l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(s){"use strict";__p&&__p();m.constructor.call(this,s);this.$SphericalVideoHeadingIndicator6=false;this.$SphericalVideoHeadingIndicator1=s.controller;this.$SphericalVideoHeadingIndicator5=s.isComposer;if(!this.$SphericalVideoHeadingIndicator5){this.$SphericalVideoHeadingIndicator3=n;this.$SphericalVideoHeadingIndicator4=o}this.$SphericalVideoHeadingIndicator2=new(c("SubscriptionsHandler"))()}r.prototype.componentDidMount=function(){"use strict";if(this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","isReady"))this.$SphericalVideoHeadingIndicator7();else this.$SphericalVideoHeadingIndicator2.addSubscriptions(this.$SphericalVideoHeadingIndicator1.once("SphericalVideoPlayer/ready",function(){return this.$SphericalVideoHeadingIndicator7()}.bind(this)))};r.prototype.componentWillUnmount=function(){"use strict";this.$SphericalVideoHeadingIndicator2.release()};r.prototype.$SphericalVideoHeadingIndicator7=function(){"use strict";__p&&__p();var s=this.$SphericalVideoHeadingIndicator1.getVideoPlayerID();this.$SphericalVideoHeadingIndicator2.addSubscriptions(this.$SphericalVideoHeadingIndicator1.addListener("PhotoSnowlift/enterSnowlift",function(){return this.$SphericalVideoHeadingIndicator8(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("PhotoSnowlift/exitSnowlift",function(){return this.$SphericalVideoHeadingIndicator8(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("toggleFullscreen",function(){return this.$SphericalVideoHeadingIndicator9()}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("beginPlayback",function(){return this.$SphericalVideoHeadingIndicator10(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("finishPlayback",function(){return this.$SphericalVideoHeadingIndicator10(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoChannelController/enterChannel",function(){return this.$SphericalVideoHeadingIndicator11(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoChannelController/exitChannel",function(){return this.$SphericalVideoHeadingIndicator11(false)}.bind(this)),c("SphericalViewportControlStore").addListener(function(){var t=c("SphericalViewportControlStore"),u=t.getOrientation(s),v=u.pitch,w=u.yaw;this.setState({isActive:t.getViewportGrabbed(s),pitch:v,yaw:w,fov:t.getFieldOfView(s)})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$SphericalVideoHeadingIndicator12(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("SphericalVideoRecenterControl/animationEnd",function(){return this.$SphericalVideoHeadingIndicator12(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoControls/visibilityUpdate",function(t){var u=t.areControlsVisible;return this.$SphericalVideoHeadingIndicator12(u)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("viewportChange",function(t,u){return this.forceUpdate()}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/viewportChange",function(t){return this.setState({pointerYaw:t})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/intervalUpdate",function(t){var u=t.deltaPitch===0&&t.deltaYaw===0;this.setState({poiYaw:u?undefined:t.baseYaw+t.deltaYaw,isActive:!u})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/toggle",function(t){return this.setState({isGuideAuto:t})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/stateToggle",function(t){if(!t)this.setState({isGuideAuto:false,poiYaw:undefined,pointerYaw:0})}.bind(this)));this.setState({isVisible:this.$SphericalVideoHeadingIndicator1.isState(c("VideoPlayerStates").PLAYING),isActive:false,inChannel:this.$SphericalVideoHeadingIndicator1.getIsInChannel(),inSnowlift:this.$SphericalVideoHeadingIndicator1.getOption("PhotoSnowlift","isInSnowlift"),inFullscreen:this.$SphericalVideoHeadingIndicator1.isFullscreen(),isGuideAuto:this.$SphericalVideoHeadingIndicator1.getOption("VideoWithSphericalGuide","auto"),showGuideNux:c("SphericalVideoExperiments").showGuideNux,pitch:c("SphericalViewportControlStore").getOrientation(s).pitch,yaw:c("SphericalViewportControlStore").getOrientation(s).yaw,fov:c("SphericalViewportControlStore").getFieldOfView(s)});this.$SphericalVideoHeadingIndicator6=true};r.prototype.$SphericalVideoHeadingIndicator10=function(s){"use strict";this.setState({isVisible:s})};r.prototype.$SphericalVideoHeadingIndicator9=function(){"use strict";this.setState({inFullscreen:this.$SphericalVideoHeadingIndicator1.isFullscreen()})};r.prototype.$SphericalVideoHeadingIndicator11=function(s){"use strict";this.setState({inChannel:s})};r.prototype.$SphericalVideoHeadingIndicator8=function(s){"use strict";this.setState({inSnowlift:s})};r.prototype.$SphericalVideoHeadingIndicator12=function(s){"use strict";this.setState({isActive:s})};r.prototype.$SphericalVideoHeadingIndicator13=function(){"use strict";this.setState({showGuideNux:false});c("BasicFBNux").onDismiss(n)};r.prototype.render=function(){"use strict";__p&&__p();if(!this.$SphericalVideoHeadingIndicator6)return null;var s=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getDimensions"),t=s.width,u=s.height,v=!this.state.inChannel&&!this.state.inSnowlift&&!this.state.inFullscreen,w=this.$SphericalVideoHeadingIndicator1.getOption("VideoWithSphericalGuide","enabled"),x=void 0;if(!this.$SphericalVideoHeadingIndicator5)x=this.state.showGuideNux&&w;var y=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getIsSingleFisheye");if(y){var z=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getOriginalFOV");if(z!==null&&z!==0)return c("React").createElement("div",{className:"_3ldo"+(v?" _42a0":"")},c("React").createElement(q,{ref:"compass",aspectRatio:t/u,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw,partialLeftDegrees:z/2,partialRightDegrees:z/2}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.compass}.bind(this),shown:x,position:"left",onCloseButtonClick:function(){return this.$SphericalVideoHeadingIndicator13()}.bind(this)},this.$SphericalVideoHeadingIndicator4))}return c("React").createElement("div",{className:"_3ldo"+(v?" _42a0":"")},c("React").createElement(q,{ref:"compass",aspectRatio:t/u,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.compass}.bind(this),shown:x,position:"left",onCloseButtonClick:function(){return this.$SphericalVideoHeadingIndicator13()}.bind(this)},this.$SphericalVideoHeadingIndicator4))};f.exports=r}),null);
__d("MovingAverage",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";__p&&__p();this.$MovingAverage1=j;j=j||0;this.$MovingAverage2=0;this.$MovingAverage3=j*i;this.$MovingAverage4=i;this.$MovingAverage5=0;this.$MovingAverage6=[];for(var k=0;k<i;k++)this.$MovingAverage6[k]=j}h.prototype.add=function(i){"use strict";this.$MovingAverage3-=this.$MovingAverage6[this.$MovingAverage2];this.$MovingAverage3+=i;this.$MovingAverage6[this.$MovingAverage2]=i;this.$MovingAverage2=(this.$MovingAverage2+1)%this.$MovingAverage4;if(this.$MovingAverage5<this.$MovingAverage4)this.$MovingAverage5++;return this};h.prototype.get=function(i){"use strict";i=i===undefined?0:i;var j=(this.$MovingAverage2-i-1+this.$MovingAverage4)%this.$MovingAverage4;return this.$MovingAverage6[j]};h.prototype.getAvg=function(){"use strict";if(this.$MovingAverage5<this.$MovingAverage4&&this.$MovingAverage5!==0&&this.$MovingAverage1==null)return this.$MovingAverage3/this.$MovingAverage5;return this.$MovingAverage3/this.$MovingAverage4};h.prototype.getSum=function(){"use strict";return this.$MovingAverage3};h.prototype.getMax=function(){"use strict";return Math.max.apply(Math,this.$MovingAverage6)};h.prototype.getMin=function(){"use strict";return Math.min.apply(Math,this.$MovingAverage6)};g.MovingAverage=h}),null);
__d("SpatialAudioFallbackReasons",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHANNEL:"channel",SCROLL:"scroll"})}),null);
__d("SphericalMediaPerformanceEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SNAPSHOT:"snapshot",AUDIO_FALLBACK:"audio_fallback",SPATIAL_REACTIONS_CLUSTERS_COMPUTATION:"spatial_reactions_clusters_computation",SPATIAL_REACTIONS_CACHE_REBUILD:"spatial_reactions_cache_rebuild",LIVE_SPATIAL_REACTIONS_REGION_COUNT:"live_spatial_reactions_region_count",SPHERICAL_RENDERER_SETUP:"spherical_renderer_setup"})}),null);
__d("SphericalMediaProductNames",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL_VIDEO:"spherical_video",SPATIAL_AUDIO:"spatial_audio",SPATIAL_REACTIONS:"spatial_reactions"})}),null);
__d("SphericalVideoPerformanceTracker",["MovingAverage","SpatialAudioFallbackReasons","SphericalMediaPerformanceTypedLogger","SphericalMediaPerformanceEvents","SphericalMediaProductNames","Visibility","performance"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("MovingAverage").MovingAverage,i=60,j=1e3,k=10*j,l=15,m=j/i;function n(){"use strict";__p&&__p();n.$SphericalVideoPerformanceTracker1=false;this.$SphericalVideoPerformanceTracker10=new h(500,m);this.$SphericalVideoPerformanceTracker11=new(c("SphericalMediaPerformanceTypedLogger"))();this.$SphericalVideoPerformanceTracker12=false;this.$SphericalVideoPerformanceTracker7=-1;this.$SphericalVideoPerformanceTracker8=-1;this.$SphericalVideoPerformanceTracker5=false;this.$SphericalVideoPerformanceTracker6=false;var o=function(){this.$SphericalVideoPerformanceTracker4=false;this.$SphericalVideoPerformanceTracker16()}.bind(this),p=function(){this.$SphericalVideoPerformanceTracker4=true}.bind(this);c("Visibility").isHidden()?o():p();c("Visibility").addListener(c("Visibility").HIDDEN,o);c("Visibility").addListener(c("Visibility").VISIBLE,p)}n.get=function(){"use strict";if(!n.$SphericalVideoPerformanceTracker2)n.$SphericalVideoPerformanceTracker2=new n();return n.$SphericalVideoPerformanceTracker2};n.prototype.addFrameAtTime=function(o){"use strict";__p&&__p();if(!this.$SphericalVideoPerformanceTracker4)return;if(o!==this.$SphericalVideoPerformanceTracker9){n.$SphericalVideoPerformanceTracker1=true;this.$SphericalVideoPerformanceTracker9=o;if(!this.$SphericalVideoPerformanceTracker3)this.$SphericalVideoPerformanceTracker3=o;else{var p=o-this.$SphericalVideoPerformanceTracker3;this.$SphericalVideoPerformanceTracker3=o;this.$SphericalVideoPerformanceTracker10.add(p);if(!this.$SphericalVideoPerformanceTracker12){this.$SphericalVideoPerformanceTracker17();this.$SphericalVideoPerformanceTracker12=true}}}};n.prototype.setProjection=function(o){"use strict";this.$SphericalVideoPerformanceTracker15=o;return this};n.prototype.trackSpatialAudioMetrics=function(){"use strict";this.$SphericalVideoPerformanceTracker5=true;this.$SphericalVideoPerformanceTracker14=0};n.prototype.isTrackingSpatialAudioMetrics=function(){"use strict";return this.$SphericalVideoPerformanceTracker5};n.prototype.addAudioStutter=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker14++};n.prototype.enterSpatialAudioFallback=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker7=c("performance").now()};n.prototype.exitSpatialAudioFallback=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();if(this.$SphericalVideoPerformanceTracker7>0){var o=Math.trunc(c("performance").now()-this.$SphericalVideoPerformanceTracker7);this.$SphericalVideoPerformanceTracker7=-1;this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPATIAL_AUDIO).setEvent(c("SphericalMediaPerformanceEvents").AUDIO_FALLBACK).setFallbackDuration(o).setFallbackReason(c("SpatialAudioFallbackReasons").CHANNEL).log();this.$SphericalVideoPerformanceTracker11.clear()}};n.prototype.trackSphericalRendererMetrics=function(){"use strict";this.$SphericalVideoPerformanceTracker6=true};n.prototype.isTrackingSphericalRendererMetrics=function(){"use strict";return this.$SphericalVideoPerformanceTracker6};n.prototype.isOne360VideoActive=function(){"use strict";return n.$SphericalVideoPerformanceTracker1};n.prototype.enterSphericalRendererSetup=function(){"use strict";if(!this.isTrackingSphericalRendererMetrics())this.trackSphericalRendererMetrics();this.$SphericalVideoPerformanceTracker8=c("performance").now()};n.prototype.exitSphericalRendererSetup=function(){"use strict";if(!this.isTrackingSphericalRendererMetrics())this.trackSphericalRendererMetrics();if(this.$SphericalVideoPerformanceTracker8>0){var o=Math.trunc(c("performance").now()-this.$SphericalVideoPerformanceTracker8);this.$SphericalVideoPerformanceTracker8=-1;this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPHERICAL_VIDEO).setEvent(c("SphericalMediaPerformanceEvents").SPHERICAL_RENDERER_SETUP).setProjection(this.$SphericalVideoPerformanceTracker15).setSphericalRendererSetupDuration(o).log();this.$SphericalVideoPerformanceTracker11.clear()}};n.prototype.log=function(){"use strict";__p&&__p();if(!this.isOne360VideoActive())return;else{var o=Math.trunc(this.$SphericalVideoPerformanceTracker18()*Math.pow(10,l));this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPHERICAL_VIDEO).setEvent(c("SphericalMediaPerformanceEvents").SNAPSHOT).setNormalizedFrameTime(o);if(this.$SphericalVideoPerformanceTracker15)this.$SphericalVideoPerformanceTracker11.setProjection(this.$SphericalVideoPerformanceTracker15);if(this.$SphericalVideoPerformanceTracker5){this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPATIAL_AUDIO).setNumSpatialAudioStutters(this.$SphericalVideoPerformanceTracker14);this.$SphericalVideoPerformanceTracker14=0}this.$SphericalVideoPerformanceTracker11.log();this.$SphericalVideoPerformanceTracker11.clear()}this.$SphericalVideoPerformanceTracker16()};n.prototype.destroy=function(){"use strict";clearInterval(this.$SphericalVideoPerformanceTracker13);n.$SphericalVideoPerformanceTracker2=null};n.prototype.$SphericalVideoPerformanceTracker18=function(){"use strict";return this.$SphericalVideoPerformanceTracker10.getAvg()/m};n.prototype.$SphericalVideoPerformanceTracker16=function(){"use strict";this.$SphericalVideoPerformanceTracker3=null;n.$SphericalVideoPerformanceTracker1=false};n.prototype.$SphericalVideoPerformanceTracker17=function(){"use strict";this.$SphericalVideoPerformanceTracker13=setInterval(this.log.bind(this),k)};f.exports=n}),null);
__d("SphericalMediaCanvasPool",["DOM"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1,i="default",j=function j(l,m){return l+m};function k(){this.$SphericalMediaCanvasPool1=new Map();this.$SphericalMediaCanvasPool2=new Map()}k.prototype.setLimit=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1],n=this.$SphericalMediaCanvasPool2.get(m)||{queue:[],limit:1};n.limit=l;this.$SphericalMediaCanvasPool2.set(m,n)};k.prototype.release=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1],n=j(l,m),o=this.$SphericalMediaCanvasPool1.get(n);if(!o)return false;var p=this.$SphericalMediaCanvasPool2.get(m);if(!p||p.queue.length===0)return false;p.queue.splice(p.queue.indexOf(n),1);o.canvas.parentNode&&o.canvas.parentNode.removeChild(o.canvas);return this.$SphericalMediaCanvasPool1["delete"](n)};k.prototype.get=function(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?i:arguments[2],o=babelHelpers["extends"]({},m.canvasAttrs);if(!l||!m.beforeCanvasLost)throw new Error("Missing required arguments.");var p=j(l,n);o["data-id"]=o["data-id"]||l;var q=this.$SphericalMediaCanvasPool1.get(p);if(q)return q.canvas;var r=this.$SphericalMediaCanvasPool2.get(n)||{queue:[],limit:h},s=void 0;if(r.queue.length<r.limit)s=c("DOM").create("canvas",o);else{var t=r.queue.shift(),u=this.$SphericalMediaCanvasPool1.get(t);if(!u)throw new Error("Canvas pool could not find the item",t);s=u.canvas;u.beforeCanvasLost();this.$SphericalMediaCanvasPool1["delete"](t);s.className=o.className;s.height=o.height;s.width=o.width;s.tabIndex=o.tabIndex;s.setAttribute("data-id",o["data-id"])}if(!s)throw new Error("Failed to get a canvas.");r.queue.push(p);this.$SphericalMediaCanvasPool2.set(n,r);this.$SphericalMediaCanvasPool1.set(p,{canvas:s,beforeCanvasLost:m.beforeCanvasLost});return s};f.exports=new k()}),null);
__d("SphericalRenderer",["DOM","EventEmitter","EventListener","VideoProjection","VideoStereoFormat","gkx","gl-matrix"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("gl-matrix").glMatrix,k=c("gl-matrix").mat4,l=Math.max(window.devicePixelRatio||1,1);function m(){"use strict"}h=babelHelpers.inherits(n,c("EventEmitter"));i=h&&h.prototype;function n(o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$SphericalRenderer2=q;this.$SphericalRenderer21=q.fieldOfView;this.$SphericalRenderer16=true;this.$SphericalRenderer15=o;this.$SphericalRenderer1=p;this.$SphericalRenderer10=k.create();this.$SphericalRenderer11=k.create();this.$SphericalRenderer12=k.create();this.$SphericalRenderer3=false;this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null;this.$SphericalRenderer17=q.projectionType===c("VideoProjection").UNPADDED_CUBESTRIP;this.$SphericalRenderer9=q.projectionType===c("VideoProjection").ROTATED_CUBEMAP;this.$SphericalRenderer7=q.projectionType===c("VideoProjection").CDS_BARREL;this.$SphericalRenderer8=false;this.$SphericalRenderer23=new m();this.$SphericalRenderer23.ready=false;this.$SphericalRenderer24=false;this.$SphericalRenderer4=this.$SphericalRenderer25.bind(this);this.$SphericalRenderer5=this.$SphericalRenderer26.bind(this);this.$SphericalRenderer1.addEventListener("webglcontextlost",this.$SphericalRenderer4);this.$SphericalRenderer1.addEventListener("webglcontextrestored",this.$SphericalRenderer5);this.$SphericalRenderer27()}n.prototype.destroy=function(){"use strict";this.removeAllListeners();this.$SphericalRenderer1.removeEventListener("webglcontextlost",this.$SphericalRenderer4);this.$SphericalRenderer1.removeEventListener("webglcontextrestored",this.$SphericalRenderer5)};n.prototype.reconfigure=function(o,p){__p&&__p();var q=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";if(q){this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null}this.$SphericalRenderer21=p.fieldOfView;this.$SphericalRenderer15=o;this.$SphericalRenderer2=p;this.$SphericalRenderer17=p.projectionType===c("VideoProjection").UNPADDED_CUBESTRIP;this.$SphericalRenderer9=p.projectionType===c("VideoProjection").ROTATED_CUBEMAP;this.$SphericalRenderer7=p.projectionType===c("VideoProjection").CDS_BARREL;this.$SphericalRenderer23.framebuffer=null;this.$SphericalRenderer24=false;this.$SphericalRenderer27()};n.prototype.hasRenderingContext=function(){"use strict";return!this.$SphericalRenderer3};n.prototype.$SphericalRenderer25=function(o){"use strict";o.preventDefault();this.emit("renderingContextLost");this.$SphericalRenderer3=true};n.prototype.$SphericalRenderer26=function(o){"use strict";this.$SphericalRenderer3=false;this.$SphericalRenderer27();this.emit("renderingContextRestore")};n.prototype.setAutoUpdateTexture=function(o){"use strict";this.$SphericalRenderer16=o};n.prototype.updateFieldOfView=function(o){"use strict";if(this.$SphericalRenderer21!==o){this.$SphericalRenderer21=o;this.$SphericalRenderer28()}};n.prototype.updateViewportDimensions=function(o,p){"use strict";this.$SphericalRenderer1.width=o*l;this.$SphericalRenderer1.height=p*l;this.$SphericalRenderer28()};n.prototype.$SphericalRenderer28=function(){"use strict";k.perspective(this.$SphericalRenderer10,j.toRadian(this.$SphericalRenderer21),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100);this.$SphericalRenderer6.viewport(0,0,this.$SphericalRenderer6.drawingBufferWidth,this.$SphericalRenderer6.drawingBufferHeight)};n.prototype.$SphericalRenderer27=function(){"use strict";__p&&__p();this.$SphericalRenderer29();if(this.$SphericalRenderer7){var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.$SphericalRenderer8=o==0}this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);this.$SphericalRenderer22={x:this.$SphericalRenderer2.stereoFormat===c("VideoStereoFormat").LEFT_RIGHT?2:1,y:this.$SphericalRenderer2.stereoFormat===c("VideoStereoFormat").TOP_BOTTOM?2:1};this.$SphericalRenderer30();this.$SphericalRenderer31();this.$SphericalRenderer6.clearColor(0,0,0,1);this.$SphericalRenderer15.setAttribute("crossorigin","anonymous")};n.prototype.getScreenshotDataURL=function(o,p,q,r){"use strict";if(!this.$SphericalRenderer6||this.$SphericalRenderer3)return"";this.render(o,p);return this.$SphericalRenderer1.toDataURL(q,r)};n.prototype.$SphericalRenderer29=function(){"use strict";__p&&__p();if(this.$SphericalRenderer6&&!this.$SphericalRenderer3)return;if(!(b.WebGLRenderingContext||b.WebGL2RenderingContext))throw new Error("WebGLRenderingContext not available.");var o=["webgl2","webgl","experimental-webgl"],p=null,q=null,r=c("EventListener").listen(this.$SphericalRenderer1,"webglcontextcreationerror",function(t){return q=t.statusMessage});for(var s=0;s<o.length;s++){try{p=this.$SphericalRenderer1.getContext(o[s])}catch(t){}if(p)break}r.remove();if(!p){if(!q)q="Unknown error.";throw new Error("Failed to acquire 3D rendering context: "+q)}this.$SphericalRenderer6=p;this.$SphericalRenderer3=false};n.prototype.$SphericalRenderer30=function(){"use strict";var o=this.$SphericalRenderer32(),p=this.$SphericalRenderer33();this.$SphericalRenderer14=this.$SphericalRenderer6.createProgram();this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,o);this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,p);this.$SphericalRenderer6.linkProgram(this.$SphericalRenderer14)};n.prototype.$SphericalRenderer34=function(){"use strict";__p&&__p();if(!this.$SphericalRenderer6.getProgramParameter(this.$SphericalRenderer14,this.$SphericalRenderer6.LINK_STATUS)){var o="",p=this.$SphericalRenderer6.getAttachedShaders(this.$SphericalRenderer14);for(var q=0;q<p.length;q++)if(!this.$SphericalRenderer6.getShaderParameter(p[q],this.$SphericalRenderer6.COMPILE_STATUS)){o="Shader error: "+this.$SphericalRenderer6.getShaderInfoLog(p[q]);break}if(o==="")o="Program link error: "+this.$SphericalRenderer6.getProgramInfoLog(this.$SphericalRenderer14);throw new Error(o)}this.$SphericalRenderer6.useProgram(this.$SphericalRenderer14);this.$SphericalRenderer14.vertexPositionAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,"aVertexPosition");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.vertexPositionAttribute);this.$SphericalRenderer14.pMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uPMatrix");this.$SphericalRenderer14.mvMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uMVMatrix");this.$SphericalRenderer14.samplerUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uSampler");if(!this.$SphericalRenderer17&&!this.$SphericalRenderer7){this.$SphericalRenderer14.textureCoordAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,"aTextureCoord");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.textureCoordAttribute)}if(this.$SphericalRenderer8)this.$SphericalRenderer14.offsetUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uOffset");this.$SphericalRenderer24=true};n.prototype.$SphericalRenderer31=function(){"use strict";this.$SphericalRenderer13=this.$SphericalRenderer6.createTexture();this.$SphericalRenderer13.image=this.$SphericalRenderer15;var o=this.$SphericalRenderer17?this.$SphericalRenderer6.TEXTURE_CUBE_MAP:this.$SphericalRenderer6.TEXTURE_2D;this.$SphericalRenderer6.bindTexture(o,this.$SphericalRenderer13);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MAG_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MIN_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_S,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_T,this.$SphericalRenderer6.CLAMP_TO_EDGE)};n.prototype.$SphericalRenderer35=function(o){__p&&__p();var p=arguments.length<=1||arguments[1]===undefined?30:arguments[1],q=arguments.length<=2||arguments[2]===undefined?30:arguments[2],r=arguments.length<=3||arguments[3]===undefined?Math.PI:arguments[3],s=arguments.length<=4||arguments[4]===undefined?Math.PI*2:arguments[4],t=arguments.length<=5||arguments[5]===undefined?0:arguments[5];"use strict";var u=2,v=[],w=[],x,y;for(x=0;x<=p;x++){var z=(x/p-.5)*r,A=Math.sin(z),B=Math.cos(z);for(y=0;y<=q;y++){var C=(y/q-.5)*s+t,D=Math.sin(C),E=Math.cos(C),F=E*B,G=A,H=D*B,I=y/q/this.$SphericalRenderer22.x,J=x/p/this.$SphericalRenderer22.y;w.push(I);w.push(J);v.push(u*F);v.push(u*G);v.push(u*H)}}var K=[];for(x=0;x<p;x++)for(y=0;y<q;y++){var L=x*(q+1)+y,M=L+q+1;K.push(L);K.push(M);K.push(L+1);K.push(M);K.push(M+1);K.push(L+1)}this.$SphericalRenderer18[o]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(w),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[o].itemSize=2;this.$SphericalRenderer18[o].numItems=w.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(v),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=v.length/3}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(K),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=K.length}};n.prototype.$SphericalRenderer36=function(o,p){"use strict";__p&&__p();var q=40,r=60,s=2,t=[],u=[],v=[],w=[],x,y;for(x=0;x<=q;x++){var z=x/q-.5,A=z*.5*Math.PI,B=Math.sin(A),C=Math.cos(A),D=(z/o+.5)/this.$SphericalRenderer22.y;for(y=0;y<=r;y++){var E=y/r-.5,F=E*2*Math.PI,G=Math.sin(F),H=Math.cos(F),I=H*C*s,J=B*s,K=G*C*s,L=(E/o*.8+.4)/this.$SphericalRenderer22.x;u.push(L);u.push(D);t.push(I);t.push(J);t.push(K);if(x==0||x==q){var M=Math.sign(1-x),N=(G*.1/o+.9)/this.$SphericalRenderer22.x,O=(H*.25*M/o+.5+z*.5)/this.$SphericalRenderer22.y;w.push(N);w.push(O);v.push(I);v.push(J);v.push(K)}}}var P=t.length/3;u.push.apply(u,w);t.push.apply(t,v);var Q=t.length/3,R=Math.sin(Math.PI*.25)*s;u.push(.9/this.$SphericalRenderer22.x);u.push(.25/this.$SphericalRenderer22.y);t.push(0);t.push(-R);t.push(0);u.push(.9/this.$SphericalRenderer22.x);u.push(.75/this.$SphericalRenderer22.y);t.push(0);t.push(R);t.push(0);var S=[];for(x=0;x<q;x++)for(y=0;y<r;y++){var T=x*(r+1)+y,U=T+r+1;S.push(T);S.push(U);S.push(T+1);S.push(U);S.push(U+1);S.push(T+1)}for(var V=0;V<2;V++)for(y=0;y<r;y++){S.push(y+P+V*(r+1));S.push(y+P+V*(r+1)+1);S.push(Q+V)}this.$SphericalRenderer18[p]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[p]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(u),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[p].itemSize=2;this.$SphericalRenderer18[p].numItems=u.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(t),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=t.length/3}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(S),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=S.length}};n.prototype.$SphericalRenderer37=function(o,p,q){"use strict";__p&&__p();var r;if(this.$SphericalRenderer9)r=[1,3,7,5,6,7,3,2,0,2,3,1,4,5,7,6,4,6,2,0,0,1,5,4];else r=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3];var s=[];for(var t=0;t<r.length;t++){var u=r[t]>>2&1,v=r[t]>>1&1,w=r[t]>>0&1;s.push(u*2-1);s.push(v*2-1);s.push(w*2-1)}this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=s.length/3}if(!this.$SphericalRenderer17){var x,y,z,A,B,C=[];if(this.$SphericalRenderer9){var D=this.$SphericalRenderer13.image.videoWidth/2;p=D/(Math.floor(D/32)*32);z=(1-1/p)/2;x=3;y=2;A=1/y;B=1/x}else{z=(1-1/p)/2;x=2;y=3;A=1/y;B=1/x}for(var E=0;E<x;++E)for(var F=0;F<y;++F){var G=x-1-E,H=F;C.push((H+z)*A);C.push((G+z)*B);C.push((H+1-z)*A);C.push((G+z)*B);C.push((H+1-z)*A);C.push((G+1-z)*B);C.push((H+z)*A);C.push((G+1-z)*B)}this.$SphericalRenderer18[q]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[q]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(C),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[q].itemSize=2;this.$SphericalRenderer18[q].numItems=C.length/2}var I=[];for(var J=0;J<r.length;J+=4){I.push(J);I.push(J+2);I.push(J+1);I.push(J);I.push(J+3);I.push(J+2)}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(I),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=I.length}};n.prototype.$SphericalRenderer32=function(){"use strict";var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.VERTEX_SHADER),p="\n      attribute vec3 aVertexPosition;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec3 vVertexDirectionVector;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vVertexDirectionVector = aVertexPosition;\n      }\n    ",q="\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ",r="\n      attribute vec3 aVertexPosition;\n\n      uniform sampler2D uSampler;\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      highp float calculateOffset(highp float offset[19])\n      {\n        highp float sig =  -2.0 * offset[18] + 1.0;\n        highp float e = -127.0\n          + offset[10]\n          + offset[11] * 2.0\n          + offset[12] * 4.0\n          + offset[13] * 8.0\n          + offset[14] * 16.0\n          + offset[15] * 32.0\n          + offset[16] * 64.0\n          + offset[17] * 128.0;\n\n        highp float v = 1.0\n          + offset[9] * 0.5\n          + offset[8] * 0.25\n          + offset[7] * 0.125\n          + offset[6] * 0.0625\n          + offset[5] * 0.03125\n          + offset[4] * 0.015625\n          + offset[3] * 0.0078125\n          + offset[2] * 0.00390625\n          + offset[1] * 0.001953125\n          + offset[0] * 0.0009765625;\n\n        return sig * v * pow(2.0, e);\n      }\n\n      highp vec4 extractFromSample(highp vec4 c)\n      {\n        highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n        highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n        return step(0.5, (c - minC) / diffC);\n      }\n\n      highp vec2 parseOffset()\n      {\n        highp float offsetX[19], offsetZ[19];\n        highp vec4 c;\n        highp float minC, diffC;\n\n        c = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n        offsetX[0] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n        offsetX[1] = c.b;\n        offsetX[2] = c.g;\n        offsetX[3] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n        offsetX[4] = c.b;\n        offsetX[5] = c.g;\n        offsetX[6] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n        offsetX[7] = c.b;\n        offsetX[8] = c.g;\n        offsetX[9] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n        offsetX[10] = c.b;\n        offsetX[11] = c.g;\n        offsetX[12] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n        offsetX[13] = c.b;\n        offsetX[14] = c.g;\n        offsetX[15] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n        offsetX[16] = c.b;\n        offsetX[17] = c.g;\n        offsetX[18] = c.r;\n\n        c = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n        offsetZ[0] = c.b;\n        offsetZ[1] = c.g;\n        offsetZ[2] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n        offsetZ[3] = c.b;\n        offsetZ[4] = c.g;\n        offsetZ[5] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n        offsetZ[6] = c.b;\n        offsetZ[7] = c.g;\n        offsetZ[8] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n        offsetZ[9] = c.b;\n        offsetZ[10] = c.g;\n        offsetZ[11] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n        offsetZ[12] = c.b;\n        offsetZ[13] = c.g;\n        offsetZ[14] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n        offsetZ[15] = c.b;\n        offsetZ[16] = c.g;\n        offsetZ[17] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n        offsetZ[18] = c.b;\n\n        return vec2(calculateOffset(offsetX), -calculateOffset(offsetZ));\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        vOffset = parseOffset();\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + vOffset) * d;\n        v = vec3(t.x, v.y, t.y);\n        vRecompute = 0.0;\n        if ( abs(v.y) < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs(v.y) > 1.0 - eps );\n        }\n        vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n            abs(v.y) > 0.707106781 - eps );\n      }\n    ",s="\n      attribute vec3 aVertexPosition;\n\n      uniform sampler2D uSampler;\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      highp vec4 extractFromSample(highp vec4 c)\n      {\n        highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n        highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n        return step(0.5, (c - minC) / diffC);\n      }\n\n      highp vec2 parseOffset()\n      {\n        highp float calculated_offsetX, calculated_offsetZ;\n        highp float offset_v, offset_e, offset_sig; // temp variables\n        highp vec4 texCoordsX[7], texCoordsZ[7]; // constants\n\n        texCoordsX[0] = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n        texCoordsX[1] = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n        texCoordsX[2] = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n        texCoordsX[3] = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n        texCoordsX[4] = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n        texCoordsX[5] = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n        texCoordsX[6] = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n\n        offset_v = texCoordsX[0].r * 0.0009765625\n          + dot(texCoordsX[1].bgr, vec3(0.001953125, 0.00390625, 0.0078125))\n          + dot(texCoordsX[2].bgr, vec3(0.015625, 0.03125, 0.0625))\n          + dot(texCoordsX[3].bgr, vec3(0.125, 0.25, 0.5))\n          + 1.0;\n\n        offset_e = dot(texCoordsX[4].bgr, vec3(1.0, 2.0, 4.0))\n          + dot(texCoordsX[5].bgr, vec3(8.0, 16.0, 32.0))\n          + dot(texCoordsX[6].bg, vec2(64.0, 128.0))\n          - 127.0;\n\n        offset_sig = -2.0 * texCoordsX[6].r + 1.0;\n        calculated_offsetX = offset_sig * offset_v * pow(2.0, offset_e);\n\n\n        texCoordsZ[0] = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n        texCoordsZ[1] = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n        texCoordsZ[2] = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n        texCoordsZ[3] = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n        texCoordsZ[4] = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n        texCoordsZ[5] = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n        texCoordsZ[6] = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n\n        offset_v = dot(texCoordsZ[0].bgr, vec3(0.0009765625, 0.001953125, 0.00390625))\n          + dot(texCoordsZ[1].bgr, vec3(0.0078125, 0.015625, 0.03125))\n          + dot(texCoordsZ[2].bgr, vec3(0.0625, 0.125, 0.25))\n          + texCoordsZ[3].b * 0.5\n          + 1.0;\n\n        offset_e = dot(texCoordsZ[3].gr, vec2(1.0, 2.0))\n          + dot(texCoordsZ[4].bgr, vec3(4.0, 8.0, 16.0))\n          + dot(texCoordsZ[5].bgr, vec3(32.0, 64.0, 128.0))\n          - 127.0;\n\n        offset_sig = 2.0 * texCoordsZ[6].b - 1.0;\n        calculated_offsetZ = offset_sig * offset_v * pow(2.0, offset_e);\n\n        return vec2(calculated_offsetX, calculated_offsetZ);\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        vOffset = parseOffset();\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + vOffset) * d;\n        v.xz = t.xy;\n        vRecompute = 0.0;\n        highp float abs_vy = abs(v.y);\n        if ( abs_vy < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs_vy > 1.0 - eps );\n        }\n        vRecompute += float( abs_vy < 0.707106781 + eps &&\n            abs_vy > 0.707106781 - eps );\n      }\n    ",t=c("gkx")("AT73kvJgjKMnumznH4av8YzVN25V2PEtu4Y2aMusJtPLGMxgQ6kD-_sQC8oQsXMzMb9gse6Q9ZPW1vyTdU3MNCo6DIYu0Aue01yfPXIRECrTbQ")?s:r,u="\n      attribute vec3 aVertexPosition;\n\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      uniform highp vec2 uOffset;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + uOffset) * d;\n        v = vec3(t.x, v.y, t.y);\n        vRecompute = 0.0;\n        if ( abs(v.y) < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs(v.y) > 1.0 - eps );\n        }\n        vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n            abs(v.y) > 0.707106781 - eps );\n      }\n    ",v=this.$SphericalRenderer7?this.$SphericalRenderer8?u:t:this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,v);this.$SphericalRenderer6.compileShader(o);return o};n.prototype.$SphericalRenderer33=function(){"use strict";var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.FRAGMENT_SHADER),p="\n      varying highp vec3 vVertexDirectionVector;\n      uniform samplerCube uSampler;\n\n      void main(void) {\n        gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n      }\n    ",q="\n      varying highp vec2 vTextureCoord;\n\n      uniform sampler2D uSampler;\n\n      void main(void) {\n        gl_FragColor = texture2D(\n          uSampler,\n          vec2(vTextureCoord.s, vTextureCoord.t)\n        );\n      }\n    ",r="\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      uniform sampler2D uSampler;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      void main()\n      {\n        if (vRecompute > 0.0) {\n          highp vec3 v = normalize( vPos );\n          highp float d = length( v.xz );\n          highp vec2 t = normalize(v.xz / d + vOffset) * d;\n          v = vec3(t.x, v.y, t.y);\n          highp vec2 o;\n          if ( abs(v.y) < 0.707106781 ) {\n            o = EquirectPart( v );\n          } else {\n            o = FacePart( v );\n          }\n          gl_FragColor = texture2D( uSampler, o );\n        } else {\n          gl_FragColor = texture2D( uSampler, vTextureCoord );\n        }\n      }\n    ",s="\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n\n      uniform highp vec2 uOffset;\n      uniform sampler2D uSampler;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      void main()\n      {\n        if (vRecompute > 0.0) {\n          highp vec3 v = normalize( vPos );\n          highp float d = length( v.xz );\n          highp vec2 t = normalize(v.xz / d + uOffset) * d;\n          v = vec3(t.x, v.y, t.y);\n          highp vec2 o;\n          if ( abs(v.y) < 0.707106781 ) {\n            o = EquirectPart( v );\n          } else {\n            o = FacePart( v );\n          }\n          gl_FragColor = texture2D( uSampler, o );\n        } else {\n          gl_FragColor = texture2D( uSampler, vTextureCoord );\n        }\n      }\n    ",t=this.$SphericalRenderer7?this.$SphericalRenderer8?s:r:this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,t);this.$SphericalRenderer6.compileShader(o);return o};n.prototype.$SphericalRenderer38=function(){"use strict";this.$SphericalRenderer23.framebuffer=this.$SphericalRenderer6.createFramebuffer();this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer23.framebuffer);this.$SphericalRenderer6.framebufferTexture2D(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer6.COLOR_ATTACHMENT0,this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13,0);this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};n.prototype.$SphericalRenderer39=function(){"use strict";this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer23.framebuffer);this.$SphericalRenderer6.readPixels(0,this.$SphericalRenderer13.image.videoHeight-1,this.$SphericalRenderer13.image.videoWidth,1,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer23.pixels);this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};n.prototype.$SphericalRenderer40=function(){"use strict";__p&&__p();this.$SphericalRenderer23.bitmask.fill(0);var o=[0,0,0],p=this.$SphericalRenderer13.image.videoWidth/125,q=Math.round(p),r;for(r=0;r<33;++r){var s=Math.floor((45+r)*p)*4,t=128,u=127;for(var v=0;v<3;++v){o[v]=0;for(var w=0;w<q;++w)o[v]+=this.$SphericalRenderer23.pixels[s+w*4+(2-v)];o[v]/=q;t=Math.max(t,o[v]);u=Math.min(u,o[v])}for(v=0;v<3;++v){var x=(o[v]-u)/(t-u);this.$SphericalRenderer23.bitmask[r*3+v]=x>.5?1:0}}for(r=0;r<12;++r){var y=0;for(var z=0;z<8;++z)y+=this.$SphericalRenderer23.bitmask[1+r*8+z]*Math.pow(2,z);this.$SphericalRenderer23.dataView.setUint8(r,y)}this.$SphericalRenderer23.offsetX=this.$SphericalRenderer23.dataView.getFloat32(0,true);this.$SphericalRenderer23.offsetZ=-this.$SphericalRenderer23.dataView.getFloat32(8,true)};n.prototype.$SphericalRenderer41=function(){"use strict";__p&&__p();try{if(!this.$SphericalRenderer23.ready){this.$SphericalRenderer23.pixels=new Uint8Array(3840*4);this.$SphericalRenderer23.bitmask=new Uint8Array(33*3);this.$SphericalRenderer23.dataView=new DataView(new ArrayBuffer(12));this.$SphericalRenderer23.ready=true}if(!this.$SphericalRenderer23.framebuffer)this.$SphericalRenderer38();this.$SphericalRenderer39();this.$SphericalRenderer40()}catch(o){this.emit("renderingError",o)}};n.prototype.$SphericalRenderer42=function(){"use strict";__p&&__p();if(this.$SphericalRenderer17)this.$SphericalRenderer43();else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!this.$SphericalRenderer7);try{this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_2D,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer13.image)}catch(o){this.emit("renderingError",o)}if(this.$SphericalRenderer8)this.$SphericalRenderer41()}};n.prototype.renderWithRotationMatrix=function(o){"use strict";if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer42();this.$SphericalRenderer11=o;if(this.$SphericalRenderer7)k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(-90));this.$SphericalRenderer44()};n.prototype.render=function(o,p){"use strict";__p&&__p();if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer42();if(this.$SphericalRenderer9){k.identity(this.$SphericalRenderer11);k.rotateX(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(-p));k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(o-135));k.rotateZ(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(45))}else{if(this.$SphericalRenderer7)o-=90;k.identity(this.$SphericalRenderer11);k.rotateX(this.$SphericalRenderer11,this.$SphericalRenderer11,-j.toRadian(p));k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(o))}this.$SphericalRenderer44()};n.prototype.$SphericalRenderer44=function(){"use strict";__p&&__p();if(this.$SphericalRenderer17){if(this.$SphericalRenderer20===null)this.$SphericalRenderer37(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0)}else{if(!this.$SphericalRenderer24){this.$SphericalRenderer34();this.$SphericalRenderer6.activeTexture(this.$SphericalRenderer6.TEXTURE0)}var o=this.$SphericalRenderer13.image.videoWidth;if(this.$SphericalRenderer2.projectionType===c("VideoProjection").CUBEMAP||this.$SphericalRenderer2.projectionType===c("VideoProjection").ROTATED_CUBEMAP){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer37(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,o)}else if(this.$SphericalRenderer2.projectionType===c("VideoProjection").BARREL){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer36(this.$SphericalRenderer2.expansionCoef||1.01,o)}else if(this.$SphericalRenderer7){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer35(o,40,40,Math.PI/180*111,Math.PI/180*142,-Math.PI/2)}else if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer35(o);if(!this.$SphericalRenderer7){this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.textureCoordAttribute,this.$SphericalRenderer18[o].itemSize,this.$SphericalRenderer6.FLOAT,false,0,0)}}this.$SphericalRenderer6.uniform1i(this.$SphericalRenderer14.samplerUniform,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);if(this.$SphericalRenderer20)this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.vertexPositionAttribute,this.$SphericalRenderer20.itemSize,this.$SphericalRenderer6.FLOAT,false,0,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.pMatrixUniform,false,this.$SphericalRenderer10);if(this.$SphericalRenderer7){k.invert(this.$SphericalRenderer12,this.$SphericalRenderer11);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer12);if(this.$SphericalRenderer8)this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer14.offsetUniform,this.$SphericalRenderer23.offsetX,this.$SphericalRenderer23.offsetZ)}else this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer11);if(this.$SphericalRenderer19)this.$SphericalRenderer6.drawElements(this.$SphericalRenderer6.TRIANGLES,this.$SphericalRenderer19.numItems,this.$SphericalRenderer6.UNSIGNED_SHORT,0)};n.prototype.$SphericalRenderer45=function(){"use strict";var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_CUBE_MAP_TEXTURE_SIZE),p=this.$SphericalRenderer13.image.width;return Math.min(o,p)};n.prototype.$SphericalRenderer43=function(){"use strict";var o=this.$SphericalRenderer45(),p=this.$SphericalRenderer13.image.width,q=c("DOM").create("canvas",{width:o,height:o}),r=q.getContext("2d");this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,false);for(var s=0;s<6;s++){r.drawImage(this.$SphericalRenderer13.image,0,s*p,p,p,0,0,o,o);var t=new Uint8Array(r.getImageData(0,0,o,o).data);this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,this.$SphericalRenderer6.RGBA,o,o,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,t)}};f.exports=n}),null);
__d("SphericalViewportControl",["cx","invariant","Bootloader","CSS","DOMQuery","Event","EventEmitter","Keys","SphericalPhotoTypedConfig","SubscriptionsHandler","UserAgent","VelocityTracker","SphericalPhotoProjectionUtils","gkx","debounce","getElementRect","performanceNow","requestAnimationFrame","throttle","uniqueID","degToRad","radToDeg","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("DOMQuery").scry(window.document.body,"_li")[0]||window.document.body,m=navigator===undefined||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),n=.6,o=2.5,p=20,q=110,r=179,s=.01,t=1e3,u=.5,v=["W","A","S","D"].reduce(function(y,z){y[z]=z.charCodeAt(0);return y},{}),w={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};j=babelHelpers.inherits(x,c("EventEmitter"));k=j&&j.prototype;function x(y,z){__p&&__p();var A=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],B=arguments.length<=3||arguments[3]===undefined?false:arguments[3],C=arguments.length<=4||arguments[4]===undefined?l:arguments[4];"use strict";k.constructor.call(this);this.$SphericalViewportControl18=false;this.$SphericalViewportControl19=false;this.$SphericalViewportControl20=false;this.$SphericalViewportControl45=false;this.$SphericalViewportControl62=false;this.$SphericalViewportControl64={x:1,y:1};this.$SphericalViewportControl65=false;this.$SphericalViewportControl66=null;this.$SphericalViewportControl69=false;this.$SphericalViewportControl88=function(E){__p&&__p();if(this.$SphericalViewportControl67){if(E.shiftKey){var F=this.$SphericalViewportControl112(E),G=c("getElementRect")(this.$SphericalViewportControl32);if(F.x>G.left&&F.x<G.right&&F.y>G.top&&F.y<G.bottom){var H=(E.deltaX||0)+(E.deltaY||0)+(E.deltaZ||0),I=.5*(G.left+G.right),J=.5*(G.top+G.bottom),K={x:(F.x-I)/(G.right-G.left),y:(F.y-J)/(G.bottom-G.top)};this.emit("wheelScrollWithShiftKey",H,K)}E.preventDefault()}return}E.deliberateSync=true;if(this.$SphericalViewportControl38)E.preventDefault();this.$SphericalViewportControl122(E);if(this.$SphericalViewportControl46)c("Event").kill(E)}.bind(this);this.$SphericalViewportControl122=c("throttle")(function(E){this.emit("wheelScroll",E);if(!this.$SphericalViewportControl46)return;var F=(E.deltaX||0)+(E.deltaY||0)+(E.deltaZ||0),G=F/120*45/10;this.$SphericalViewportControl97(G)}.bind(this),30);this.$SphericalViewportControl125=function(E){this.emit("panningWithRightMouse",this.$SphericalViewportControl109());if(this.$SphericalViewportControl69){this.$SphericalViewportControl66=c("requestAnimationFrame")(this.$SphericalViewportControl125);return}this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y);this.$SphericalViewportControl15=false;this.$SphericalViewportControl66=null}.bind(this);this.$SphericalViewportControl126=function(E){__p&&__p();var F=(E-this.$SphericalViewportControl59)/1e3;this.$SphericalViewportControl59=E;this.$SphericalViewportControl127();if(!this.$SphericalViewportControl60)c("queryThenMutateDOM")(this.$SphericalViewportControl89.bind(this),function(){return null});var G=this.$SphericalViewportControl109(),H=false;if(this.$SphericalViewportControl42&&this.$SphericalViewportControl54&&this.$SphericalViewportControl47&&!this.$SphericalViewportControl19&&!this.$SphericalViewportControl20){var I=this.$SphericalViewportControl128()*F;G.x+=I;var J=this.$SphericalViewportControl129()*F;G.y+=J;if(I||J)H=true}G.x+=this.$SphericalViewportControl8.getVelocityX()*F;G.y+=this.$SphericalViewportControl8.getVelocityY()*F;G.x+=this.$SphericalViewportControl9.getVelocityX()*F;G.y+=this.$SphericalViewportControl9.getVelocityY()*F;G.x*=this.$SphericalViewportControl64.x;G.y*=this.$SphericalViewportControl64.y;this.$SphericalViewportControl130(G.x,G.y);var K=this.$SphericalViewportControl8.getSpeed()>0||this.$SphericalViewportControl9.getSpeed()>0;if(this.$SphericalViewportControl19||this.$SphericalViewportControl18||this.$SphericalViewportControl20||this.$SphericalViewportControl57||this.$SphericalViewportControl45||K||H)this.$SphericalViewportControl66=c("requestAnimationFrame")(this.$SphericalViewportControl126);else{this.$SphericalViewportControl15=false;this.$SphericalViewportControl66=null;var L={yaw:this.$SphericalViewportControl26.x,pitch:this.$SphericalViewportControl26.y},M=this.getCurrentViewport();this.$SphericalViewportControl4.pitch+=L.pitch-M.pitch;this.$SphericalViewportControl4.yaw-=L.yaw-M.yaw;this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y)}}.bind(this);this.$SphericalViewportControl4={pitch:0,yaw:0};this.$SphericalViewportControl5=z.dragVelocityFactor||n;this.$SphericalViewportControl3=false;this.$SphericalViewportControl8=new(c("VelocityTracker"))(300);this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);this.$SphericalViewportControl13=new(c("SubscriptionsHandler"))();this.$SphericalViewportControl32=y;this.$SphericalViewportControl10=C;this.$SphericalViewportControl51=p;this.$SphericalViewportControl52=q;this.$SphericalViewportControl53=r;this.$SphericalViewportControl63=B;this.$SphericalViewportControl70(z);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl59=0;this.$SphericalViewportControl17={left:0,right:0,up:0,down:0};this.$SphericalViewportControl23={x:0,y:0};this.$SphericalViewportControl24={x:0,y:0};this.$SphericalViewportControl25=new(c("VelocityTracker"))();this.$SphericalViewportControl30=new Map();this.$SphericalViewportControl38=false;this.$SphericalViewportControl22=false;this.$SphericalViewportControl27=false;this.$SphericalViewportControl43=A.enableGyro||false;this.$SphericalViewportControl44=A.slipFactor||0;this.$SphericalViewportControl47=A.springFactor||0;this.$SphericalViewportControl48=A.maxSpringDegrees||15;this.$SphericalViewportControl49=A.maxStretchXDegrees||20;this.$SphericalViewportControl50=A.maxStretchYDegrees||20;this.$SphericalViewportControl55=A.rubberBandConstant||0;this.$SphericalViewportControl54=A.enableRubberBanding||false;this.$SphericalViewportControl67=A.enableZoomWithShiftKey||false;this.$SphericalViewportControl68=A.enablePanningWithRightMouse||false;this.$SphericalViewportControl57=false;this.$SphericalViewportControl58=0;this.$SphericalViewportControl56=c("debounce")(function(){return this.emit("zoomStart")}.bind(this),t);this.$SphericalViewportControl37=this.$SphericalViewportControl71();this.$SphericalViewportControl60=A.disableAutoClientSizeUpdate||false;this.$SphericalViewportControl61=[];this.$SphericalViewportControl31=this.addNewLayer(this.$SphericalViewportControl32);var D=c("gkx")("AT6wort62ftT8nJ8tjXEnN_v1U7sMjgy49hKFdpNSQKKjigxquMojqnjaxkK4KUOQBxZ1-sDcK46ktB7tNKfJQMq");if(m&&D)c("Bootloader").loadModules(["FullTilt"],function(E){E.getDeviceOrientation({type:"game"}).then(function(F){return this.$SphericalViewportControl72(F,z)}.bind(this))["catch"](function(F){return this.$SphericalViewportControl73(F)}.bind(this))}.bind(this),"SphericalViewportControl")}x.prototype.$SphericalViewportControl72=function(y,z){"use strict";__p&&__p();if(z.partialLimits){var A=z.partialLimits,B=this.getVerticalFieldOfView(),C=this.getHorizontalFieldOfView();this.$SphericalViewportControl6={top:(A.partialTopDegrees||Infinity)-B/2,bottom:-(A.partialBottomDegrees||Infinity)+B/2,left:-(A.partialLeftDegrees||Infinity)+C/2,right:(A.partialRightDegrees||Infinity)-C/2}}c("Bootloader").loadModules(["MSphericalViewportControlEuler"],function(D){this.$SphericalViewportControl2=new D(y,z,this.$SphericalViewportControl6);this.$SphericalViewportControl2.setActive(true);this.$SphericalViewportControl1=y;this.$SphericalViewportControl1.start(function(){return this.$SphericalViewportControl74()}.bind(this));this.$SphericalViewportControl3=true}.bind(this),"SphericalViewportControl")};x.prototype.$SphericalViewportControl74=function(){"use strict";var y={yaw:c("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:c("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};this.$SphericalViewportControl2.onSensorUpdate();this.$SphericalViewportControl2.getRotationMatrix(y);var z=this.getCurrentViewport();if(!this.$SphericalViewportControl15)this.emit("viewportChange",z.yaw,z.pitch,this.$SphericalViewportControl11)};x.prototype.getCurrentViewport=function(){"use strict";var y={yaw:c("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:c("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};if(!this.$SphericalViewportControl3)return{pitch:c("radToDeg")(y.pitch),yaw:c("radToDeg")(y.yaw)};return this.$SphericalViewportControl2.getCurrentViewport(y)||{pitch:c("radToDeg")(y.pitch),yaw:c("radToDeg")(y.yaw)}};x.prototype.$SphericalViewportControl73=function(y){"use strict";this.emit("sensorSetupError",{error:"SPHERICAL_GYROSCOPE_SETUP_FAILED",message:y})};x.prototype.isListening=function(y){"use strict";return Boolean(this.getSubscriptionKeyFromElement(y))};x.prototype.getSubscriptionKeyFromElement=function(y){"use strict";__p&&__p();for(var z=this.$SphericalViewportControl30,A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C,E=D[0],F=D[1];if(F.element===y)return E}return null};x.prototype.addNewLayer=function(y){"use strict";var z=this.getSubscriptionKeyFromElement(y);if(!z){z=c("uniqueID")();var A=new(c("SubscriptionsHandler"))();this.$SphericalViewportControl75(A,y);this.$SphericalViewportControl30.set(z,{handler:A,element:y})}return z};x.prototype.removeLayer=function(y){"use strict";var z=this.$SphericalViewportControl30.get(y);if(z){z.handler.release();this.$SphericalViewportControl30["delete"](y)}};x.prototype.destroy=function(){"use strict";this.removeAllListeners();this.getSubscriptions().remove()};x.prototype.$SphericalViewportControl75=function(y,z){"use strict";__p&&__p();y.addSubscriptions(c("Event").listen(z,"mousedown",function(A){return this.$SphericalViewportControl76(A)}.bind(this)),c("Event").listen(z,"mouseenter",function(A){return this.$SphericalViewportControl77(A,z)}.bind(this)),c("Event").listen(z,"mouseleave",function(A){return this.$SphericalViewportControl78(A,z)}.bind(this)),c("Event").listen(z,"mousemove",function(A){return this.$SphericalViewportControl79(A)}.bind(this)),c("Event").listen(z,"mouseup",function(A){return this.$SphericalViewportControl80(A)}.bind(this)),c("Event").listen(z,"click",function(A){return this.$SphericalViewportControl81(A)}.bind(this)),c("Event").listen(z,"keydown",function(A){return this.$SphericalViewportControl82(A)}.bind(this)),c("Event").listen(z,"keyup",function(A){return this.$SphericalViewportControl83(A)}.bind(this)),c("Event").listen(z,"blur",function(A){return this.$SphericalViewportControl84(A)}.bind(this)),c("Event").listen(z,"touchstart",function(A){return this.$SphericalViewportControl85(A)}.bind(this)),c("Event").listen(z,"touchmove",function(A){return this.$SphericalViewportControl86(A)}.bind(this)),c("Event").listen(z,"touchend",function(A){return this.$SphericalViewportControl87(A)}.bind(this)),c("Event").listen(z,"touchcancel",function(A){return this.$SphericalViewportControl87(A)}.bind(this)),{remove:function(){z.removeEventListener("wheel",this.$SphericalViewportControl88)}.bind(this)})};x.prototype.$SphericalViewportControl70=function(y){"use strict";__p&&__p();this.$SphericalViewportControl89();this.$SphericalViewportControl7=this.$SphericalViewportControl34/this.$SphericalViewportControl35;var z=y.fieldOfView;this.$SphericalViewportControl46=Boolean(y.enableZoom);this.$SphericalViewportControl29=(y.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl16=(y.keyboardVelocityFactor||0)*1e3||80;if(y.partialLimits){this.$SphericalViewportControl39=y.partialLimits;this.$SphericalViewportControl42=true}else{this.$SphericalViewportControl42=false;this.$SphericalViewportControl39={partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null}}this.$SphericalViewportControl40=this.$SphericalViewportControl39;this.$SphericalViewportControl41=1;if(this.$SphericalViewportControl63)this.$SphericalViewportControl42=true;this.$SphericalViewportControl28={x:y.initialHeading,y:y.initialPitch};var A=this.$SphericalViewportControl39,B=A.partialTopDegrees,C=A.partialBottomDegrees;if(!this.$SphericalViewportControl63&&(B||B===0)&&(C||C===0)){var D=B,E=C,F=D+E;if(z>F){z=F;this.$SphericalViewportControl28.y=(D-E)/2}}this.$SphericalViewportControl11=this.$SphericalViewportControl90(z);this.$SphericalViewportControl12=this.$SphericalViewportControl11;this.$SphericalViewportControl91();this.$SphericalViewportControl26={x:this.$SphericalViewportControl28.x,y:this.$SphericalViewportControl28.y}};x.prototype.reconfigure=function(y){"use strict";this.$SphericalViewportControl70(y)};x.prototype.setEnableGyro=function(y){"use strict";this.$SphericalViewportControl43=y};x.prototype.$SphericalViewportControl76=function(y){"use strict";if(this.$SphericalViewportControl65)this.$SphericalViewportControl92();if(this.isListening(y.target)){this.$SphericalViewportControl19=true;this.$SphericalViewportControl93(y)}};x.prototype.$SphericalViewportControl85=function(y){"use strict";__p&&__p();this.$SphericalViewportControl62=false;if(this.$SphericalViewportControl65)this.$SphericalViewportControl92();if(this.$SphericalViewportControl20){this.$SphericalViewportControl94(y);this.$SphericalViewportControl20=false}else this.$SphericalViewportControl20=true;this.$SphericalViewportControl93(y)};x.prototype.$SphericalViewportControl94=function(y){"use strict";if(y.touches.length===2&&this.$SphericalViewportControl46){this.$SphericalViewportControl57=true;this.$SphericalViewportControl58=this.$SphericalViewportControl95(y)}};x.prototype.$SphericalViewportControl86=function(y){"use strict";this.$SphericalViewportControl62=true;if(this.$SphericalViewportControl57){this.$SphericalViewportControl96(y);if(this.$SphericalViewportControl46)c("Event").kill(y)}};x.prototype.$SphericalViewportControl96=function(y){"use strict";var z=this.$SphericalViewportControl95(y),A=this.$SphericalViewportControl11*(this.$SphericalViewportControl58/z),B=A-this.$SphericalViewportControl11;this.$SphericalViewportControl97(B);this.$SphericalViewportControl58=z};x.prototype.$SphericalViewportControl95=function(y){"use strict";var z=y.touches[0].pageX-y.touches[1].pageX,A=y.touches[0].pageY-y.touches[1].pageY;return Math.sqrt(Math.pow(z,2)+Math.pow(A,2))};x.prototype.$SphericalViewportControl87=function(y){"use strict";if(!this.$SphericalViewportControl62&&c("SphericalPhotoTypedConfig").is_www_tap_to_click_on){y.target.focus(y);this.$SphericalViewportControl81(y)}if(this.$SphericalViewportControl57)this.$SphericalViewportControl57=false;else if(this.$SphericalViewportControl20)this.$SphericalViewportControl98(y)};x.prototype.$SphericalViewportControl93=function(y){"use strict";__p&&__p();this.emit("onMovementStart");this.$SphericalViewportControl99();this.$SphericalViewportControl100(y);this.$SphericalViewportControl101(y);if(this.$SphericalViewportControl68&&(y.which===3||y.button===2)){this.$SphericalViewportControl69=true;this.$SphericalViewportControl15=false}this.$SphericalViewportControl102();y.preventDefault()};x.prototype.$SphericalViewportControl98=function(y){"use strict";if(this.$SphericalViewportControl45&&!this.$SphericalViewportControl19){this.$SphericalViewportControl103();this.$SphericalViewportControl45=false}};x.prototype.$SphericalViewportControl104=function(y){"use strict";if(this.$SphericalViewportControl65)this.$SphericalViewportControl92()};x.prototype.$SphericalViewportControl105=function(y){"use strict";this.$SphericalViewportControl101(y);this.$SphericalViewportControl14=true;this.emit("updateViewportMove")};x.prototype.$SphericalViewportControl106=function(y){"use strict";if(this.$SphericalViewportControl45){this.$SphericalViewportControl107(y);this.emit("updateViewportMove")}};x.prototype.$SphericalViewportControl99=function(){"use strict";this.$SphericalViewportControl15=false;this.$SphericalViewportControl45=false;this.$SphericalViewportControl43=false};x.prototype.$SphericalViewportControl108=function(y){"use strict";this.$SphericalViewportControl101(y);this.$SphericalViewportControl109();this.$SphericalViewportControl92();this.$SphericalViewportControl103();y.preventDefault()};x.prototype.$SphericalViewportControl92=function(y){"use strict";__p&&__p();this.$SphericalViewportControl65=false;c("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=""}.bind(this));this.$SphericalViewportControl20=false;this.$SphericalViewportControl19=false;this.$SphericalViewportControl69=false;this.$SphericalViewportControl13.release();if(this.$SphericalViewportControl36){c("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36);this.$SphericalViewportControl36=""}};x.prototype.$SphericalViewportControl110=function(y){"use strict";if(this.$SphericalViewportControl20&&y.changedTouches)return y.changedTouches[0];else if(this.$SphericalViewportControl19)return y;else if(this.$SphericalViewportControl45)return y;return null};x.prototype.setMovementPosition=function(y){"use strict";this.$SphericalViewportControl23=this.$SphericalViewportControl111(y)};x.prototype.$SphericalViewportControl111=function(y){"use strict";var z=this.$SphericalViewportControl110(y);if(!z)return this.$SphericalViewportControl23;return{x:z.screenX,y:z.screenY}};x.prototype.$SphericalViewportControl112=function(y){"use strict";var z=this.$SphericalViewportControl110(y);if(!z)return this.$SphericalViewportControl24;return{x:z.clientX,y:z.clientY}};x.prototype.$SphericalViewportControl100=function(y){"use strict";__p&&__p();this.$SphericalViewportControl65=true;this.$SphericalViewportControl23=this.$SphericalViewportControl111(y);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl25=new(c("VelocityTracker"))();this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);c("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=this.$SphericalViewportControl37}.bind(this));this.$SphericalViewportControl13.engage();var z=this.$SphericalViewportControl10;if(this.$SphericalViewportControl20)this.$SphericalViewportControl13.addSubscriptions(c("Event").listen(z,"touchmove",function(y){return this.$SphericalViewportControl105(y)}.bind(this)),c("Event").listen(z,"touchend",function(y){return this.$SphericalViewportControl108(y)}.bind(this)),c("Event").listen(z,"touchcancel",function(y){return this.$SphericalViewportControl104(y)}.bind(this)));else this.$SphericalViewportControl13.addSubscriptions(c("Event").listen(z,"mousemove",function(y){return this.$SphericalViewportControl105(y)}.bind(this)),c("Event").listen(z,"mouseup",function(y){return this.$SphericalViewportControl108(y)}.bind(this)),c("Event").listen(z,"mouseleave",function(y){return this.$SphericalViewportControl104(y)}.bind(this)))};x.prototype.$SphericalViewportControl107=function(y){"use strict";this.$SphericalViewportControl113(y,this.$SphericalViewportControl44)};x.prototype.$SphericalViewportControl101=function(y){"use strict";this.$SphericalViewportControl113(y,1)};x.prototype.reEnableGyro=function(){"use strict";this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl43=true;this.$SphericalViewportControl45=true;this.$SphericalViewportControl92()};x.prototype.$SphericalViewportControl113=function(y,z){"use strict";var A=this.$SphericalViewportControl111(y),B=A.x-this.$SphericalViewportControl23.x,C=A.y-this.$SphericalViewportControl23.y,D=this.$SphericalViewportControl22?{x:0,y:0}:this.$SphericalViewportControl21;this.$SphericalViewportControl21={x:z*(A.x-this.$SphericalViewportControl23.x)+D.x,y:z*(A.y-this.$SphericalViewportControl23.y)+D.y};this.$SphericalViewportControl4.yaw+=B*this.$SphericalViewportControl5;this.$SphericalViewportControl4.pitch+=C*this.$SphericalViewportControl5;this.$SphericalViewportControl22=false;this.$SphericalViewportControl23=A;this.$SphericalViewportControl25.update(A.x,A.y);this.$SphericalViewportControl24=this.$SphericalViewportControl112(y)};x.prototype.$SphericalViewportControl114=function(){"use strict";var y=this.$SphericalViewportControl115(),z=-this.$SphericalViewportControl25.getVelocityX()*y,A=this.$SphericalViewportControl25.getVelocityY()*y,B=this.$SphericalViewportControl45?this.$SphericalViewportControl44:1;if(this.$SphericalViewportControl116())z=-z;return{x:z*B,y:A*B}};x.prototype.$SphericalViewportControl117=function(y,z){"use strict";return c("radToDeg")(Math.atan(y/z))};x.prototype.$SphericalViewportControl118=function(y,z,A){"use strict";return{x:this.$SphericalViewportControl117(y.x-this.$SphericalViewportControl34/2,A),y:-this.$SphericalViewportControl117(y.y-this.$SphericalViewportControl35/2,z)}};x.prototype.$SphericalViewportControl119=function(y,z){"use strict";__p&&__p();var A={x:y.x-z.x,y:y.y-z.y},B=this.$SphericalViewportControl35/(2*Math.tan(c("degToRad")(this.getVerticalFieldOfView()/2))),C=B*Math.cos(c("degToRad")(this.$SphericalViewportControl26.y)),D=C-(this.$SphericalViewportControl35/2-y.y)*Math.sin(c("degToRad")(this.$SphericalViewportControl26.y));if(this.$SphericalViewportControl26.y==-90&&z.y<0||this.$SphericalViewportControl26.y==90&&z.y>0){var E=this.$SphericalViewportControl117(A.y-this.$SphericalViewportControl35/2,A.x-this.$SphericalViewportControl34/2),F=this.$SphericalViewportControl117(y.y-this.$SphericalViewportControl35/2,y.x-this.$SphericalViewportControl34/2),G=F-E;if(G>90)G=180-G;else if(G<-90)G=180+G;return{x:G*Math.sign(this.$SphericalViewportControl26.y),y:0}}else{var H=this.$SphericalViewportControl118(A,B,D),I=this.$SphericalViewportControl118(y,B,D);return{x:H.x-I.x,y:H.y-I.y}}};x.prototype.$SphericalViewportControl116=function(){"use strict";var y=this.$SphericalViewportControl33?this.$SphericalViewportControl33.top:c("getElementRect")(this.$SphericalViewportControl32).top,z=this.$SphericalViewportControl24.y-y,A=this.$SphericalViewportControl35/(2*Math.tan(c("degToRad")(this.getVerticalFieldOfView()/2))),B=-A/Math.tan(c("degToRad")(this.$SphericalViewportControl26.y))+this.$SphericalViewportControl35/2,C=z>B&&this.$SphericalViewportControl26.y<0||z<B&&this.$SphericalViewportControl26.y>0;return C};x.prototype.$SphericalViewportControl109=function(){"use strict";__p&&__p();if(this.$SphericalViewportControl69){var y={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=true;y.x=this.$SphericalViewportControl21.x/this.$SphericalViewportControl34;y.y=this.$SphericalViewportControl21.y/this.$SphericalViewportControl35}return y}var z={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=true;var A=this.$SphericalViewportControl33,B=this.$SphericalViewportControl24.x<A.left,C=this.$SphericalViewportControl24.x>A.right,D=this.$SphericalViewportControl24.y<A.top,E=this.$SphericalViewportControl24.y>A.bottom;this.$SphericalViewportControl120(B,C,D,E);var F={x:this.$SphericalViewportControl24.x-A.left,y:this.$SphericalViewportControl24.y-A.top};if(!B&&!C)z.x=this.$SphericalViewportControl119(F,this.$SphericalViewportControl21).x;else z.x=-this.$SphericalViewportControl21.x*this.$SphericalViewportControl115()*u;if(!D&&!E)z.y=this.$SphericalViewportControl119(F,this.$SphericalViewportControl21).y;else z.y=this.$SphericalViewportControl21.y*this.$SphericalViewportControl115()*u}this.$SphericalViewportControl9.updateVelocity(0,0);return this.$SphericalViewportControl121(z)};x.prototype.$SphericalViewportControl121=function(y){"use strict";__p&&__p();if(!this.$SphericalViewportControl54||!this.$SphericalViewportControl42)return y;var z=this.$SphericalViewportControl26,A=z.x,B=z.y,C=this.$SphericalViewportControl40,D=C.partialLeftDegrees,E=C.partialRightDegrees,F=C.partialTopDegrees,G=C.partialBottomDegrees,H=y.x,I=y.y,J=A+H,K=B+I,L=true,M=true,N=true,O=true;if(this.$SphericalViewportControl63){var P=this.$SphericalViewportControl39.partialLeftDegrees,Q=this.$SphericalViewportControl39.partialRightDegrees,R=this.$SphericalViewportControl41===0;if(J<180&&H<0||J>180&&H>0)J=A-H;if((P!=null||!R)&&D!=null)L=D<0?(J<180?J+360:J)>360-D:J>360-D;if((Q!=null||!R)&&E!=null)M=E<0?(J<180?J+360:J)<360+E:(J>180?360-J:J)<E;N=F!=null?K<F:true;O=G!=null?K>-G:true}else{var S=this.getVerticalFieldOfView(),T=this.getHorizontalFieldOfView(),U=J<180?J+360:J,V=J>180?J-360:J;L=D!=null?U>360-D+T/2:true;M=E!=null?V<E-T/2:true;N=F!=null?K<F-S/2:true;O=G!=null?K>-G+S/2:true}if(!L&&!M)H*=this.$SphericalViewportControl55;if(!N||!O)I*=this.$SphericalViewportControl55;return{x:H,y:I}};x.prototype.$SphericalViewportControl77=function(y,z){"use strict";__p&&__p();z.addEventListener("wheel",this.$SphericalViewportControl88);this.emit("mouseEnter");if(this.$SphericalViewportControl19)this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);else if(this.$SphericalViewportControl43&&this.$SphericalViewportControl44){this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);this.$SphericalViewportControl45=true;this.$SphericalViewportControl23=this.$SphericalViewportControl111(y);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl102()}};x.prototype.$SphericalViewportControl78=function(y,z){"use strict";z.removeEventListener("wheel",this.$SphericalViewportControl88);this.emit("mouseLeave",y);this.$SphericalViewportControl98(y)};x.prototype.$SphericalViewportControl79=function(y){"use strict";this.emit("mouseMove",y);if(this.$SphericalViewportControl43)this.$SphericalViewportControl106(y)};x.prototype.$SphericalViewportControl80=function(y){"use strict";this.emit("mouseUp",y)};x.prototype.$SphericalViewportControl81=function(y){"use strict";if(this.isListening(y.target)){y.target.focus();if(!this.$SphericalViewportControl14)this.emit("DOM/click",y);this.$SphericalViewportControl14=false}return false};x.prototype.$SphericalViewportControl97=function(y){"use strict";var z=this.setFieldOfView(this.$SphericalViewportControl11+y);if(z)this.$SphericalViewportControl56()};x.prototype.disableKeyboard=function(){"use strict";this.$SphericalViewportControl27=true};x.prototype.enableKeyboard=function(){"use strict";this.$SphericalViewportControl27=false};x.prototype.$SphericalViewportControl82=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl123(y);if(z&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[z]=1;if(!this.$SphericalViewportControl18){this.$SphericalViewportControl18=true;this.$SphericalViewportControl99();this.$SphericalViewportControl102();this.emit("updateViewportMove")}return false}return true};x.prototype.$SphericalViewportControl83=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl123(y);if(z&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[z]=0;var A=false;for(var B in this.$SphericalViewportControl17)if(Object.prototype.hasOwnProperty.call(this.$SphericalViewportControl17,B)&&this.$SphericalViewportControl17[B]>0){A=true;break}this.$SphericalViewportControl18=A;return false}return true};x.prototype.$SphericalViewportControl103=function(){"use strict";var y=this.$SphericalViewportControl114();this.$SphericalViewportControl9=new(c("VelocityTracker"))(300,y)};x.prototype.$SphericalViewportControl102=function(){__p&&__p();var y,z=this;"use strict";if(!this.$SphericalViewportControl15){var y=function(){__p&&__p();if(z.$SphericalViewportControl60)z.$SphericalViewportControl124();z.$SphericalViewportControl15=true;z.$SphericalViewportControl8.updateVelocity(0,0);z.emit("updateViewportBegin",z.$SphericalViewportControl26.x,z.$SphericalViewportControl26.y);var A=z.once("updateViewportMove",function(){return this.emit("updateViewportMoveStart",this.$SphericalViewportControl45)}.bind(z));z.once("updateViewportEnd",function(){return A.remove()});z.$SphericalViewportControl59=c("performanceNow")();if(z.$SphericalViewportControl69){if(z.$SphericalViewportControl66)cancelAnimationFrame(z.$SphericalViewportControl66);z.$SphericalViewportControl66=c("requestAnimationFrame")(z.$SphericalViewportControl125);return{v:void 0}}if(!z.$SphericalViewportControl66)z.$SphericalViewportControl66=c("requestAnimationFrame")(z.$SphericalViewportControl126)}();if(typeof y==="object")return y.v}};x.prototype.$SphericalViewportControl124=function(){"use strict";this.$SphericalViewportControl33=c("getElementRect")(this.$SphericalViewportControl32)};x.prototype.updateViewportClientSize=function(y){"use strict";this.$SphericalViewportControl34=y.width;this.$SphericalViewportControl35=y.height};x.prototype.updateMinVFOV=function(y){"use strict";this.$SphericalViewportControl51=Math.max(o,Math.min(p,y))};x.prototype.updateMaxVFOV=function(y){"use strict";this.$SphericalViewportControl52=y};x.prototype.updateMaxHFOV=function(y){"use strict";this.$SphericalViewportControl53=y};x.prototype.$SphericalViewportControl89=function(){"use strict";this.$SphericalViewportControl33=c("getElementRect")(this.$SphericalViewportControl32);this.$SphericalViewportControl34=this.$SphericalViewportControl32.clientWidth||1;this.$SphericalViewportControl35=this.$SphericalViewportControl32.clientHeight||1};x.prototype.setAngularVelocityScaleFactor=function(y){"use strict";this.$SphericalViewportControl64=y};x.prototype.$SphericalViewportControl128=function(){"use strict";__p&&__p();var y=180,z=0,A=this.$SphericalViewportControl40,B=A.partialLeftDegrees,C=A.partialRightDegrees;if(B!=null&&C!=null)y=(C-B)/2+180;if(this.$SphericalViewportControl63){var D=this.$SphericalViewportControl39.partialLeftDegrees,E=this.$SphericalViewportControl39.partialRightDegrees,F=this.$SphericalViewportControl41===0;if((D!=null||!F)&&B!=null){var G=B<0&&this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;if(G>y){var H=360-B-G;if(H>0)z=Math.min(H,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}if((E!=null||!F)&&C!=null){var I=C<0&&this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(I<y){var J=C-I;if(J<0)z=Math.max(J,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}}else{var K=this.getHorizontalFieldOfView(),L=this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x,M=this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(B!=null&&C!=null&&B+C<K){var N=(C-B)/2-M;if(N>0)z=Math.min(N,this.$SphericalViewportControl48)*this.$SphericalViewportControl47;else if(N<0)z=Math.max(N,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47;return Math.abs(z)<s?0:z}if(B!=null&&L>=y){var O=360-B+K/2-L;if(O>0)z=Math.min(O,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null&&M<=y){var P=C-K/2-M;if(P<0)z=Math.max(P,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}return Math.abs(z)<s?0:z};x.prototype.$SphericalViewportControl129=function(){"use strict";__p&&__p();var y=0,z=0,A=this.$SphericalViewportControl40,B=A.partialTopDegrees,C=A.partialBottomDegrees;if(this.$SphericalViewportControl63){if(C!=null&&B!=null){if(C<0&&B<-C||B<0&&-B>C)return 0;z=(B-C)/2}if(B!=null&&this.$SphericalViewportControl26.y>z){var D=B-this.$SphericalViewportControl26.y;if(D<0)y=Math.max(D,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null&&this.$SphericalViewportControl26.y<z){var E=-C-this.$SphericalViewportControl26.y;if(E>0)y=Math.min(E,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}else{var F=this.getVerticalFieldOfView();if(C!=null&&B!=null&&C+B<F){var G=(B-C)/2-this.$SphericalViewportControl26.y;if(G>0)y=Math.min(G,this.$SphericalViewportControl48)*this.$SphericalViewportControl47;else if(G<0)y=Math.max(G,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47;return Math.abs(y)<s?0:y}if(B!=null){var H=B-F/2-this.$SphericalViewportControl26.y;if(H<0)y=Math.max(H,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null){var I=-C+F/2-this.$SphericalViewportControl26.y;if(I>0)y=Math.min(I,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}return Math.abs(y)<s?0:y};x.prototype.$SphericalViewportControl120=function(y,z,A,B){"use strict";__p&&__p();var C="";if(y||z||A||B){var D=y?"Left":z?"Right":"",E=A?"Up":B?"Down":"";C=w[E+D]}if(this.$SphericalViewportControl36!=C){if(this.$SphericalViewportControl36){c("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36);this.$SphericalViewportControl36=""}if(C){this.$SphericalViewportControl36=C;c("CSS").addClass(this.$SphericalViewportControl10,C)}}};x.prototype.getSubscriptions=function(){"use strict";return{remove:function(){this.$SphericalViewportControl30.forEach(function(y){var z=y.handler;return z.release()});this.$SphericalViewportControl30.clear();this.$SphericalViewportControl13.release()}.bind(this)}};x.prototype.$SphericalViewportControl84=function(y){"use strict";for(var z in this.$SphericalViewportControl17)this.$SphericalViewportControl17[z]=0;this.$SphericalViewportControl18=false};x.prototype.getOrientation=function(){"use strict";return this.$SphericalViewportControl26};x.prototype.$SphericalViewportControl91=function(y){"use strict";if(this.$SphericalViewportControl63){var z=y!=null?y:this.getVerticalFieldOfView(),A=this.getAspectRatio();this.$SphericalViewportControl40=c("SphericalPhotoProjectionUtils").getPartialLimits(z,A,this.$SphericalViewportControl39);this.$SphericalViewportControl41=c("SphericalPhotoProjectionUtils").getZoomProgress(z,this.$SphericalViewportControl39,A)}};x.prototype.$SphericalViewportControl131=function(y,z){"use strict";__p&&__p();var A=(y+360)%360,B=Math.max(-90,Math.min(90,z));if(!this.$SphericalViewportControl42)return{x:A,y:B};var C=this.$SphericalViewportControl39.partialLeftDegrees,D=this.$SphericalViewportControl39.partialRightDegrees,E=this.$SphericalViewportControl41===0,F=this.$SphericalViewportControl40.partialLeftDegrees,G=this.$SphericalViewportControl40.partialRightDegrees,H=this.$SphericalViewportControl40.partialTopDegrees,I=this.$SphericalViewportControl40.partialBottomDegrees,J=this.getVerticalFieldOfView(),K=this.getHorizontalFieldOfView(),L=0,M=0;if(this.$SphericalViewportControl63){if(this.$SphericalViewportControl54){if(F!=null&&G!=null)L=Math.min(Math.abs((F+G)/2),this.$SphericalViewportControl49);if(H!=null&&I!=null&&H>=-I)M=Math.min(Math.abs((H+I)/2),this.$SphericalViewportControl50)}if((C!=null||!E)&&F!=null)if(F<0)A=Math.max(A>180?A:A+360,360-F-L)%360;else if(A>180)A=Math.max(A,360-F-L);if((D!=null||!E)&&G!=null)if(G<0)A=Math.min(A<180?A+360:A,360+G+L)%360;else if(A<180)A=Math.min(A,G+L);if(H!=null)if(I!=null&&H<0&&-H>I)B=Math.min(B,-I);else B=Math.min(B,H+M);if(I!=null)if(H!=null&&I<0&&H<-I)B=Math.max(B,H);else B=Math.max(B,-I-M)}else{if(this.$SphericalViewportControl54){L=this.$SphericalViewportControl49;M=this.$SphericalViewportControl50}if(F!=null&&G!=null&&F+G<K){var N=(G-F)/2,O=A>180?A-360:A;if(O<N)A=Math.max(O,N-L);else A=Math.min(O,N+L)}else{if(F!=null)A=A<=180?A:Math.max(A,360-F+K/2-L);if(G!=null)A=A>=180?A:Math.min(A,G-K/2+L)}if(H!=null&&I!=null&&H+I<J){var P=(H-I)/2;if(B<P)B=Math.max(B,P-M);else B=Math.min(B,P+M)}else{if(H!=null)B=Math.min(B,H-J/2+M);if(I!=null)B=Math.max(B,-I+J/2-M)}}return{x:A,y:B}};x.prototype.setInitialOrientation=function(){"use strict";var y=this.$SphericalViewportControl131(0,0),z=y.x,A=y.y,B=!Number.isNaN(z+A)&&(z!==this.$SphericalViewportControl26.x||A!==this.$SphericalViewportControl26.y);if(B){this.$SphericalViewportControl26={x:z,y:A};this.emit("initialViewportChange",z,A);this.emit("viewportChange",z,A,this.$SphericalViewportControl11)}};x.prototype.setSphericalOrientation=function(y,z){"use strict";__p&&__p();if(y===null)y=this.$SphericalViewportControl26.x;if(z===null)z=this.$SphericalViewportControl26.y;typeof y==="number"&&typeof z==="number"||i(0);var A=this.$SphericalViewportControl131(y,z),B=A.x,C=A.y,D=!Number.isNaN(B+C)&&(B!==this.$SphericalViewportControl26.x||C!==this.$SphericalViewportControl26.y);if(D){this.$SphericalViewportControl26={x:B,y:C};this.emit("viewportChange",B,C,this.$SphericalViewportControl11)}};x.prototype.setRelativeSphericalOrientation=function(y,z){"use strict";this.setSphericalOrientation(y+this.$SphericalViewportControl28.x,z+this.$SphericalViewportControl28.y)};x.prototype.$SphericalViewportControl130=function(y,z){"use strict";this.setSphericalOrientation(this.$SphericalViewportControl26.x+y,this.$SphericalViewportControl26.y+z)};x.prototype.$SphericalViewportControl90=function(y){"use strict";__p&&__p();if(this.$SphericalViewportControl63){var z=c("SphericalPhotoProjectionUtils").getMaxVfov(this.$SphericalViewportControl39,this.getAspectRatio());return Math.min(z,Math.max(this.$SphericalViewportControl51,y))}else{var A=Math.min(this.$SphericalViewportControl53/this.getAspectRatio(),this.$SphericalViewportControl52);if(this.$SphericalViewportControl42&&this.$SphericalViewportControl39){var B=this.$SphericalViewportControl39.partialTopDegrees||this.$SphericalViewportControl39.partialTopDegrees===0,C=this.$SphericalViewportControl39.partialBottomDegrees||this.$SphericalViewportControl39.partialBottomDegrees===0;if(B&&C){var D=this.$SphericalViewportControl39.partialTopDegrees||0,E=this.$SphericalViewportControl39.partialBottomDegrees||0;A=Math.min(A,D+E)}}return Math.min(A,Math.max(this.$SphericalViewportControl51,y))}};x.prototype.setFieldOfView=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl11,A=this.$SphericalViewportControl90(y);this.$SphericalViewportControl91(A);var B=this.$SphericalViewportControl40,C=B.partialTopDegrees,D=B.partialBottomDegrees,E=B.partialLeftDegrees,F=B.partialRightDegrees,G=C||C===0,H=D||D===0,I=E||E===0,J=F||F===0,K=E||F,L=C||0,M=D||0,N=E||0,O=F||0,P=false,Q=this.$SphericalViewportControl26.x,R=this.$SphericalViewportControl26.y;if(this.$SphericalViewportControl63){L=G?L:90;M=H?M:90;N=I?N:180;O=J?O:180;if(-R>M){if(M<0&&L<-M)R=L;else R=-M;P=true}if(R>L){if(L<0&&L<-M)R=-M;else R=L;P=true}var S=((O-N)/2+180)%360;if(Q>S&&360-Q>N){Q=360-N;P=true}if(Q<S&&Q>O){Q=O;P=true}}else{var T=A*this.getAspectRatio();if(H&&A/2-R>M){R=A/2-M;P=true}if(G&&R+A/2>L){R=L-A/2;P=true}if(G&&H&&L+M<A){R=(L-M)/2;P=true}if(K){var U=((O-N)/2+180)%360;if(Q>U&&T/2+360-Q>N){Q=360+T/2-N;P=true}if(Q<U&&Q+T/2>O){Q=O-T/2;P=true}if(N+O<T){Q=(O-N)/2%360;P=true}}}if(P&&!Number.isNaN(Q+R))this.$SphericalViewportControl26={x:Q,y:R};if(!Number.isNaN(A)&&z!==A||P){this.$SphericalViewportControl11=A;this.emit("viewportChange",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y,A);return true}return false};x.prototype.getVerticalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11};x.prototype.getAspectRatio=function(){"use strict";if(this.$SphericalViewportControl32&&this.$SphericalViewportControl34&&this.$SphericalViewportControl35)return this.$SphericalViewportControl34/this.$SphericalViewportControl35;return this.$SphericalViewportControl7};x.prototype.getHorizontalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11*this.getAspectRatio()};x.prototype.setPreventScrollDefaultAction=function(y){"use strict";this.$SphericalViewportControl38=y};x.prototype.setEnableZoom=function(y){"use strict";this.$SphericalViewportControl46=y;if(!y)this.setFieldOfView(this.$SphericalViewportControl12)};x.prototype.updateViewport=function(y,z,A){"use strict";this.$SphericalViewportControl26={x:y,y:z};this.$SphericalViewportControl11=this.$SphericalViewportControl90(A);this.$SphericalViewportControl91()};x.prototype.isUpdating=function(){"use strict";return this.$SphericalViewportControl15};x.prototype.$SphericalViewportControl127=function(){"use strict";var y=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.right-this.$SphericalViewportControl17.left),z=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.up-this.$SphericalViewportControl17.down);this.$SphericalViewportControl8.updateVelocity(y,z)};x.prototype.$SphericalViewportControl123=function(y){"use strict";__p&&__p();var z=c("Event").getKeyCode(y),A=null;switch(z){case c("Keys").LEFT:case v.A:A="left";break;case c("Keys").UP:case v.W:A="up";break;case c("Keys").RIGHT:case v.D:A="right";break;case c("Keys").DOWN:case v.S:A="down";break}return A};x.prototype.$SphericalViewportControl115=function(){"use strict";return this.$SphericalViewportControl11/this.$SphericalViewportControl35};x.prototype.$SphericalViewportControl71=function(){"use strict";var y="grabbing";if(c("UserAgent").isEngine("WebKit"))y="-webkit-"+y;else if(c("UserAgent").isEngine("Gecko"))y="-moz-"+y;return y};f.exports=x}),null);
__d("SphericalViewportControlNew",["invariant","Event","EventEmitter","SphericalViewportPriorityConfig","SphericalViewportEventToMovementConfig","SphericalViewportMediaToMovementConfig","SphericalViewportMovement","SubscriptionsHandler","SphericalViewportUtils","requestAnimationFrame"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SphericalViewportEventToMovementConfig").SphericalViewportEventEnum,l=c("SphericalViewportMediaToMovementConfig").SphericalViewportMediaToMovementConfig,m=110,n=20;i=babelHelpers.inherits(o,c("EventEmitter"));j=i&&i.prototype;function o(p,q,r){__p&&__p();j.constructor.call(this);this.$SphericalViewportControlNew11=function(){if(this.$SphericalViewportControlNew4)this.$SphericalViewportControlNew4.animate();c("requestAnimationFrame")(this.$SphericalViewportControlNew11)}.bind(this);this.$SphericalViewportControlNew1=p;this.$SphericalViewportControlNew2={x:r.initialHeading,y:r.initialPitch,vFOV:r.fieldOfView};this.$SphericalViewportControlNew3=q;this.$SphericalViewportControlNew4=null;this.$SphericalViewportControlNew9();this.$SphericalViewportControlNew10();this.$SphericalViewportControlNew7=false;this.$SphericalViewportControlNew8=false;c("requestAnimationFrame")(this.$SphericalViewportControlNew11)}o.prototype.$SphericalViewportControlNew9=function(){var p=l[this.$SphericalViewportControlNew3];this.$SphericalViewportControlNew5=c("SphericalViewportUtils").createMovementShapeFromIDs(this,p)};o.prototype.$SphericalViewportControlNew10=function(){this.$SphericalViewportControlNew6=new(c("SubscriptionsHandler"))();this.$SphericalViewportControlNew6.addSubscriptions(c("Event").listen(this.$SphericalViewportControlNew1,"mouseenter",function(p){return this.$SphericalViewportControlNew12(p)}.bind(this)),c("Event").listen(this.$SphericalViewportControlNew1,"mouseleave",function(p){return this.$SphericalViewportControlNew13(p)}.bind(this)),c("Event").listen(this.$SphericalViewportControlNew1,"wheel",function(p){return this.$SphericalViewportControlNew14(p)}.bind(this)))};o.prototype.$SphericalViewportControlNew15=function(p){__p&&__p();var q=this.$SphericalViewportControlNew4;if(q&&(!q.isValid()||!q.isActive()))this.$SphericalViewportControlNew4=null;if(p.length===0)return;var r=c("SphericalViewportPriorityConfig").NONE,s="";for(var t=p,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w,y=this.$SphericalViewportControlNew5[x];y!==null&&y!==undefined||h(0);var z=y.getStartPriority();if(y.isValid()&&z>r){r=z;s=x}}var A=this.$SphericalViewportControlNew4?this.$SphericalViewportControlNew4.getActivePriority():c("SphericalViewportPriorityConfig").NONE;if(s!==""&&r>A)this.$SphericalViewportControlNew4=this.$SphericalViewportControlNew5[s]};o.prototype.$SphericalViewportControlNew12=function(p){this.$SphericalViewportControlNew7=true;this.$SphericalViewportControlNew15([])};o.prototype.$SphericalViewportControlNew13=function(p){this.$SphericalViewportControlNew7=false;this.$SphericalViewportControlNew15([])};o.prototype.$SphericalViewportControlNew14=function(p){var q=c("SphericalViewportUtils").getMovementIDsForEvent(this.$SphericalViewportControlNew3,k.WHEEL);this.$SphericalViewportControlNew15(q);if(this.$SphericalViewportControlNew4)this.$SphericalViewportControlNew4.handleWheelEvent(p)};o.prototype.$SphericalViewportControlNew16=function(p){this.$SphericalViewportControlNew2=p;this.$SphericalViewportControlNew15([]);this.emit("viewportChange",this.$SphericalViewportControlNew2.x,this.$SphericalViewportControlNew2.y,this.$SphericalViewportControlNew2.vFOV)};o.prototype.$SphericalViewportControlNew17=function(p){this.$SphericalViewportControlNew8=p;this.$SphericalViewportControlNew15([])};o.prototype.getOrientation=function(){return Object.assign({},this.$SphericalViewportControlNew2)};o.prototype.setOrientation=function(p){p=this.$SphericalViewportControlNew18(p);var q=this.$SphericalViewportControlNew2.x!==p.x||this.$SphericalViewportControlNew2.y!==p.y||this.$SphericalViewportControlNew2.vFOV!==p.vFOV;if(q)this.$SphericalViewportControlNew16(p);return q};o.prototype.$SphericalViewportControlNew18=function(p){var q=(p.x%360+360)%360,r=Math.max(-90,Math.min(90,p.y)),s=Math.min(m,Math.max(n,p.vFOV));return{x:q,y:r,vFOV:s}};o.prototype.isMouseOnElement=function(){return this.$SphericalViewportControlNew7};o.prototype.isInTahoe=function(){return this.$SphericalViewportControlNew8};o.prototype.setInTahoe=function(p){this.$SphericalViewportControlNew17(p)};o.prototype.getMovements=function(){return this.$SphericalViewportControlNew5};f.exports=o}),null);
__d("SphericalViewportEventToMovementConfig",["SphericalViewportMovementEnum","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h,i=c("keyMirror")({WHEEL:null}),j=(h={},h[i.WHEEL]=[c("SphericalViewportMovementEnum").WWW_ZOOM],h);f.exports={SphericalViewportEventEnum:i,SphericalViewportEventToMovementConfig:j}}),null);
__d("SphericalViewportMediaToMovementConfig",["SphericalViewportMovementEnum","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h,i=c("keyMirror")({WWW_VIDEO:null}),j=(h={},h[i.WWW_VIDEO]=[c("SphericalViewportMovementEnum").WWW_ZOOM],h);f.exports={SphericalViewportMediaEnum:i,SphericalViewportMediaToMovementConfig:j}}),null);
__d("SphericalViewportMovementEnum",["SphericalViewportWWWZoom","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({WWW_ZOOM:null});f.exports=h}),null);
__d("SphericalViewportPriorityConfig",["SphericalViewportMovementEnum"],(function a(b,c,d,e,f,g){"use strict";var h,i=(h={NONE:0},h[c("SphericalViewportMovementEnum").WWW_ZOOM]={START:500,ACTIVE:550},h);f.exports=i}),null);
__d("SphericalViewportUtils",["SphericalViewportEventToMovementConfig","SphericalViewportMediaToMovementConfig","SphericalViewportMovementEnum","SphericalViewportWWWZoom"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("SphericalViewportEventToMovementConfig").SphericalViewportEventToMovementConfig,i=c("SphericalViewportMediaToMovementConfig").SphericalViewportMediaToMovementConfig,j={getEmptyMovementShape:function k(){return{WWW_ZOOM:null}},createMovementFromID:function k(l,m){switch(m){case c("SphericalViewportMovementEnum").WWW_ZOOM:return new(c("SphericalViewportWWWZoom"))(l);default:throw new Error("Unrecognized movement ID: "+m)}},createMovementShapeFromIDs:function k(l,m){__p&&__p();var n=this.getEmptyMovementShape();for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n[c("SphericalViewportMovementEnum")[s]]=this.createMovementFromID(l,s)}return n},getMovementIDsForEvent:function k(l,event){var m=new Set(i[l]),n=new Set(h[event]),o=this._setIntersection(m,n);return Array.from(o)},_setIntersection:function k(l,m){__p&&__p();var n=new Set();for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(m.has(s))n.add(s)}return n}};f.exports=j}),null);
__d("SphericalViewportMovement",["Event","SphericalViewportControlNew","SphericalViewportPriorityConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.__viewportControl=i}h.prototype.isValid=function(){return true};h.prototype.isActive=function(){return false};h.prototype.animate=function(){};h.prototype.getStartPriority=function(){return c("SphericalViewportPriorityConfig").NONE};h.prototype.getActivePriority=function(){return c("SphericalViewportPriorityConfig").NONE};h.prototype.handleWheelEvent=function(i){};f.exports=h}),null);
__d("SphericalViewportWWWZoom",["Event","SphericalViewportMovementEnum","SphericalViewportPriorityConfig","SphericalViewportMovement","debounce","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3,k=30;h=babelHelpers.inherits(l,c("SphericalViewportMovement"));i=h&&h.prototype;function l(m){i.constructor.call(this,m);this.$SphericalViewportWWWZoom1=c("debounce")(function(){return this.__viewportControl.emit("zoomStart")}.bind(this),j);this.handleWheelEvent=c("throttle")(function(n){var o=(n.deltaX||0)+(n.deltaY||0)+(n.deltaZ||0),p=o/120*45/10,q=this.__viewportControl.getOrientation();q.vFOV+=p;var r=this.__viewportControl.setOrientation(q);if(r)this.$SphericalViewportWWWZoom1()}.bind(this),k)}l.prototype.isValid=function(){return this.__viewportControl.isInTahoe()&&this.__viewportControl.isMouseOnElement()};l.prototype.isActive=function(){return false};l.prototype.getStartPriority=function(){return c("SphericalViewportPriorityConfig")[c("SphericalViewportMovementEnum").WWW_ZOOM].START};l.prototype.getActivePriority=function(){return c("SphericalViewportPriorityConfig")[c("SphericalViewportMovementEnum").WWW_ZOOM].ACTIVE};f.exports=l}),null);
__d("SphericalVideoPlayer",["cx","invariant","Arbiter","Banzai","CSS","DOM","DOMDimensions","Event","FullScreen","SphericalVideoExperiments","SphericalVideoPerformanceTracker","QE2Logger","SphericalMediaCanvasPool","SphericalParallaxUtils","SphericalVideoComponentActions","SphericalVideoPlayerEvents","SphericalViewportControl","SphericalViewportControlNew","SphericalVideoComponentDispatcher","SphericalViewportMediaToMovementConfig","SubscriptionsHandler","SphericalRenderer","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","forwardEvent","getElementRect","gkx","requestAnimationFrame","uniqueID","getFullScreenElement","onViewportChanged","getViewportDimensions","SphericalViewportControlStore","VideoPlayerControllerStore"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("SphericalParallaxUtils").calculateYawOffset,k=c("SphericalViewportMediaToMovementConfig").SphericalViewportMediaEnum,l="SphericalVideoPlayer",m=2,n=1e3,o=32,p="www_videos_spherical_zoom",q="www_videos_spherical_parallax",r=.8,s=16,t=15,u=r/s/t,v=50,w=.1,x=false;c("SphericalMediaCanvasPool").setLimit(m,l);function y(z,A){__p&&__p();this.$SphericalVideoPlayer46=function(){__p&&__p();var B=!!this.$SphericalVideoPlayer1.getOption("VideoWithSphericalGuide","auto");if(this.$SphericalVideoPlayer1.getSource()!==c("VideoPlayerLoggerSource").INLINE||B)return;var C=this.$SphericalVideoPlayer53();if(C===null)return;typeof C==="number"||i(0);this.$SphericalVideoPlayer26=C;if(this.$SphericalVideoPlayer29){this.$SphericalVideoPlayer24=this.$SphericalVideoPlayer12.getOrientation().x-this.$SphericalVideoPlayer26;this.$SphericalVideoPlayer25=this.$SphericalVideoPlayer26;this.$SphericalVideoPlayer29=false}}.bind(this);this.$SphericalVideoPlayer48=function(){if(!this.$SphericalVideoPlayer1.isState(c("VideoPlayerStates").PAUSED))this.$SphericalVideoPlayer1.pause(c("VideoPlayerReason").SPHERICAL_SWITCH_CANVAS);this.$SphericalVideoPlayer55();this.$SphericalVideoPlayer44()}.bind(this);this.$SphericalVideoPlayer52=function(B){__p&&__p();if(!this.$SphericalVideoPlayer14)return;var C=this.$SphericalVideoPlayer14,D=this.$SphericalVideoPlayer30?B-this.$SphericalVideoPlayer30:0,E=this.$SphericalVideoPlayer54(D);if(E)this.$SphericalVideoPlayer36(this.$SphericalVideoPlayer24+this.$SphericalVideoPlayer25,null);if(this.$SphericalVideoPlayer2.readyState>=this.$SphericalVideoPlayer2.HAVE_CURRENT_DATA&&(this.$SphericalVideoPlayer42()||this.$SphericalVideoPlayer7||E)){c("SphericalVideoPerformanceTracker").get().setProjection(this.$SphericalVideoPlayer10.projectionType).addFrameAtTime(B);this.$SphericalVideoPlayer7=false;if(x){var F=this.$SphericalVideoPlayer13.getOrientation();C.render(F.x+90,F.y)}else{var G=this.$SphericalVideoPlayer12.getOrientation();C.render(G.x+90,G.y)}if(this.$SphericalVideoPlayer16&&!c("gkx")("AT7g-6wUL2l3zqcle9L4ueRfS4fZ17IYQrLCkC75DrI9esnQVViFHEDra2QwMrprOv35vnNmRWRvnhgMQesRQwul")){this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=null}}this.$SphericalVideoPlayer30=B;c("requestAnimationFrame")(this.$SphericalVideoPlayer52)}.bind(this);this.$SphericalVideoPlayer33=function(B,C){this.$SphericalVideoPlayer12.setRelativeSphericalOrientation(B,C)}.bind(this);this.$SphericalVideoPlayer36=function(B,C){this.$SphericalVideoPlayer12.setSphericalOrientation(B,C)}.bind(this);this.$SphericalVideoPlayer37=function(B){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer14.updateFieldOfView(B);this.$SphericalVideoPlayer12.setFieldOfView(B);this.$SphericalVideoPlayer20=B;this.$SphericalVideoPlayer32()}}.bind(this);this.$SphericalVideoPlayer38=function(B){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer10.projectionType=B;this.$SphericalVideoPlayer14.reconfigure(this.$SphericalVideoPlayer2,this.$SphericalVideoPlayer10,true);this.$SphericalVideoPlayer32()}}.bind(this);this.$SphericalVideoPlayer39=function(B){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer10.stereoFormat=B;this.$SphericalVideoPlayer14.reconfigure(this.$SphericalVideoPlayer2,this.$SphericalVideoPlayer10,true);this.$SphericalVideoPlayer32()}}.bind(this);this.$SphericalVideoPlayer34=function(B,C){__p&&__p();if(c("FullScreen").isFullScreen()&&(B<this.$SphericalVideoPlayer5.width||C<this.$SphericalVideoPlayer5.height))return;if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer5.width=B;this.$SphericalVideoPlayer5.height=C;this.$SphericalVideoPlayer51(this.$SphericalVideoPlayer14,B,C);if(this.$SphericalVideoPlayer11.useViewportDimension)this.$SphericalVideoPlayer6=c("DOMDimensions").getElementDimensions(this.$SphericalVideoPlayer4);this.$SphericalVideoPlayer32()}else this.$SphericalVideoPlayer5={width:B,height:C}}.bind(this);this.$SphericalVideoPlayer50=function(B,C,D){__p&&__p();if(!this.$SphericalVideoPlayer14)return;B=B>=0?(B+180)%360-180:(B-180)%360+180;this.$SphericalVideoPlayer57(B,C);this.$SphericalVideoPlayer19.yaw=B;this.$SphericalVideoPlayer19.pitch=C;this.$SphericalVideoPlayer20=D;if(this.$SphericalVideoPlayer14)this.$SphericalVideoPlayer14.updateFieldOfView(D);this.$SphericalVideoPlayer56(B);this.$SphericalVideoPlayer32()}.bind(this);this.$SphericalVideoPlayer10=z;this.$SphericalVideoPlayer11=Object.assign({viewportClassName:"_2a6s",canvasClassName:"_38vt",placeholderImgClassName:"_44h9",videoID:"",playerID:undefined,eagerPreload:undefined,preventScrollDefaultAction:undefined,useViewportDimension:undefined,useContainerDimensions:undefined},A);this.$SphericalVideoPlayer22=0;this.$SphericalVideoPlayer28=true;this.$SphericalVideoPlayer29=false}y.prototype.enable=function(z){__p&&__p();if(this.$SphericalVideoPlayer1)return;this.$SphericalVideoPlayer1=z;if(typeof b.WebGLRenderingContext!=="function"&&typeof b.WebGL2RenderingContext!=="function"){this.$SphericalVideoPlayer31({error:"SPHERICAL_SETUP_FAILED",message:"WebGLRenderingContext not available."});return}if(!c("gkx")("AT5Aw7CfI_sJnKS7axSijFMja9sKcPHnyU2K5fdb4uGkxoDFZs19JW5Zy-t4TtlYWxayGfsI93QoiBEamC0x2sdSME272XcNyV5bNTBsKX4_BQ")){this.$SphericalVideoPlayer31({error:"SPHERICAL_RENDER_ERROR",message:"Unsupported browser version"});return}var A=z.getVideoNode();A instanceof HTMLVideoElement||i(0);this.$SphericalVideoPlayer2=A;this.$SphericalVideoPlayer7=false;this.$SphericalVideoPlayer18=true;this.$SphericalVideoPlayer8=new(c("SubscriptionsHandler"))();this.$SphericalVideoPlayer8.addSubscriptions(c("Event").listen(this.$SphericalVideoPlayer2,"loadeddata",function(){return this.$SphericalVideoPlayer32()}.bind(this)),c("Event").listen(this.$SphericalVideoPlayer2,"seeked",function(){return this.$SphericalVideoPlayer32()}.bind(this)),c("Event").listen(this.$SphericalVideoPlayer2,"ended",function(){return this.$SphericalVideoPlayer33(0,0)}.bind(this)),c("Event").listen(window,"resize",function(){if(c("FullScreen").isFullScreen()&&this.$SphericalVideoPlayer1.getContainerNode()===c("getFullScreenElement")())this.$SphericalVideoPlayer34(window.innerWidth,window.innerHeight)}.bind(this)),z.addListener("stateChange",function(){if(z.isState(c("VideoPlayerStates").DESTROYED)||z.isState(c("VideoPlayerStates").FALLBACK)&&(z.isLiveVideo()||!z.isFallbackRecoverable()))this.$SphericalVideoPlayer35()}.bind(this)),z.addListener(c("VideoPlayerFallbackEvents").RECOVER,function(){this.$SphericalVideoPlayer35();c("CSS").removeClass(this.$SphericalVideoPlayer2,"_3axk");this.$SphericalVideoPlayer1.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").SPHERICAL_FALLBACK))}.bind(this)),z.addListener(c("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,this.$SphericalVideoPlayer36),z.addListener(c("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,this.$SphericalVideoPlayer33),z.addListener(c("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$SphericalVideoPlayer37),z.addListener(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.$SphericalVideoPlayer38),z.addListener(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.$SphericalVideoPlayer39),z.addListener("dimensionsChange",this.$SphericalVideoPlayer34),z.once("changeVolume",function(){return this.$SphericalVideoPlayer18=false}.bind(this)),z.once("muteVideo",function(){return this.$SphericalVideoPlayer18=false}.bind(this)),z.once("unmuteVideo",function(){return this.$SphericalVideoPlayer18=false}.bind(this)),z.addListener("toggleFullscreen",function(){return this.$SphericalVideoPlayer4.focus()}.bind(this)),z.addListener("TahoeController/enterTahoe",function(){this.$SphericalVideoPlayer4.focus();if(c("SphericalVideoExperiments").enableWWWZoom){if(x)this.$SphericalVideoPlayer13.setInTahoe(true);this.$SphericalVideoPlayer12.setEnableZoom(true);this.$SphericalVideoPlayer23=true;this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/zoomEnabled")}c("QE2Logger").logExposureForUser(p)}.bind(this)),z.addListener("TahoeController/exitTahoe",function(){this.$SphericalVideoPlayer4.focus();if(c("SphericalVideoExperiments").enableWWWZoom){if(x)this.$SphericalVideoPlayer13.setInTahoe(false);this.$SphericalVideoPlayer12.setEnableZoom(false);this.$SphericalVideoPlayer23=false;this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/zoomDisabled")}}.bind(this)));if(this.$SphericalVideoPlayer11.useContainerDimensions){var B=z.getContainerNode();this.$SphericalVideoPlayer5=c("DOMDimensions").getElementDimensions(B)}else{this.$SphericalVideoPlayer5=c("DOMDimensions").getElementDimensions(A);if(this.$SphericalVideoPlayer5.width===0||this.$SphericalVideoPlayer5.height===0)this.$SphericalVideoPlayer5={width:A.width,height:A.height}}this.$SphericalVideoPlayer15=this.$SphericalVideoPlayer1.getVideoPlayerID()||c("uniqueID")();this.$SphericalVideoPlayer19={yaw:this.$SphericalVideoPlayer10.initialHeading,pitch:this.$SphericalVideoPlayer10.initialPitch};this.$SphericalVideoPlayer20=this.$SphericalVideoPlayer10.fieldOfView;this.$SphericalVideoPlayer23=false;var C=z.getVideoProjection();if(C)this.$SphericalVideoPlayer10.projectionType=C;c("CSS").addClass(A,"_3axk");this.$SphericalVideoPlayer40();z.registerOption("SphericalVideoPlayer","getDimensions",function(){return this.$SphericalVideoPlayer11.useViewportDimension?this.$SphericalVideoPlayer6:this.$SphericalVideoPlayer5}.bind(this));z.registerOption("SphericalVideoPlayer","isReady",function(){return!!this.$SphericalVideoPlayer14}.bind(this));z.registerOption("SphericalVideoPlayer","getScreenshotDataURL",function(){return this.$SphericalVideoPlayer41()}.bind(this));z.registerOption("SphericalVideoPlayer","getIsSingleFisheye",function(){return this.$SphericalVideoPlayer10.isSingleFisheye&&this.$SphericalVideoPlayer10.originalFOV!==null}.bind(this));z.registerOption("SphericalVideoPlayer","getOriginalFOV",function(){return this.$SphericalVideoPlayer10.originalFOV}.bind(this));z.registerOption("SphericalVideoPlayer","getEnableZoom",function(){return this.$SphericalVideoPlayer23}.bind(this));if(this.$SphericalVideoPlayer42()||this.$SphericalVideoPlayer11.eagerPreload)this.$SphericalVideoPlayer43();else this.$SphericalVideoPlayer44()};y.prototype.disable=function(){this.$SphericalVideoPlayer35()};y.prototype.$SphericalVideoPlayer43=function(){__p&&__p();if(this.$SphericalVideoPlayer1.getOption("SphericalVideoPlayer","isUnavailable"))return;if(this.$SphericalVideoPlayer17){this.$SphericalVideoPlayer17.remove();this.$SphericalVideoPlayer17=null}try{c("SphericalVideoPerformanceTracker").get().setProjection(this.$SphericalVideoPlayer10.projectionType).enterSphericalRendererSetup();this.$SphericalVideoPlayer45();c("SphericalVideoPerformanceTracker").get().exitSphericalRendererSetup()}catch(z){this.$SphericalVideoPlayer31({error:"SPHERICAL_SETUP_FAILED",message:z.message});return}this.$SphericalVideoPlayer1.setStillFrameEnabled(false);this.$SphericalVideoPlayer32();this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/ready");c("QE2Logger").logExposureForUser(q);if(c("SphericalVideoExperiments").enableWWWParallax){var A=this.$SphericalVideoPlayer12.getOrientation().x;if(this.$SphericalVideoPlayer28)this.$SphericalVideoPlayer24=A;else this.$SphericalVideoPlayer29=true;this.$SphericalVideoPlayer27=c("onViewportChanged")(this.$SphericalVideoPlayer46)}this.$SphericalVideoPlayer28=false};y.prototype.$SphericalVideoPlayer44=function(){this.$SphericalVideoPlayer17=this.$SphericalVideoPlayer1.addListener("stateChange",function(){if(this.$SphericalVideoPlayer42())this.$SphericalVideoPlayer43()}.bind(this))};y.prototype.$SphericalVideoPlayer47=function(){if(!this.$SphericalVideoPlayer14)return;var z=this.$SphericalVideoPlayer41(),A=c("DOM").create("img",{width:this.$SphericalVideoPlayer5.width,height:this.$SphericalVideoPlayer5.height,src:z,className:this.$SphericalVideoPlayer11.placeholderImgClassName});c("DOM").insertAfter(this.$SphericalVideoPlayer2,A);if(this.$SphericalVideoPlayer16)this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=A;this.$SphericalVideoPlayer48()};y.prototype.$SphericalVideoPlayer41=function(z,A){if(!this.$SphericalVideoPlayer14)return"";var B=this.$SphericalVideoPlayer14,C=this.$SphericalVideoPlayer12.getOrientation(),D=C.x,E=C.y;return B.getScreenshotDataURL(D+90,E,z,A)};y.prototype.$SphericalVideoPlayer40=function(){__p&&__p();var z=c("DOM").create("div",{className:this.$SphericalVideoPlayer11.viewportClassName,tabIndex:0}),A={};if(this.$SphericalVideoPlayer10.isSingleFisheye&&this.$SphericalVideoPlayer10.originalFOV){var B=this.$SphericalVideoPlayer10.originalFOV/2;this.$SphericalVideoPlayer10.partialLimits={partialLeftDegrees:B,partialRightDegrees:B,partialTopDegrees:B,partialBottomDegrees:B};A=this.$SphericalVideoPlayer49()}var C=new(c("SphericalViewportControl"))(z,this.$SphericalVideoPlayer10,A);if(x)this.$SphericalVideoPlayer13=new(c("SphericalViewportControlNew"))(z,k.WWW_VIDEO,this.$SphericalVideoPlayer10);this.$SphericalVideoPlayer8.addSubscriptions(C.addListener("DOM/click",function(E){if(E.button!==0)return;this.$SphericalVideoPlayer1.clickVideo();E.preventDefault()}.bind(this)),C.addListener("mouseMove",function(E){this.$SphericalVideoPlayer1.mouseMove(E);E.preventDefault()}.bind(this)),C.addListener("mouseUp",function(E){this.$SphericalVideoPlayer1.mouseUp(E);E.preventDefault()}.bind(this)),C.addListener("mouseLeave",function(E){this.$SphericalVideoPlayer1.mouseLeave(E);E.preventDefault()}.bind(this)),C.addListener("updateViewportBegin",function(){if(this.$SphericalVideoPlayer1.isMuted()&&this.$SphericalVideoPlayer18){this.$SphericalVideoPlayer18=false;this.$SphericalVideoPlayer1.unmute()}this.$SphericalVideoPlayer1.logEvent(c("VideoPlayerLoggerEvent").VIEWPORT_ROTATED)}.bind(this)));if(x)this.$SphericalVideoPlayer8.addSubscriptions(this.$SphericalVideoPlayer13.addListener("viewportChange",this.$SphericalVideoPlayer50));else this.$SphericalVideoPlayer8.addSubscriptions(C.addListener("viewportChange",this.$SphericalVideoPlayer50));this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","getCurrentViewport",function(){return this.$SphericalVideoPlayer19}.bind(this));this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","getFieldOfView",function(){return this.$SphericalVideoPlayer20}.bind(this));var D=["DOM/click","updateViewportBegin","updateViewportMove","updateViewportEnd","wheelScroll","viewportChange"];this.$SphericalVideoPlayer8.addSubscriptions.apply(this.$SphericalVideoPlayer8,D.map(function(E){return c("forwardEvent")(C,this.$SphericalVideoPlayer1,E)}.bind(this)));this.$SphericalVideoPlayer12=C;this.$SphericalVideoPlayer4=z;c("Arbiter").subscribe("VideoChannelView/opened",function(){this.$SphericalVideoPlayer21=true;this.$SphericalVideoPlayer12.disableKeyboard()}.bind(this));c("Arbiter").subscribe("VideoChannelView/closed",function(){this.$SphericalVideoPlayer21=false;this.$SphericalVideoPlayer12.enableKeyboard()}.bind(this));c("FullScreen").subscribe("changed",function(){if(c("FullScreen").isFullScreen())this.$SphericalVideoPlayer12.enableKeyboard();else if(this.$SphericalVideoPlayer21)this.$SphericalVideoPlayer12.disableKeyboard()}.bind(this));if(this.$SphericalVideoPlayer11.preventScrollDefaultAction)this.$SphericalVideoPlayer12.setPreventScrollDefaultAction(true);c("DOM").insertAfter(this.$SphericalVideoPlayer2,z);if(this.$SphericalVideoPlayer11.useViewportDimension)this.$SphericalVideoPlayer6=c("DOMDimensions").getElementDimensions(z);c("SphericalVideoComponentDispatcher").explicitlyRegisterStores([c("SphericalViewportControlStore"),c("VideoPlayerControllerStore")]);c("SphericalVideoComponentActions").registerSphericalViewportControl(this.$SphericalVideoPlayer1.getVideoPlayerID(),this.$SphericalVideoPlayer12,this.$SphericalVideoPlayer4)};y.prototype.$SphericalVideoPlayer45=function(){__p&&__p();var z={canvasAttrs:{width:this.$SphericalVideoPlayer5.width,height:this.$SphericalVideoPlayer5.height,className:this.$SphericalVideoPlayer11.canvasClassName,tabIndex:0},beforeCanvasLost:function(){return this.$SphericalVideoPlayer47()}.bind(this)},A=c("SphericalMediaCanvasPool").get(this.$SphericalVideoPlayer15,z,l),B=new(c("SphericalRenderer"))(this.$SphericalVideoPlayer2,A,this.$SphericalVideoPlayer10);this.$SphericalVideoPlayer9=new(c("SubscriptionsHandler"))();this.$SphericalVideoPlayer9.addSubscriptions(B.addListener("renderingError",function(C){return this.$SphericalVideoPlayer31({error:"SPHERICAL_RENDER_ERROR",message:C.message})}.bind(this)),B.addListener("renderingContextLost",this.$SphericalVideoPlayer48));this.$SphericalVideoPlayer3=A;this.$SphericalVideoPlayer14=B;c("DOM").insertAfter(this.$SphericalVideoPlayer2,A);this.$SphericalVideoPlayer51(B,this.$SphericalVideoPlayer5.width,this.$SphericalVideoPlayer5.height);c("requestAnimationFrame")(this.$SphericalVideoPlayer52);if(!c("gkx")("AT7g-6wUL2l3zqcle9L4ueRfS4fZ17IYQrLCkC75DrI9esnQVViFHEDra2QwMrprOv35vnNmRWRvnhgMQesRQwul"))c("CSS").show(A);else{c("CSS").hide(A);setTimeout(function(){c("requestAnimationFrame")(function(){c("CSS").show(A);if(this.$SphericalVideoPlayer16){this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=null}}.bind(this))}.bind(this),o)}};y.prototype.$SphericalVideoPlayer53=function(){var z=this.$SphericalVideoPlayer1.getRootNode();if(!z)return null;var A=c("getElementRect")(z),B=A.top+A.bottom/2,C=c("getViewportDimensions").withoutScrollbars().height,D=B/C*100,E=this.$SphericalVideoPlayer12.getHorizontalFieldOfView(),F=j(D,null,null,E),G=F.yaw,H=F.success;if(H)return G;return null};y.prototype.$SphericalVideoPlayer54=function(z){__p&&__p();if(typeof this.$SphericalVideoPlayer26!=="number")return false;if(typeof this.$SphericalVideoPlayer25!=="number")this.$SphericalVideoPlayer25=0;var A=Math.abs(this.$SphericalVideoPlayer25-this.$SphericalVideoPlayer26);if(A<w)return false;var B=A*u,C=Math.max(z,v);if(this.$SphericalVideoPlayer25<this.$SphericalVideoPlayer26)this.$SphericalVideoPlayer25+=Math.min(this.$SphericalVideoPlayer26-this.$SphericalVideoPlayer25,B*C);else this.$SphericalVideoPlayer25-=Math.min(this.$SphericalVideoPlayer25-this.$SphericalVideoPlayer26,B*C);return true};y.prototype.$SphericalVideoPlayer31=function(event){this.$SphericalVideoPlayer1.logError(event);this.$SphericalVideoPlayer1.emit(c("VideoPlayerLoggerEvent").ERROR,event);this.$SphericalVideoPlayer35()};y.prototype.$SphericalVideoPlayer42=function(){return this.$SphericalVideoPlayer1.isState(c("VideoPlayerStates").PLAYING)};y.prototype.$SphericalVideoPlayer56=function(z){if(!this.$SphericalVideoPlayer25)return;this.$SphericalVideoPlayer24=z-this.$SphericalVideoPlayer25};y.prototype.$SphericalVideoPlayer51=function(z,A,B){z.updateViewportDimensions(A,B);c("SphericalVideoComponentActions").updateViewportDimensions(this.$SphericalVideoPlayer1.getVideoPlayerID(),A,B)};y.prototype.$SphericalVideoPlayer32=function(){this.$SphericalVideoPlayer7=true};y.prototype.$SphericalVideoPlayer57=function(z,A){var B=Date.now();if(B-this.$SphericalVideoPlayer22>=n){this.$SphericalVideoPlayer22=B;var C=!!this.$SphericalVideoPlayer1.getOption("VideoWithSphericalGuide","auto");c("Banzai").post("spherical_video_viewport",{video_fbid:this.$SphericalVideoPlayer1.getVideoID(),yaw_degrees:z,pitch_degrees:A,roll_degrees:0,field_of_view_y:this.$SphericalVideoPlayer10.fieldOfView,aspect_ratio:this.$SphericalVideoPlayer5.height/this.$SphericalVideoPlayer5.width,video_player_position:this.$SphericalVideoPlayer2.currentTime,video_player_position_ms:this.$SphericalVideoPlayer2.currentTime*1e3,guide_enabled:C,timestamp:B})}};y.prototype.$SphericalVideoPlayer55=function(){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer14.destroy();this.$SphericalVideoPlayer14=null;this.$SphericalVideoPlayer27&&this.$SphericalVideoPlayer27.remove();this.$SphericalVideoPlayer27=null;this.$SphericalVideoPlayer9.release();this.$SphericalVideoPlayer3.remove()}};y.prototype.$SphericalVideoPlayer35=function(){__p&&__p();if(!this.$SphericalVideoPlayer1.hasOption("SphericalVideoPlayer","isUnavailable"))this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","isUnavailable",function(){return true});if(this.$SphericalVideoPlayer8)this.$SphericalVideoPlayer8.release();this.$SphericalVideoPlayer55();if(this.$SphericalVideoPlayer12)this.$SphericalVideoPlayer12.destroy();if(this.$SphericalVideoPlayer4)this.$SphericalVideoPlayer4.remove();c("SphericalVideoPerformanceTracker").get().destroy()};y.prototype.$SphericalVideoPlayer49=function(){return{disableAutoClientSizeUpdate:false,enableGyro:false,enableRubberBanding:false,maxSpringDegrees:0,maxStretchXDegrees:0,maxStretchYDegrees:0,minVFOV:3,rubberBandConstant:0,slipFactor:0,springFactor:0,enableZoomWithShiftKey:false,enablePanningWithRightMouse:false}};f.exports=y}),null);
__d("ComposerVideoUploadSphericalEvents",[],(function a(b,c,d,e,f,g){"use strict";f.exports={GUIDE:{KEYFRAMES_UPDATE:"ComposerVideoUploadSphericalVideoPreviewGuide/keyframesUpdate",CURRENT_POI_UPDATE:"ComposerVideoUploadSphericalVideoPreviewGuide/currentPOIUpdate"},PREVIEW:{INITAL_VIEWPORT_UPDATE:"ComposerVideoUploadSphericalVideoPreview/initialViewportUpdate",GUIDE_KEYFRAMES_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideKeyframesUpdate",GUIDE_STATE_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideStateUpdate",GUIDE_VISIBILITY_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideVisibilityUpdate",KEYFRAME_EDITING_STATE_UPDATE:"ComposerVideoUploadSphericalVideoPreview/keyframeEditingStateUpdate",FIELD_OF_VIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreview/fieldOfViewUpdate",MOBILE_PREVIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreview/mobilePreviewUpdate"},OVERLAY_BUTTONS:{ADD_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/addPOI",SAVE_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/savePOI",EDIT_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/editPOI",REMOVE_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/removePOI",CLEAR_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/clearPOI",CREATE_THUMBNAIL:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/createThumbnail"},VIEWPORT_CONTROL:{VIEWPORT_UPDATE:"ComposerVideoUploadSphericalVideoPreviewViewportControl/viewportUpdate",FIELD_OF_VIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreviewViewportControl/fieldOfViewUpdate"},MEDIA_TOOLKIT:{SAVE_HOTSPOT:"composerVideoUploadSphericalMediaToolkit/saveHotspot",EDIT_PREVIEW_HOTSPOT:"SphericalVideoMediaToolkitPreviewElement/click"}}}),null);
__d("SphericalVideoRecenterControl",["ComposerVideoUploadSphericalEvents","SubscriptionsHandler","easeInOutInterpolate","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h=1e3;function i(j,k,l){"use strict";__p&&__p();this.$SphericalVideoRecenterControl2=j;this.$SphericalVideoRecenterControl1=false;this.$SphericalVideoRecenterControl7=this.$SphericalVideoRecenterControl10.bind(this);this.$SphericalVideoRecenterControl6={yaw:k,pitch:l};this.$SphericalVideoRecenterControl5={yaw:k,pitch:l};if(j.getOption("SphericalVideoPlayer","isReady"))this.$SphericalVideoRecenterControl11();else j.once("SphericalVideoPlayer/ready",function(){return this.$SphericalVideoRecenterControl11()}.bind(this))}i.prototype.$SphericalVideoRecenterControl11=function(){"use strict";__p&&__p();this.$SphericalVideoRecenterControl9=new(c("SubscriptionsHandler"))();this.$SphericalVideoRecenterControl9.addSubscriptions(this.$SphericalVideoRecenterControl2.addListener("updateViewportBegin",function(){return this.$SphericalVideoRecenterControl12()}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("SphericalHeadingIndicator/click",function(){return this.$SphericalVideoRecenterControl13()}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("VideoWithSphericalGuide/intervalUpdate",function(j){return this.updateTargetViewport(j.baseYaw+j.deltaYaw,j.basePitch+j.deltaPitch)}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("VideoWithSphericalGuide/stateToggle",function(j){if(!j){this.$SphericalVideoRecenterControl6.yaw=this.$SphericalVideoRecenterControl5.yaw;this.$SphericalVideoRecenterControl6.pitch=this.$SphericalVideoRecenterControl5.pitch}}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("SphericalVideoViewportTagComment/click",function(j){return this.$SphericalVideoRecenterControl13(j)}.bind(this)),this.$SphericalVideoRecenterControl2.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.EDIT_PREVIEW_HOTSPOT,function(j){return this.$SphericalVideoRecenterControl13(j)}.bind(this)))};i.prototype.updateTargetViewport=function(j,k){"use strict";this.$SphericalVideoRecenterControl6.yaw=j;this.$SphericalVideoRecenterControl6.pitch=k};i.prototype.$SphericalVideoRecenterControl13=function(j){"use strict";__p&&__p();if(this.$SphericalVideoRecenterControl1||this.$SphericalVideoRecenterControl2.getOption("VideoWithSphericalGuide","enabled")&&this.$SphericalVideoRecenterControl2.isState("playing"))return;this.$SphericalVideoRecenterControl1=true;this.$SphericalVideoRecenterControl3=Date.now();var k=this.$SphericalVideoRecenterControl2.getOption("SphericalVideoPlayer","getCurrentViewport"),l=j||this.$SphericalVideoRecenterControl6,m=l.yaw-k.yaw;if(Math.abs(m)>180)m=m>0?m-360:m+360;this.$SphericalVideoRecenterControl8={basePitch:k.pitch,deltaPitch:l.pitch-k.pitch,baseYaw:k.yaw,deltaYaw:m};this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationStart");c("requestAnimationFrame")(this.$SphericalVideoRecenterControl7)};i.prototype.$SphericalVideoRecenterControl12=function(){"use strict";this.$SphericalVideoRecenterControl1=false};i.prototype.$SphericalVideoRecenterControl10=function(){"use strict";__p&&__p();if(!this.$SphericalVideoRecenterControl1){this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationEnd");return}var j=Date.now();if(j-this.$SphericalVideoRecenterControl3>h){this.$SphericalVideoRecenterControl1=false;this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationEnd");return}c("requestAnimationFrame")(this.$SphericalVideoRecenterControl7);var k=this.$SphericalVideoRecenterControl8,l=c("easeInOutInterpolate")((j-this.$SphericalVideoRecenterControl3)/h),m=k.deltaPitch*l+k.basePitch,n=k.deltaYaw*l+k.baseYaw;this.$SphericalVideoRecenterControl2.setSphericalOrientation(n,m)};i.prototype.destroy=function(){"use strict";this.$SphericalVideoRecenterControl9.release()};f.exports=i}),null);
__d("VideoSphericalHeadingIndicator",["cx","CSS","React","ReactDOM","SphericalVideoHeadingIndicator.react","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","destroyOnUnload"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k,l,m,n){__p&&__p();var o,p=this,q=arguments.length<=5||arguments[5]===undefined?false:arguments[5];this.$VideoSphericalHeadingIndicator7=function(event){event.preventDefault();this.$VideoSphericalHeadingIndicator1.emit("SphericalHeadingIndicator/click");this.$VideoSphericalHeadingIndicator1.logEvent(c("VideoPlayerLoggerEvent").HEADING_RESET)}.bind(this);this.$VideoSphericalHeadingIndicator1=j;this.$VideoSphericalHeadingIndicator2=k;this.$VideoSphericalHeadingIndicator3=l;this.$VideoSphericalHeadingIndicator4=q;var r=j.addListener(c("VideoPlayerFallbackEvents").ENTER,function(){r.remove();c("ReactDOM").unmountComponentAtNode(k)});if(j.isState("ready")||j.isState("playing"))this.$VideoSphericalHeadingIndicator5();else(function(){var s=j.addListener("stateChange",function(){if(this.$VideoSphericalHeadingIndicator1.isState("ready")||this.$VideoSphericalHeadingIndicator1.isState("playing")){s.remove();this.$VideoSphericalHeadingIndicator5()}}.bind(p))})();c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(k)})}i.prototype.$VideoSphericalHeadingIndicator5=function(){this.$VideoSphericalHeadingIndicator1.addListener("toggleFullscreen",this.$VideoSphericalHeadingIndicator6.bind(this));c("ReactDOM").render(c("React").createElement(c("SphericalVideoHeadingIndicator.react"),{initialYaw:this.$VideoSphericalHeadingIndicator3,onClick:this.$VideoSphericalHeadingIndicator7,controller:this.$VideoSphericalHeadingIndicator1,isComposer:this.$VideoSphericalHeadingIndicator4}),this.$VideoSphericalHeadingIndicator2)};i.prototype.$VideoSphericalHeadingIndicator6=function(){if(this.$VideoSphericalHeadingIndicator1.isFullscreen())c("CSS").addClass(this.$VideoSphericalHeadingIndicator2,"_4ubd");else c("CSS").removeClass(this.$VideoSphericalHeadingIndicator2,"_4ubd")};f.exports=i}),null);
__d("VideoWithSphericalGuide",["SphericalVideoGuideAnimation","SubscriptionsHandler","VideoPlayerLoggerEvent","Run"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.$VideoWithSphericalGuide1=i;this.$VideoWithSphericalGuide2=j;this.$VideoWithSphericalGuide6=new(c("SubscriptionsHandler"))();this.$VideoWithSphericalGuide7();if(this.$VideoWithSphericalGuide1.getOption("SphericalVideoPlayer","isReady"))this.$VideoWithSphericalGuide8();else this.$VideoWithSphericalGuide6.addSubscriptions(this.$VideoWithSphericalGuide1.once("SphericalVideoPlayer/ready",function(){return this.$VideoWithSphericalGuide8()}.bind(this)))}h.prototype.$VideoWithSphericalGuide7=function(){"use strict";__p&&__p();var i=function(n,o){return this.$VideoWithSphericalGuide1.setSphericalOrientation(n,o)}.bind(this),j=function(){return this.$VideoWithSphericalGuide1.getOption("SphericalVideoPlayer","getCurrentViewport")}.bind(this),k=function(){return this.$VideoWithSphericalGuide1.isState("playing")}.bind(this),l=function(n,o){return this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/viewportChange",n,o)}.bind(this);this.$VideoWithSphericalGuide1.registerOption("VideoWithSphericalGuide","enabled",function(){return this.$VideoWithSphericalGuide4.isEnabled()}.bind(this));this.$VideoWithSphericalGuide1.registerOption("VideoWithSphericalGuide","auto",function(){return this.$VideoWithSphericalGuide3.isEnabled()}.bind(this));var m=function(){return this.$VideoWithSphericalGuide1.getCurrentTimePosition()}.bind(this);this.$VideoWithSphericalGuide3=new(c("SphericalVideoGuideAnimation"))(this.$VideoWithSphericalGuide2,i,j,m,k);this.$VideoWithSphericalGuide4=new(c("SphericalVideoGuideAnimation"))(this.$VideoWithSphericalGuide2,l,j,m,k);this.$VideoWithSphericalGuide5=false};h.prototype.$VideoWithSphericalGuide8=function(){"use strict";__p&&__p();this.$VideoWithSphericalGuide6.addSubscriptions(this.$VideoWithSphericalGuide1.addListener("updateViewportBegin",function(){return this.$VideoWithSphericalGuide9()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("SphericalHeadingIndicator/click",function(){if(this.$VideoWithSphericalGuide4.isEnabled()&&!this.$VideoWithSphericalGuide3.isEnabled())this.setAutoEnabled(true)}.bind(this)),this.$VideoWithSphericalGuide1.addListener("seekEnd",function(){return this.$VideoWithSphericalGuide10()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("stateChange",function(){if(this.$VideoWithSphericalGuide1.isState("playing"))this.$VideoWithSphericalGuide11()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$VideoWithSphericalGuide12()}.bind(this)),this.$VideoWithSphericalGuide4.addListener("newIntervalCalculated",this.$VideoWithSphericalGuide13.bind(this)),this.$VideoWithSphericalGuide3.addListener("toggle",function(i,j){this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/toggle",i);var event=i?c("VideoPlayerLoggerEvent").GUIDE_ENTERED:c("VideoPlayerLoggerEvent").GUIDE_EXITED,k=j?{reason:j}:null;this.$VideoWithSphericalGuide1.logEvent(event,k)}.bind(this)));c("Run").onUnload(function(){return this.$VideoWithSphericalGuide6.release()}.bind(this));if(this.$VideoWithSphericalGuide2.guideEnabled){this.$VideoWithSphericalGuide4.setEnabled(true);this.setAutoEnabled(true,"guide_auto_entered")}};h.prototype.$VideoWithSphericalGuide12=function(){"use strict";this.$VideoWithSphericalGuide5=true};h.prototype.$VideoWithSphericalGuide13=function(i){"use strict";this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/intervalUpdate",i)};h.prototype.$VideoWithSphericalGuide9=function(){"use strict";var i=this.$VideoWithSphericalGuide1.once("updateViewportMove",function(){return this.setAutoEnabled(false)}.bind(this));this.$VideoWithSphericalGuide1.once("updateViewportEnd",function(){return i.remove()})};h.prototype.$VideoWithSphericalGuide10=function(){"use strict";if(this.$VideoWithSphericalGuide3.isEnabled())this.$VideoWithSphericalGuide3.updateViewport(true);if(this.$VideoWithSphericalGuide4.isEnabled())this.$VideoWithSphericalGuide4.updateViewport(true)};h.prototype.$VideoWithSphericalGuide11=function(){"use strict";if(this.$VideoWithSphericalGuide5){this.$VideoWithSphericalGuide5=false;this.$VideoWithSphericalGuide3.calculateKeyframeIntervalOnResume()}this.$VideoWithSphericalGuide3.resumeAnimation();this.$VideoWithSphericalGuide4.resumeAnimation()};h.prototype.setInitialViewport=function(i,j){"use strict";this.$VideoWithSphericalGuide3.setInitialViewport(i,j);this.$VideoWithSphericalGuide4.setInitialViewport(i,j);this.$VideoWithSphericalGuide4.updateViewport(true)};h.prototype.setEnabled=function(i){"use strict";this.$VideoWithSphericalGuide4.setEnabled(i);this.$VideoWithSphericalGuide3.setEnabledOnResume(i);this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/stateToggle",i)};h.prototype.setAutoEnabled=function(i,j){"use strict";this.$VideoWithSphericalGuide3.setEnabledOnResume(i,j)};h.prototype.setKeyframes=function(i){"use strict";this.$VideoWithSphericalGuide4.setKeyframes(i);this.$VideoWithSphericalGuide4.updateViewport(true);this.$VideoWithSphericalGuide3.setKeyframes(i);this.$VideoWithSphericalGuide3.calculateKeyframeIntervalOnResume()};f.exports=h}),null);
__d("FileVideoThumbnail",["Promise","DOM","VideoThumbnail","canvasToBlob"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=b.URL||b.webkitURL||{};h=babelHelpers.inherits(k,c("VideoThumbnail"));i=h&&h.prototype;function k(l){"use strict";i.constructor.call(this,null);this.$FileVideoThumbnail1=l}k.prototype.getURL=function(){"use strict";if(!this.$FileVideoThumbnail2)this.$FileVideoThumbnail2=j.createObjectURL(this.$FileVideoThumbnail1);return this.$FileVideoThumbnail2};k.prototype.getData=function(){"use strict";return c("Promise").resolve(this.$FileVideoThumbnail1)};k.prototype.getDataWithText=function(l,m,n,o,p,q,r,s,t,u){"use strict";__p&&__p();var v=c("DOM").create("canvas"),w=v.getContext("2d");v.width=l;v.height=m;return new(c("Promise"))(function(x,y){var z=new Image();z.onload=function(){w.drawImage(z,0,0,v.width,v.height);w=c("VideoThumbnail").addTextToCanvasContext(w,n,o,p,q,r,s,t,u);c("canvasToBlob")(v,"image/jpeg").then(x,y).done()};z.src=this.$FileVideoThumbnail2}.bind(this))};f.exports=k}),null);
__d("generateSelectedThumbnails",["Promise","CanvasVideoThumbnail","EventListener","VideoFrameBuffer"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){__p&&__p();var m=arguments.length<=4||arguments[4]===undefined?"contain":arguments[4];return new(c("Promise"))(function(n,o){__p&&__p();var p=document.createElement("canvas");p.width=k;p.height=l;var q=[],r=0,s=new(c("VideoFrameBuffer"))(p,i,m),t=void 0,u=void 0,v=function v(){s.updateFrameBuffer();var x=new(c("CanvasVideoThumbnail"))(p,i,u);q.push(x);x.getURL();w()},w=function w(){__p&&__p();if(r===0){t=c("EventListener").listen(i,"seeked",v);u=j[r];i.currentTime=u;r++}else if(q.length<j.length){u=j[r];i.currentTime=u;r++}else{if(t)t.remove();n({thumbnails:q})}};w()})}f.exports=h}),null);
__d("VideoProducerDuration.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.duration,m=k.className,n=k.showMilliseconds;if(l==null)return null;var o=l/1e3,p=Math.floor((o-Math.floor(o))*1e3),q=(""+p).padStart(3,"0"),r=Math.floor(o),s=(""+r%60).padStart(2,"0"),t=Math.floor(r/60),u=(""+t%60).padStart(2,"0"),v=Math.floor(t/60),w=(""+v).padStart(2,"0"),x=w+":"+u+":"+s+(n?"."+q:"");return c("React").createElement("span",{className:m},x)};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ComposerVideoThumbnailScrubber.react",["ix","cx","fbt","DateConsts","generateSelectedThumbnails","Image.react","React","Style","UserAgent","VideoProducerDuration.react","VideoThumbnailUIActionsTypedLogger","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=10,n=1e3,o=900,p=15,q=10,r=48,s=45,t=45,u=80,v=285,w=463,x=15,y=8;k=babelHelpers.inherits(z,c("React").Component);l=k&&k.prototype;function z(A){__p&&__p();l.constructor.call(this,A);this.$ComposerVideoThumbnailScrubber8=function(C){var D=parseInt(C.target.value,10);this.setState({scrubberValue:D});this.$ComposerVideoThumbnailScrubber9(D)}.bind(this);this.$ComposerVideoThumbnailScrubber11=function(){this.$ComposerVideoThumbnailScrubber4()}.bind(this);var B=new Set();if(A.scrubbedThumbnail)B.add(A.scrubbedThumbnail);this.state={scrubberValue:0,videoURL:"",maxScrubberValue:n,selectedFrames:B,savedFrame:A.scrubbedThumbnail,buffer:false}}z.prototype.componentDidMount=function(){this.setState({videoURL:this.props.videoURL})};z.prototype.componentDidUpdate=function(){if(this.state.buffer)this.setState({buffer:false})};z.prototype.UNSAFE_componentWillReceiveProps=function(A){if(A.thumbnails!==this.props.thumbnails)this.setState({videoURL:A.videoURL})};z.prototype.shouldComponentUpdate=function(A,B){return A.thumbnails!==this.props.thumbnails||A.showThumbnailScrubberDialog!==this.props.showThumbnailScrubberDialog||B!=this.state};z.prototype.$ComposerVideoThumbnailScrubber1=function(A){__p&&__p();A=A.sort(function(G,H){return G-H});var B=[],C=0;A.forEach(function(G){G=this.$ComposerVideoThumbnailScrubber2(G,r);if(G-C<p)G=C+p;C=G;B.push(G)}.bind(this));var D=void 0;if(this.refs.scrubber)D=parseInt(c("Style").get(this.refs.scrubber,"width"),10)+s;else{this.setState({buffer:true});return[]}var E=D,F=A.length-1;while(B[F]-E>0){B[F]=E;E-=p;F--}return B};z.prototype.$ComposerVideoThumbnailScrubber2=function(A,B){if(this.refs.scrubber){var C=parseInt(c("Style").get(this.refs.scrubber,"width"),10)-y;return Math.floor(A/this.state.maxScrubberValue*C)+B}return B};z.prototype.$ComposerVideoThumbnailScrubber3=function(A){var B=this.refs.video;if(B&&B.duration)return B.duration*A/this.state.maxScrubberValue;return 0};z.prototype.$ComposerVideoThumbnailScrubber4=function(){this.setState({scrubberValue:0});this.props.closeDialog()};z.prototype.$ComposerVideoThumbnailScrubber5=function(){if(this.state.selectedFrames.length!==0){var A=this.refs.videoPlayer,B=Array.from(this.state.selectedFrames);B=B.sort(function(C,D){return C-D});B=B.map(function(C){return this.$ComposerVideoThumbnailScrubber3(C)}.bind(this));return c("generateSelectedThumbnails")(A,B,w,v)}return null};z.prototype.$ComposerVideoThumbnailScrubber6=function(){if(this.state.savedFrame)return this.$ComposerVideoThumbnailScrubber1([this.state.savedFrame])[0];return 0};z.prototype.$ComposerVideoThumbnailScrubber7=function(){if(this.state.selectedFrames.size===1)return Array.from(this.state.selectedFrames)[0];return 0};z.prototype.$ComposerVideoThumbnailScrubber10=function(A){if(A){this.setState({scrubberValue:A});this.$ComposerVideoThumbnailScrubber9(A)}};z.prototype.$ComposerVideoThumbnailScrubber12=function(){var A=this.$ComposerVideoThumbnailScrubber5();this.props.onSelectedThumbnailsFromScrubber&&this.props.onSelectedThumbnailsFromScrubber(A);if(this.state.selectedFrames.size===1){var B=this.$ComposerVideoThumbnailScrubber7();this.props.onScrubbedThumbnailSave&&this.props.onScrubbedThumbnailSave(B);this.setState({savedFrame:B})}new(c("VideoThumbnailUIActionsTypedLogger"))().setEvent("saved_scrubbed_thumbnail").setEditLocation("upload").setProfileID(this.props.pageID).log();this.$ComposerVideoThumbnailScrubber4()};z.prototype.$ComposerVideoThumbnailScrubber13=function(A){var B=this.state.selectedFrames;B.clear();B.add(A);this.setState({selectedFrames:B})};z.prototype.$ComposerVideoThumbnailScrubber14=function(){if(this.refs.video&&this.refs.video.duration&&this.state.maxScrubberValue!=this.refs.video.duration*m)this.setState({maxScrubberValue:this.refs.video.duration*m})};z.prototype.$ComposerVideoThumbnailScrubber9=function(A){var B=this.refs.video;if(B)B.currentTime=this.$ComposerVideoThumbnailScrubber3(A)};z.prototype.render=function(){if(!this.props.showThumbnailScrubberDialog)return null;return c("React").createElement(c("XUIDialog.react"),{shown:this.props.showThumbnailScrubberDialog,layerHideOnBlur:false,onToggle:this.$ComposerVideoThumbnailScrubber11,width:o},c("React").createElement(c("XUIDialogTitle.react"),null,j._("Choose thumbnail from video")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,c("React").createElement("video",{ref:"video",src:this.state.videoURL,className:"_eaa",onLoadedMetadata:function(){return this.$ComposerVideoThumbnailScrubber14()}.bind(this),muted:true}),c("React").createElement("div",{style:{paddingLeft:this.$ComposerVideoThumbnailScrubber2(this.state.scrubberValue,x)}},c("React").createElement(c("VideoProducerDuration.react"),{duration:this.$ComposerVideoThumbnailScrubber3(this.state.scrubberValue)*c("DateConsts").MS_PER_SEC})),this.$ComposerVideoThumbnailScrubber15(),c("React").createElement("input",{className:c("UserAgent").isBrowser("Firefox")?"_eab":"_eac",onChange:this.$ComposerVideoThumbnailScrubber8,min:0,max:this.state.maxScrubberValue,ref:"scrubber",type:"range",value:this.state.scrubberValue}),this.$ComposerVideoThumbnailScrubber16(),c("React").createElement("video",{ref:"videoPlayer",className:"_2mpk",key:"videoPlayer",src:this.state.videoURL}))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement("div",null,this.state.savedFrame?c("React").createElement(c("XUIText.react"),{className:"_61l-"},j._("Your current thumbnail will be replaced if you save a new one.")):null,c("React").createElement(c("XUIButton.react"),{label:j._("Cancel"),onClick:function(){return this.$ComposerVideoThumbnailScrubber4()}.bind(this)}),c("React").createElement(c("XUIButton.react"),{use:"confirm",label:j._("Save Thumbnail"),onClick:function(){this.$ComposerVideoThumbnailScrubber13(this.state.scrubberValue);this.$ComposerVideoThumbnailScrubber12()}.bind(this)}))))};z.prototype.$ComposerVideoThumbnailScrubber16=function(){if(!this.state.savedFrame)return null;var A=this.$ComposerVideoThumbnailScrubber6(),B=c("React").createElement(c("Image.react"),{key:A,className:"_ead",onClick:function(){return this.$ComposerVideoThumbnailScrubber10(this.state.savedFrame)}.bind(this),style:{left:A},src:h("119370")});return c("React").createElement("div",{className:"_eae"},B)};z.prototype.$ComposerVideoThumbnailScrubber15=function(){var A=this.props.thumbnails;if(A.length===0)return c("React").createElement("div",{className:"_eag _eai"},"Loading...");var B=A.slice(0,q),C=B.map(function(D,E){return c("React").createElement(c("Image.react"),{key:E,width:u,height:t,src:D.getURL()})});return c("React").createElement("div",{className:"_eai _eaj"},C)};f.exports=z}),null);
__d("d3/core/bisect",[],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(k){__p&&__p();return{left:function l(m,n,o,p){__p&&__p();if(arguments.length<3)o=0;if(arguments.length<4)p=m.length;while(o<p){var q=o+p>>>1;if(k.call(m,m[q],q)<n)o=q+1;else p=q}return o},right:function l(m,n,o,p){__p&&__p();if(arguments.length<3)o=0;if(arguments.length<4)p=m.length;while(o<p){var q=o+p>>>1;if(n<k.call(m,m[q],q))p=q;else o=q+1}return o}}},i=h(function(k){return k}),j=i.right;j.left=i.left;j.right=j;j.or=h;f.exports=j}),null);
__d("d3/core/class",[],(function a(b,c,d,e,f,g){function h(i,j){try{for(var k in j)Object.defineProperty(i.prototype,k,{value:j[k],enumerable:false})}catch(l){i.prototype=j}}g._class=h}),null);
__d("d3/core/color",[],(function a(b,c,d,e,f,g){function h(){}h.prototype.toString=function(){return this.rgb()+""};g._Color=h}),null);
__d("d3/core/core",[],(function a(b,c,d,e,f,g){__p&&__p();var h=Math.PI,i=1e-6,j={version:"3.0.6"},k=h/180,l=180/h,m=typeof document==="undefined"?null:document,n=typeof window==="undefined"?null:window;function o(q){return q.target}function p(q){return q.source}j._u03c0=h;j._u03b5=i;j._radians=k;j._degrees=l;j._document=m;j._window=n;j._target=o;j._source=p;f.exports=j}),null);
__d("d3/core/format-en_US",[],(function a(b,c,d,e,f,g){var h=".",i=",",j=[3,3];g._decimalPoint=h;g._thousandsSeparator=i;g._grouping=j}),null);
__d("d3/core/identity",[],(function a(b,c,d,e,f,g){function h(i){return i}g._identity=h}),null);
__d("d3/core/map",["d3/core/class"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/class")._class,i=function i(m){var n=new j();for(var o in m)n.set(o,m[o]);return n};function j(){}h(j,{has:function m(n){return k+n in this},get:function m(n){return this[k+n]},set:function m(n,o){return this[k+n]=o},remove:function m(n){n=k+n;return n in this&&delete this[n]},keys:function m(){var m=[];this.forEach(function(n){m.push(n)});return m},values:function m(){var m=[];this.forEach(function(n,o){m.push(o)});return m},entries:function m(){var m=[];this.forEach(function(n,o){m.push({key:n,value:o})});return m},forEach:function m(n){for(var o in this)if(o.charCodeAt(0)===l)n.call(this,o.substring(1),this[o])}});var k="\0",l=k.charCodeAt(0);i._Map=j;f.exports=i}),null);
__d("d3/core/round",[],(function a(b,c,d,e,f,g){var h=function h(i,j){return j?Math.round(i*(j=Math.pow(10,j)))/j:Math.round(i)};f.exports=h}),null);
__d("d3/core/format",["d3/core/format-en_US","d3/core/identity","d3/core/map","d3/core/round","d3/core/formatPrefix"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/format-en_US")._decimalPoint,i=c("d3/core/identity")._identity,j=c("d3/core/format-en_US")._grouping,k=c("d3/core/format-en_US")._thousandsSeparator,l=function l(s){__p&&__p();var t=m.exec(s),u=t[1]||" ",v=t[2]||">",w=t[3]||"",x=t[4]||"",y=t[5],z=+t[6],A=t[7],B=t[8],C=t[9],D=1,E="",F=false;if(B)B=+B.substring(1);if(y||u==="0"&&v==="="){y=u="0";v="=";if(A)z-=Math.floor((z-1)/4)}switch(C){case"n":A=true;C="g";break;case"%":D=100;E="%";C="f";break;case"p":D=100;E="%";C="r";break;case"b":case"o":case"x":case"X":if(x)x="0"+C.toLowerCase();case"c":case"d":F=true;B=0;break;case"s":D=-1;C="r";break}if(x==="#")x="";if(C=="r"&&!B)C="g";C=n.get(C)||p;var G=y&&A;return function(H){__p&&__p();if(F&&H%1)return"";var I=H<0||H===0&&1/H<0?(H=-H,"-"):w;if(D<0){var J=c("d3/core/formatPrefix")(H,B);H=J.scale(H);E=J.symbol}else H*=D;H=C(H,B);if(!y&&A)H=q(H);var K=x.length+H.length+(G?0:I.length),L=K<z?new Array(K=z-K+1).join(u):"";if(G)H=q(L+H);if(h)H.replace(".",h);I+=x;return(v==="<"?I+H+L:v===">"?L+I+H:v==="^"?L.substring(0,K>>=1)+I+H+L.substring(K):I+(G?H:L+H))+E}},m=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,n=c("d3/core/map")({b:function s(t){return t.toString(2)},c:function s(t){return String.fromCharCode(t)},o:function s(t){return t.toString(8)},x:function s(t){return t.toString(16)},X:function s(t){return t.toString(16).toUpperCase()},g:function s(t,u){return t.toPrecision(u)},e:function s(t,u){return t.toExponential(u)},f:function s(t,u){return t.toFixed(u)},r:function s(t,u){return(t=c("d3/core/round")(t,o(t,u))).toFixed(Math.max(0,Math.min(20,o(t*(1+1e-15),u))))}});function o(s,t){return t-(s?Math.ceil(Math.log(s)/Math.LN10):1)}function p(s){return s+""}var q=i;if(j){var r=j.length;q=function q(s){var t=s.lastIndexOf("."),u=t>=0?"."+s.substring(t+1):(t=s.length,""),v=[],w=0,x=j[0];while(t>0&&x>0){v.push(s.substring(t-=x,t+x));x=j[w=(w+1)%r]}return v.reverse().join(k||"")+u}}l._precision=o;f.exports=l}),null);
__d("d3/core/formatPrefix",["d3/core/round","d3/core/format"],(function a(b,c,d,e,f,g){__p&&__p();var h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(j),i=function i(k,l){__p&&__p();var m=0;if(k){if(k<0)k*=-1;if(l)k=c("d3/core/round")(k,c("d3/core/format")._precision(k,l));m=1+Math.floor(1e-12+Math.log(k)/Math.LN10);m=Math.max(-24,Math.min(24,Math.floor((m<=0?m+1:m-1)/3)*3))}return h[8+m/3]};function j(k,l){var m=Math.pow(10,Math.abs(8-l)*3);return{scale:l>8?function(k){return k/m}:function(k){return k*m},symbol:k}}f.exports=i}),null);
__d("d3/core/hcl",["d3/core/color","d3/core/core","d3/core/lab","d3/core/rgb"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/color")._Color,i=c("d3/core/core")._radians,j=function j(o,p,q){return arguments.length===1?o instanceof l?k(o.h,o.c,o.l):o instanceof c("d3/core/lab")._Lab?c("d3/core/lab")._hcl(o.l,o.a,o.b):c("d3/core/lab")._hcl((o=c("d3/core/rgb")._lab((o=c("d3/core/rgb")(o)).r,o.g,o.b)).l,o.a,o.b):k(+o,+p,+q)};function k(o,p,q){return new l(o,p,q)}function l(o,p,q){this.h=o;this.c=p;this.l=q}var m=l.prototype=new h();m.brighter=function(o){return k(this.h,this.c,Math.min(100,this.l+c("d3/core/lab")._K*(arguments.length?o:1)))};m.darker=function(o){return k(this.h,this.c,Math.max(0,this.l-c("d3/core/lab")._K*(arguments.length?o:1)))};m.rgb=function(){return n(this.h,this.c,this.l).rgb()};function n(o,p,q){return c("d3/core/lab")._lab(q,Math.cos(o*=i)*p,Math.sin(o)*p)}j._Hcl=l;j._hcl=k;j._lab=n;f.exports=j}),null);
__d("d3/core/hsl",["d3/core/color","d3/core/rgb"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/color")._Color,i=function i(n,o,p){return arguments.length===1?n instanceof k?j(n.h,n.s,n.l):c("d3/core/rgb")._parse(""+n,c("d3/core/rgb")._hsl,j):j(+n,+o,+p)};function j(n,o,p){return new k(n,o,p)}function k(n,o,p){this.h=n;this.s=o;this.l=p}var l=k.prototype=new h();l.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);return j(this.h,this.s,this.l/n)};l.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return j(this.h,this.s,n*this.l)};l.rgb=function(){return m(this.h,this.s,this.l)};function m(n,o,p){__p&&__p();var q,r;n=n%360;if(n<0)n+=360;o=o<0?0:o>1?1:o;p=p<0?0:p>1?1:p;r=p<=.5?p*(1+o):p+o-p*o;q=2*p-r;function s(n){__p&&__p();if(n>360)n-=360;else if(n<0)n+=360;if(n<60)return q+(r-q)*n/60;if(n<180)return r;if(n<240)return q+(r-q)*(240-n)/60;return q}function t(n){return Math.round(s(n)*255)}return c("d3/core/rgb")._rgb(t(n+120),t(n),t(n-120))}i._hsl=j;i._rgb=m;f.exports=i}),null);
__d("d3/core/xyz",[],(function a(b,c,d,e,f,g){function h(j){return j>.008856?Math.pow(j,1/3):7.787037*j+4/29}function i(j){return Math.round(255*(j<=.00304?12.92*j:1.055*Math.pow(j,1/2.4)-.055))}g._lab=h;g._rgb=i}),null);
__d("d3/core/lab",["d3/core/color","d3/core/xyz","d3/core/core","d3/core/hcl","d3/core/rgb"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/color")._Color,i=c("d3/core/xyz")._rgb,j=c("d3/core/core")._u03c0,k=function k(v,w,x){return arguments.length===1?v instanceof m?l(v.l,v.a,v.b):v instanceof c("d3/core/hcl")._Hcl?c("d3/core/hcl")._lab(v.l,v.c,v.h):c("d3/core/rgb")._lab((v=c("d3/core/rgb")(v)).r,v.g,v.b):l(+v,+w,+x)};function l(v,w,x){return new m(v,w,x)}function m(v,w,x){this.l=v;this.a=w;this.b=x}var n=18,o=.95047,p=1,q=1.08883,r=m.prototype=new h();r.brighter=function(v){return l(Math.min(100,this.l+n*(arguments.length?v:1)),this.a,this.b)};r.darker=function(v){return l(Math.max(0,this.l-n*(arguments.length?v:1)),this.a,this.b)};r.rgb=function(){return s(this.l,this.a,this.b)};function s(v,w,x){var y=(v+16)/116,z=y+w/500,A=y-x/200;z=u(z)*o;y=u(y)*p;A=u(A)*q;return c("d3/core/rgb")._rgb(i(3.2404542*z-1.5371385*y-.4985314*A),i(-.969266*z+1.8760108*y+.041556*A),i(.0556434*z-.2040259*y+1.0572252*A))}function t(v,w,x){return c("d3/core/hcl")._hcl(Math.atan2(x,w)/j*180,Math.sqrt(w*w+x*x),v)}function u(v){return v>.206893034?v*v*v:(v-4/29)/7.787037}k._K=n;k._X=o;k._Y=p;k._Z=q;k._Lab=m;k._lab=l;k._rgb=s;k._hcl=t;f.exports=k}),null);
__d("d3/core/rgb",["d3/core/color","d3/core/map","d3/core/xyz","d3/core/hsl","d3/core/lab"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/color")._Color,i=c("d3/core/xyz")._lab,j=function j(u,v,w){return arguments.length===1?u instanceof l?k(u.r,u.g,u.b):o(""+u,k,c("d3/core/hsl")._rgb):k(~~u,~~v,~~w)};function k(u,v,w){return new l(u,v,w)}function l(u,v,w){this.r=u;this.g=v;this.b=w}var m=l.prototype=new h();m.brighter=function(u){__p&&__p();u=Math.pow(.7,arguments.length?u:1);var v=this.r,w=this.g,x=this.b,y=30;if(!v&&!w&&!x)return k(y,y,y);if(v&&v<y)v=y;if(w&&w<y)w=y;if(x&&x<y)x=y;return k(Math.min(255,Math.floor(v/u)),Math.min(255,Math.floor(w/u)),Math.min(255,Math.floor(x/u)))};m.darker=function(u){u=Math.pow(.7,arguments.length?u:1);return k(Math.floor(u*this.r),Math.floor(u*this.g),Math.floor(u*this.b))};m.hsl=function(){return p(this.r,this.g,this.b)};m.toString=function(){return"#"+n(this.r)+n(this.g)+n(this.b)};function n(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16)}function o(u,v,w){__p&&__p();var x=0,y=0,z=0,A,B,C;A=/([a-z]+)\((.*)\)/i.exec(u);if(A){B=A[2].split(",");switch(A[1]){case"hsl":return w(parseFloat(B[0]),parseFloat(B[1])/100,parseFloat(B[2])/100);case"rgb":return v(s(B[0]),s(B[1]),s(B[2]))}}if(C=t.get(u))return v(C.r,C.g,C.b);if(u!=null&&u.charAt(0)==="#"){if(u.length===4){x=u.charAt(1);x+=x;y=u.charAt(2);y+=y;z=u.charAt(3);z+=z}else if(u.length===7){x=u.substring(1,3);y=u.substring(3,5);z=u.substring(5,7)}x=parseInt(x,16);y=parseInt(y,16);z=parseInt(z,16)}return v(x,y,z)}function p(u,v,w){__p&&__p();var x=Math.min(u/=255,v/=255,w/=255),y=Math.max(u,v,w),z=y-x,A,B,C=(y+x)/2;if(z){B=C<.5?z/(y+x):z/(2-y-x);if(u==y)A=(v-w)/z+(v<w?6:0);else if(v==y)A=(w-u)/z+2;else A=(u-v)/z+4;A*=60}else B=A=0;return c("d3/core/hsl")._hsl(A,B,C)}function q(u,v,w){u=r(u);v=r(v);w=r(w);var x=i((.4124564*u+.3575761*v+.1804375*w)/c("d3/core/lab")._X),y=i((.2126729*u+.7151522*v+.072175*w)/c("d3/core/lab")._Y),z=i((.0193339*u+.119192*v+.9503041*w)/c("d3/core/lab")._Z);return c("d3/core/lab")._lab(116*y-16,500*(x-y),200*(y-z))}function r(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function s(u){var v=parseFloat(u);return u.charAt(u.length-1)==="%"?Math.round(v*2.55):v}var t=c("d3/core/map")({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});t.forEach(function(u,v){t.set(u,o(v,k,c("d3/core/hsl")._rgb))});j._names=t;j._rgb=k;j._parse=o;j._hsl=p;j._hex=n;j._lab=q;f.exports=j}),null);
__d("d3/core/ns",[],(function a(b,c,d,e,f,g){var h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},i={prefix:h,qualify:function j(k){var l=k.indexOf(":"),m=k;if(l>=0){m=k.substring(0,l);k=k.substring(l+1)}return Object.prototype.hasOwnProperty.call(h,m)?{space:h[m],local:k}:k}};f.exports=i}),null);
__d("d3/core/transform",["d3/core/core","d3/core/ns"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/core")._document,i=c("d3/core/core")._degrees,j=function p(q){var r=h.createElementNS(c("d3/core/ns").prefix.svg,"g");return(j=function p(q){r.setAttribute("transform",q);var s=r.transform.baseVal.consolidate();return new k(s?s.matrix:o)})(q)};function k(p){__p&&__p();var q=[p.a,p.b],r=[p.c,p.d],s=m(q),t=l(q,r),u=m(n(r,q,-t))||0;if(q[0]*r[1]<r[0]*q[1]){q[0]*=-1;q[1]*=-1;s*=-1;t*=-1}this.rotate=(s?Math.atan2(q[1],q[0]):Math.atan2(-r[0],r[1]))*i;this.translate=[p.e,p.f];this.scale=[s,u];this.skew=u?Math.atan2(t,u)*i:0}k.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function l(p,q){return p[0]*q[0]+p[1]*q[1]}function m(p){var q=Math.sqrt(l(p,p));if(q){p[0]/=q;p[1]/=q}return q}function n(p,q,r){p[0]+=r*q[0];p[1]+=r*q[1];return p}var o={a:1,b:0,c:0,d:1,e:0,f:0};f.exports=j}),null);
__d("d3/core/interpolate",["d3/core/hcl","d3/core/hsl","d3/core/lab","d3/core/rgb","d3/core/color","d3/core/transform"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/core/rgb")._hex,i=c("d3/core/hsl")._rgb,j=c("d3/core/lab")._rgb,k=c("d3/core/hcl")._lab,l=c("d3/core/rgb")._names,m=c("d3/core/color")._Color,n=function n(q,r){var s=n.interpolators.length,t;while(--s>=0&&!(t=n.interpolators[s](q,r)));return t};n.number=function(q,r){r-=q;return function(s){return q+r*s}};n.round=function(q,r){r-=q;return function(s){return Math.round(q+r*s)}};n.string=function(q,r){__p&&__p();var s,t,u,v=0,w=0,x=[],y=[],z,A;o.lastIndex=0;for(t=0;s=o.exec(r);++t){if(s.index)x.push(r.substring(v,w=s.index));y.push({i:x.length,x:s[0]});x.push(null);v=o.lastIndex}if(v<r.length)x.push(r.substring(v));for(t=0,z=y.length;(s=o.exec(q))&&t<z;++t){A=y[t];if(A.x==s[0]){if(A.i)if(x[A.i+1]==null){x[A.i-1]+=A.x;x.splice(A.i,1);for(u=t+1;u<z;++u)y[u].i--}else{x[A.i-1]+=A.x+x[A.i+1];x.splice(A.i,2);for(u=t+1;u<z;++u)y[u].i-=2}else if(x[A.i+1]==null)x[A.i]=A.x;else{x[A.i]=A.x+x[A.i+1];x.splice(A.i+1,1);for(u=t+1;u<z;++u)y[u].i--}y.splice(t,1);z--;t--}else A.x=n.number(parseFloat(s[0]),parseFloat(A.x))}while(t<z){A=y.pop();if(x[A.i+1]==null)x[A.i]=A.x;else{x[A.i]=A.x+x[A.i+1];x.splice(A.i+1,1)}z--}if(x.length===1)return x[0]==null?y[0].x:function(){return r};return function(B){for(t=0;t<z;++t)x[(A=y[t]).i]=A.x(B);return x.join("")}};n.transform=function(q,r){__p&&__p();var s=[],t=[],u,v=c("d3/core/transform")(q),w=c("d3/core/transform")(r),x=v.translate,y=w.translate,z=v.rotate,A=w.rotate,B=v.skew,C=w.skew,D=v.scale,E=w.scale;if(x[0]!=y[0]||x[1]!=y[1]){s.push("translate(",null,",",null,")");t.push({i:1,x:n.number(x[0],y[0])},{i:3,x:n.number(x[1],y[1])})}else if(y[0]||y[1])s.push("translate("+y+")");else s.push("");if(z!=A){if(z-A>180)A+=360;else if(A-z>180)z+=360;t.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:n.number(z,A)})}else if(A)s.push(s.pop()+"rotate("+A+")");if(B!=C)t.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:n.number(B,C)});else if(C)s.push(s.pop()+"skewX("+C+")");if(D[0]!=E[0]||D[1]!=E[1]){u=s.push(s.pop()+"scale(",null,",",null,")");t.push({i:u-4,x:n.number(D[0],E[0])},{i:u-2,x:n.number(D[1],E[1])})}else if(E[0]!=1||E[1]!=1)s.push(s.pop()+"scale("+E+")");u=t.length;return function(F){var G=-1,H;while(++G<u)s[(H=t[G]).i]=H.x(F);return s.join("")}};n.rgb=function(q,r){q=c("d3/core/rgb")(q);r=c("d3/core/rgb")(r);var s=q.r,t=q.g,u=q.b,v=r.r-s,w=r.g-t,x=r.b-u;return function(y){return"#"+h(Math.round(s+v*y))+h(Math.round(t+w*y))+h(Math.round(u+x*y))}};n.hsl=function(q,r){q=c("d3/core/hsl")(q);r=c("d3/core/hsl")(r);var s=q.h,t=q.s,u=q.l,v=r.h-s,w=r.s-t,x=r.l-u;if(v>180)v-=360;else if(v<-180)v+=360;return function(y){return i(s+v*y,t+w*y,u+x*y)+""}};n.lab=function(q,r){q=c("d3/core/lab")(q);r=c("d3/core/lab")(r);var s=q.l,t=q.a,u=q.b,v=r.l-s,w=r.a-t,x=r.b-u;return function(y){return j(s+v*y,t+w*y,u+x*y)+""}};n.hcl=function(q,r){q=c("d3/core/hcl")(q);r=c("d3/core/hcl")(r);var s=q.h,t=q.c,u=q.l,v=r.h-s,w=r.c-t,x=r.l-u;if(v>180)v-=360;else if(v<-180)v+=360;return function(y){return k(s+v*y,t+w*y,u+x*y)+""}};n.array=function(q,r){__p&&__p();var s=[],t=[],u=q.length,v=r.length,w=Math.min(q.length,r.length),x;for(x=0;x<w;++x)s.push(n(q[x],r[x]));for(;x<u;++x)t[x]=q[x];for(;x<v;++x)t[x]=r[x];return function(y){for(x=0;x<w;++x)t[x]=s[x](y);return t}};n.object=function(q,r){__p&&__p();var s={},t={},u;for(u in q)if(u in r)s[u]=p(u)(q[u],r[u]);else t[u]=q[u];for(u in r)if(!(u in q))t[u]=r[u];return function(v){for(u in s)t[u]=s[u](v);return t}};var o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function p(q){return q=="transform"?n.transform:n}n.interpolators=[n.object,function(q,r){return r instanceof Array&&n.array(q,r)},function(q,r){return(typeof q==="string"||typeof r==="string")&&n.string(q+"",r+"")},function(q,r){return(typeof r==="string"?l.has(r)||/^(#|rgb\(|hsl\()/.test(r):r instanceof m)&&n.rgb(q,r)},function(q,r){return!isNaN(q=+q)&&!isNaN(r=+r)&&n.number(q,r)}];n._interpolateByName=p;f.exports=n}),null);
__d("d3/core/range",[],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j,k,l){__p&&__p();if(arguments.length<3){l=1;if(arguments.length<2){k=j;j=0}}if((k-j)/l===Infinity)throw new Error("infinite range");var m=[],n=i(Math.abs(l)),o=-1,p;j*=n,k*=n,l*=n;if(l<0)while((p=j+l*++o)>k)m.push(p/n);else while((p=j+l*++o)<k)m.push(p/n);return m};function i(j){var k=1;while(j*k%1)k*=10;return k}f.exports=h}),null);
__d("d3/core/rebind",[],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j,k){var l=1,m=arguments.length,n;while(++l<m)j[n=arguments[l]]=i(j,k,k[n]);return j};function i(j,k,l){return function(){var m=l.apply(k,arguments);return arguments.length?j:m}}f.exports=h}),null);
__d("d3/core/uninterpolate",[],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k){k=k-(j=+j)?1/(k-j):0;return function(l){return(l-j)*k}}function i(j,k){k=k-(j=+j)?1/(k-j):0;return function(l){return Math.max(0,Math.min(1,(l-j)*k))}}g._uninterpolateNumber=h;g._uninterpolateClamp=i}),null);
__d("d3/scale/bilinear",[],(function a(b,c,d,e,f,g){function h(i,j,k,l){var m=k(i[0],i[1]),n=l(j[0],j[1]);return function(o){return n(m(o))}}g._bilinear=h}),null);
__d("d3/scale/nice",[],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k){__p&&__p();var l=0,m=j.length-1,n=j[l],o=j[m],p;if(o<n){p=l,l=m,m=p;p=n,n=o,o=p}if(k=k(o-n)){j[l]=k.floor(n);j[m]=k.ceil(o)}return j}function i(){return Math}g._nice=h;g._niceDefault=i}),null);
__d("d3/scale/polylinear",["d3/core/bisect"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){__p&&__p();var m=[],n=[],o=0,p=Math.min(i.length,j.length)-1;if(i[p]<i[0]){i=i.slice().reverse();j=j.slice().reverse()}while(++o<=p){m.push(k(i[o-1],i[o]));n.push(l(j[o-1],j[o]))}return function(q){var o=c("d3/core/bisect")(i,q,1,p)-1;return n[o](m[o](q))}}g._polylinear=h}),null);
__d("d3/scale/scale",[],(function a(b,c,d,e,f,g){var h={};function i(k){var l=k[0],m=k[k.length-1];return l<m?[l,m]:[m,l]}function j(k){return k.rangeExtent?k.rangeExtent():i(k.range())}h._scaleExtent=i;h._scaleRange=j;f.exports=h}),null);
__d("d3/scale/linear",["d3/core/uninterpolate","d3/scale/bilinear","d3/scale/polylinear","d3/scale/nice","d3/scale/scale","d3/core/interpolate","d3/core/rebind","d3/core/range","d3/core/core","d3/core/format"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("d3/scale/bilinear")._bilinear,i=c("d3/scale/polylinear")._polylinear,j=c("d3/core/uninterpolate")._uninterpolateClamp,k=c("d3/core/uninterpolate")._uninterpolateNumber,l=c("d3/scale/nice")._nice,m=c("d3/scale/scale")._scaleExtent,n=function n(){return o([0,1],[0,1],c("d3/core/interpolate"),false)};function o(u,v,w,x){__p&&__p();var y,z;function A(){var C=Math.min(u.length,v.length)>2?i:h,D=x?j:k;y=C(u,v,D,w);z=C(v,u,D,c("d3/core/interpolate"));return B}function B(C){return y(C)}B.invert=function(C){return z(C)};B.domain=function(C){if(!arguments.length)return u;u=C.map(Number);return A()};B.range=function(C){if(!arguments.length)return v;v=C;return A()};B.rangeRound=function(C){return B.range(C).interpolate(c("d3/core/interpolate").round)};B.clamp=function(C){if(!arguments.length)return x;x=C;return A()};B.interpolate=function(C){if(!arguments.length)return w;w=C;return A()};B.ticks=function(C){return s(u,C)};B.tickFormat=function(C){return t(u,C)};B.nice=function(){l(u,q);return A()};B.copy=function(){return o(u,v,w,x)};return A()}function p(u,v){return c("d3/core/rebind")(u,v,"range","rangeRound","interpolate","clamp")}function q(u){u=Math.pow(10,Math.round(Math.log(u)/Math.LN10)-1);return u&&{floor:function v(w){return Math.floor(w/u)*u},ceil:function v(w){return Math.ceil(w/u)*u}}}function r(u,v){__p&&__p();var w=m(u),x=w[1]-w[0],y=Math.pow(10,Math.floor(Math.log(x/v)/Math.LN10)),z=v/x*y;if(z<=.15)y*=10;else if(z<=.35)y*=5;else if(z<=.75)y*=2;w[0]=Math.ceil(w[0]/y)*y;w[1]=Math.floor(w[1]/y)*y+y*.5;w[2]=y;return w}function s(u,v){return c("d3/core/range").apply(c("d3/core/core"),r(u,v))}function t(u,v){return c("d3/core/format")(",."+Math.max(0,-Math.floor(Math.log(r(u,v)[2])/Math.LN10+.01))+"f")}n._linearTicks=s;n._linearTickFormat=t;n._linearNice=q;n._linearRebind=p;f.exports=n}),null);
__d("AdBreakPageOnboardingConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIGN_TOS_STEP:"sign_tos_step",SETUP_PAYMENT_STEP:"setup_payment_step",TAX_FORM_STEP:"tax_form_step",COMPLETED_STEP:"completed_step",ADD_TAX_FORM_UPDATE:"add_tax_form_update",ADD_PAYOUT_ACCOUNT_UPDATE:"add_payout_account_update",SIGN_TOS_UPDATE:"sign_tos_update",FROM_COMPOSER:"from_composer",FROM_PUB_TOOLS:"from_pub_tools",FROM_DIRECT_LINK:"from_direct_link"})}),null);
__d("CopyrightPlatform",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FB:"FB",IG:"IG",OC:"OC"})}),null);
__d("AutoScheduleUtils",["DateConsts","DateTime","Instant","LocalDate","Timezone","TimezoneNamesData","formatDate"],(function a(b,c,d,e,f,g){__p&&__p();var h="D, M j, Y",i="g:i A";f.exports={tzNamesModule:null,capitalize:function j(k){return k.split(/ /g).map(function(l){return""+l.substring(0,1).toUpperCase()+l.substring(1)}).join(" ")},isFunction:function j(k){return typeof k==="function"},getTimeStrWithFormat:function j(k){var l=arguments.length<=1||arguments[1]===undefined?i:arguments[1];return c("formatDate")(k,l)},getDateStrWithFormat:function j(k){var l=arguments.length<=1||arguments[1]===undefined?h:arguments[1];return c("formatDate")(k,l)},getTimeSlotDateStr:function j(k){return this.getDateStrWithFormat(k.start_time)},getTimeSlotTimeStr:function j(k){var l=this.getTimeStrWithFormat(k.start_time),m=this.getTimeStrWithFormat(k.end_time);return l+" - "+m},getTimeSlotStr:function j(k,l){var m={start_time:k,end_time:l},n=this.getTimeSlotDateStr(m),o=this.getTimeSlotTimeStr(m);return n+" "+o},getTimestampStr:function j(k,l){return this.getTimeSlotStr(k,k+(l||c("DateConsts").SEC_PER_HOUR/2))},isWeekend:function j(k){return k.getDay()===c("DateConsts").DAYS.SATURDAY||k.getDay()===c("DateConsts").DAYS.SUNDAY},deltaWeekDaysFromDeltaBusinessDays:function j(k,l){if(l<=0)return 0;var m=0;for(var n=1;n<l;n+=1){var o=this.dateWithDeltaDays(k,m+1);n-=this.isWeekend(o)?1:0;m+=1}return m},dateWithDelta:function j(k,l){return new Date(k.getTime()+l)},dateWithDeltaDays:function j(k,l){return this.dateWithDelta(k,l*c("DateConsts").MS_PER_DAY)},startOfMonday:function j(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate()-k.getDay()+1)},startOfDay:function j(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate())},endOfDay:function j(k){return this.dateWithDeltaDays(this.startOfDay(k),+1)},endOfFriday:function j(k){return this.dateWithDeltaDays(this.startOfMonday(k),5)},getDateFromLocalDate:function j(k){this.setupTimezoneNamesModule();return k.toDateTime(c("Timezone").getEnvironmentTimezoneID()).toDate()},getTimezoneOffset:function j(k){this.setupTimezoneNamesModule();return c("Instant").getOffset(c("Instant").now(),k||c("Timezone").getEnvironmentTimezoneID())},getTimezoneID:function j(k){this.setupTimezoneNamesModule();return c("Timezone").getByNameOrNull(k)},getFirstAndLastSlotStartTimes:function j(k){var l=k.sort(function(n,o){return n.start_time-o.start_time}),m=l.length>0;return{firstSlotStart:m?l[0].start_time:-1,lastSlotStart:m?l[l.length-1].start_time:-1,numSlots:l.length}},setupTimezoneNamesModule:function j(){if(!this.tzNamesModule)this.tzNamesModule=c("Timezone").registerNamesModule(c("TimezoneNamesData"))},getTimezoneString:function j(){this.setupTimezoneNamesModule();var k=c("Timezone").getEnvironmentTimezoneID();return c("Timezone").getName(k)},convertDateToTimezone:function j(k,l){var m=c("Timezone").getEnvironmentTimezoneID(),n=this.getTimezoneID(l);if(n!==null){var o=c("DateTime").create(k,m).getParallel(n).getUnixTimestamp();return Math.floor(o/c("DateConsts").MS_PER_SEC)}else return k},getAccessibilityEmailFooter:function j(){return"Facebook is committed to providing reasonable accommodations for qualified individuals with disabilities and disabled veterans in our job application procedures. If you need assistance or an accommodation due to a disability, you may contact us at accommodations-ext@fb.com or you may call us at 1+650-308-7837."}}}),null);
__d("RelayDeferredContainer",["JSResource","React","RelayClassic_DEPRECATED","react-relay/classic/container/RelayRenderer","react-relay/classic/store/RelayStore","warning"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("RelayClassic_DEPRECATED").PropTypes,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(n,o){i.constructor.call(this,n,o);this.$RelayDeferredContainer1=function(p){var q=p.error;if(q){var r=this.constructor;c("warning")(false,"%s error running query for route `%s`: %s",r.name,this.props.route.name,q)}}.bind(this);this.state={Component:null,abortLoader:null}}l.prototype.$RelayDeferredContainer3=function(n){this.state.abortLoader&&this.state.abortLoader();var o=m(function(r){this.setState({abortLoader:null,Component:r})}.bind(this)),p=o.abort,q=o.callback;this.setState({abortLoader:p,Component:null});n.loader.load().done(q)};l.prototype.componentDidMount=function(){this.$RelayDeferredContainer3(this.props)};l.prototype.UNSAFE_componentWillReceiveProps=function(n){if(!this.props.loader.equals(n.loader)||this.props.route!==n.route)this.$RelayDeferredContainer3(n)};l.prototype.componentWillUnmount=function(){this.state.abortLoader&&this.state.abortLoader()};l.prototype.$RelayDeferredContainer2=function(n){return this.props.render(this.state.Component,n)};l.prototype.render=function(){__p&&__p();if(!this.state.Component)return this.props.renderLoading();return c("React").createElement(c("react-relay/classic/container/RelayRenderer"),{Container:this.state.Component,queryConfig:this.props.route,environment:c("react-relay/classic/store/RelayStore"),onReadyStateChange:this.$RelayDeferredContainer1,render:function(n){__p&&__p();var o=n.error,p=n.props,q=n.retry;if(o){if(this.props.renderFailure)return this.props.renderFailure(o,q)}else if(p){if(this.props.render)return this.props.render(this.state.Component,p)}else if(this.props.renderLoading)return this.props.renderLoading();return undefined}.bind(this)})};l.propTypes={renderFailure:k.func,renderLoading:k.func.isRequired,render:k.func.isRequired,loader:k.instanceOf(c("JSResource").Reference).isRequired,route:j.QueryConfig};var m=function m(n){var o=false;return{abort:function p(){o=true},callback:function p(f){if(!o)n(f)}}};f.exports=l}),null);
__d("SpectrumNumberUtilities",["fbt","NumberFormatConfig","intlNumUtils"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(q){return c("intlNumUtils").formatNumberWithThousandDelimiters(Math.round(q),0)}function j(q){q=Math.round(q*10)/10;return c("intlNumUtils").getFloatString(q,c("NumberFormatConfig").numberDelimiter,c("NumberFormatConfig").decimalSeparator)}function k(q){return c("intlNumUtils").getFloatString(q,c("NumberFormatConfig").numberDelimiter,c("NumberFormatConfig").decimalSeparator)}function l(q){if(Math.abs(q)>=1e9)return k(q/1e9)+"b";if(Math.abs(q)>=1e6)return k(q/1e6)+"m";if(Math.abs(q)>=1e3)return k(q/1e3)+"K";return i(q)}function m(q){if(Math.abs(q)>=1e9)return j(q/1e9)+"b";if(Math.abs(q)>=1e6)return j(q/1e6)+"m";if(Math.abs(q)>=1e3)return j(q/1e3)+"K";return i(q)}var n={GBP:163,EUR:128,JPY:165,USD:36};function o(q,r){__p&&__p();var s=n[q];if(s)q=String.fromCharCode(s);var t,u="";if(r==Math.round(r))t=m(r);else{var v=r.toFixed(2).split("."),w=c("NumberFormatConfig").decimalSeparator;t=i(parseInt(v[0],10))+w+v[1];if(r<0){t=t.replace(/-/,"");u="-"}}return h._("{negative sign(-) or blank}{currency symbol}{number}",[h._param("negative sign(-) or blank",u),h._param("currency symbol",q),h._param("number",t)]).toString()}var p={CURRENCY_FORMATS:n,currencyFormatter:o,integerFormatter:i,floatFormatter:j,shortIntegerFormatter:m,shortIntegerFormatterWithoutRounding:l};f.exports=p}),null);
__d("SpectrumBaseNumberScale",["SpectrumNumberUtilities","d3/core/range","d3/scale/linear"],(function a(b,c,d,e,f,g){__p&&__p();function h(l){if(l===0)return 0;return Math.pow(10,Math.round(Math.log(Math.abs(l))/Math.LN10)-1)}function i(l,m){__p&&__p();var n=l.domain(),o=n[0],p=n[n.length-1],q=p-o;if(p<o){o=p;p=n[0]}var r=l.ceilToFixed(Math.pow(10,l.floorToFixed(Math.log(q/m)/Math.LN10))),s=m*r/q;if(s<=.15)r*=10;else if(s<=.35)r*=5;else if(s<=.75)r*=2;return{start:o,stop:p,span:q,step:r}}function j(l,m,n){__p&&__p();l.shift=function(){return Math.pow(10,m)};l.tickFormat=function(){return n};l.tooltipFormat=function(){return c("SpectrumNumberUtilities").integerFormatter};l.nice=function(p){__p&&__p();var q=l.domain(),r=q[0],s=q[q.length-1],t=Math.max(h(r),h(s),1/l.shift());if(t===0){r=0;s=1}else if(r==s){s=Math.ceil(s/t)*t;r=s-t;if(s>=0){r=Math.max(r,0);s=Math.max(s,t)}}else if(r<s){r=Math.floor(r/t)*t;s=Math.ceil(s/t)*t}else{r=Math.ceil(r/t)*t;s=Math.floor(s/t)*t}return l.domain([r,s])};l.ceilToFixed=function(p){return Math.ceil(p*l.shift())/l.shift()};l.floorToFixed=function(p){return Math.floor(p*l.shift())/l.shift()};l.getTickStep=function(p){var q=i(l,p);return q.step};l.ticks=function(p){__p&&__p();var q=i(l,p),r=q.start,s=q.stop,t=q.span,u=q.step,v=r>0?1:-1,w=s>0?1:-1,x=c("d3/core/range")(v*Math.ceil(Math.abs(r/u))*u,w*Math.floor(Math.abs(s/u))*u+u*.5,u);if(x[0]<r)x.shift();var y=x.map(l.tickFormat()).some(function(z,A,B){return A>0&&z==B[A-1]});if(y)x=l.ticks(p-1);if(x.length<=2)if(p>2&&s>1)return[r,r+t/2,s];else return[r,s];return x};var o=l.copy;l.copy=function(){return j(o(),m,n)};return l}var k=function k(l){var m=arguments.length<=1||arguments[1]===undefined?c("SpectrumNumberUtilities").shortIntegerFormatter:arguments[1];l=l===undefined?0:l;return j(c("d3/scale/linear")(),l,m)};f.exports=k}),null);
__d("SpectrumIntegerScale",["SpectrumBaseNumberScale"],(function a(b,c,d,e,f,g){var h=function h(){return c("SpectrumBaseNumberScale")(0)};f.exports=h}),null);
__d("SphericalProjectionUtils",["invariant","degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("gl-matrix").vec3,j=c("gl-matrix").mat4,k=Math.acos,l=Math.sin,m=Math.cos,n=15,o=.2,p={convert3dTo2dNormalized:function q(r,s,t,u,v,w,x){__p&&__p();var y=c("degToRad")(r),z=c("degToRad")(s),A=c("degToRad")(t),B=c("degToRad")(u),C=c("degToRad")(v),D=j.create();j.perspective(D,C,w/x,.1,100);var E=j.create();j.rotateX(E,E,z);j.rotateY(E,E,y);j.invert(E,E);var F=j.create();j.rotateX(F,F,B);j.rotateY(F,F,A);j.multiply(F,F,E);j.multiply(F,D,F);var G=i.fromValues(0,0,-1);i.transformMat4(G,G,F);var H=.5+G[0]/2,I=.5+G[1]/2;return{x:H,y:I,isNegativeTwin:G[2]>1}},convert3dTo2dScaled:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dNormalized.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;return{x:z*w,y:A*x,isNegativeTwin:B}},convert3dTo2dScaledUnique:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dNormalized.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;if(B)z=A=-1;else{z*=w;A*=x}return{x:z,y:A}},convert3dTo2dOnScreen:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dScaled.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;if(B){z=-z;A=s>0?-x:x}z=Math.max(0,Math.min(w,z));A=Math.max(0,Math.min(x,A));return{x:z,y:A}},convert2dTo3dNormalized:function q(r,s,t,u,v,w,x){__p&&__p();r<=1&&r>=-1||h(0);s<=1&&s>=-1||h(0);var y=c("degToRad")(t),z=c("degToRad")(u),A=c("degToRad")(v),B=j.create();j.perspective(B,A,w/x,.1,100);var C=-r/B[0],D=-s/B[5],E=y,F=z,G=Math.atan(Math.tan(A/2)*B[5]/B[0]),H=E+(C<0?G:-G),I=F+(D>0?A/2:-A/2),J=void 0,K=void 0,L=void 0,M=void 0,N=void 0;M=N=J=0;while(J<n&&!(Math.abs(c("radToDeg")(H-E))<o&&Math.abs(c("radToDeg")(I-F))<o)){J++;K=(E+H)/2;L=(F+I)/2;var O=p._getRelativePositionWithoutProjection(y,z,K,L),P=O.x,Q=O.y;if((D-N)*(D-Q)<=0)I=L;else{F=L;N=Q}if((C-M)*(C-P)<=0)H=K;else{E=K;M=P}}var R=void 0,S=void 0;if(J<n){R=Math.ceil(c("radToDeg")(E));S=Math.ceil(c("radToDeg")(F))}else{R=t;S=u}return{yaw:R,pitch:S}},convert2dTo3dScaled:function q(r,s,t,u,v,w,x){var y=w/2,z=x/2;return p.convert2dTo3dNormalized((r-y)*(2/w),(s-z)*(2/x),t,u,v,w,x)},_getRelativePositionWithoutProjection:function q(r,s,t,u){var v=(s-u)/2,w=(s+u)/2,x=Math.cos((r-t)/2),y=Math.sin((r-t)/2),z=Math.cos(v)*x,A=Math.sin(v)*x,B=Math.cos(w)*y,C=Math.sin(w)*y,D=2*A*C+2*z*B,E=2*B*C-2*z*A,F=1-2*A*A-2*B*B;return{x:D/F,y:E/F}},distanceBetweenSphericalCoordinatesDeg:function q(r,s,t,u){return c("radToDeg")(p.distanceBetweenSphericalCoordinatesRad.apply(p,Array.from(arguments).map(c("degToRad"))))},distanceBetweenSphericalCoordinatesRad:function q(r,s,t,u){return k(l(s)*l(u)+m(s)*m(u)*m(r-t))}};f.exports=p}),null);
__d("moment.instagram",[],(function aa(a,ba,ca,da,b,ea){__p&&__p();(function(c){__p&&__p();var d,fa="2.9.0",e=typeof a!=="undefined"&&(typeof window==="undefined"||window===a.window)?a:this,ga,f=Math.round,ha=Object.prototype.hasOwnProperty,g,h=0,i=1,j=2,k=3,l=4,m=5,n=6,o={},p=[],ia=typeof b!=="undefined"&&b&&b.exports,ja=/^\/?Date\((\-?\d+)/i,ka=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,la=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ma=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,na=/\d\d?/,oa=/\d{1,3}/,pa=/\d{1,4}/,qa=/[+\-]?\d{1,6}/,ra=/\d+/,sa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,r=/Z|[\+\-]\d\d:?\d\d/gi,ta=/T/i,ua=/[\+\-]?\d+/,va=/[\+\-]?\d+(\.\d{1,3})?/,wa=/\d/,xa=/\d\d/,ya=/\d{3}/,za=/\d{4}/,Aa=/[+-]?\d{6}/,Ba=/[+-]?\d+/,Ca=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Da="YYYY-MM-DDTHH:mm:ssZ",s=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],t=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ea=/([\+\-]|\d\d)/gi,Fa="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ga={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ha={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ia={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},u={},v={s:45,m:45,h:22,d:26,M:11},Ja="DDD w W M D d".split(" "),Ka="M D H h m s w W".split(" "),w={M:function(){return this.month()+1},MMM:function(Q){return this.localeData().monthsShort(this,Q)},MMMM:function(Q){return this.localeData().months(this,Q)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(Q){return this.localeData().weekdaysMin(this,Q)},ddd:function(Q){return this.localeData().weekdaysShort(this,Q)},dddd:function(Q){return this.localeData().weekdays(this,Q)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return G(this.year()%100,2)},YYYY:function(){return G(this.year(),4)},YYYYY:function(){return G(this.year(),5)},YYYYYY:function(){var Q=this.year(),R=Q>=0?"+":"-";return R+G(Math.abs(Q),6)},gg:function(){return G(this.weekYear()%100,2)},gggg:function(){return G(this.weekYear(),4)},ggggg:function(){return G(this.weekYear(),5)},GG:function(){return G(this.isoWeekYear()%100,2)},GGGG:function(){return G(this.isoWeekYear(),4)},GGGGG:function(){return G(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return K(this.milliseconds()/100)},SS:function(){return G(K(this.milliseconds()/10),2)},SSS:function(){return G(this.milliseconds(),3)},SSSS:function(){return G(this.milliseconds(),3)},Z:function(){var Q=this.utcOffset(),R="+";if(Q<0){Q=-Q;R="-"}return R+G(K(Q/60),2)+":"+G(K(Q)%60,2)},ZZ:function(){var Q=this.utcOffset(),R="+";if(Q<0){Q=-Q;R="-"}return R+G(K(Q/60),2)+G(K(Q)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},La={},Ma=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],x=false;function y(Q,R,S){switch(arguments.length){case 2:return Q!=null?Q:R;case 3:return Q!=null?Q:R!=null?R:S;default:throw new Error("Implement me")}}function z(Q,R){return ha.call(Q,R)}function A(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function Na(Q){d.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&emptyFunction}function B(Q,R){var S=true;return E(function(){if(S){Na(Q);S=false}return R.apply(this,arguments)},R)}function Oa(Q,R){if(!La[Q]){Na(R);La[Q]=true}}function Pa(Q,R){return function(S){return G(Q.call(this,S),R)}}function Qa(Q,R){return function(S){return this.localeData().ordinal(Q.call(this,S),R)}}function Ra(Q,R){var S=(R.year()-Q.year())*12+(R.month()-Q.month()),T=Q.clone().add(S,"months"),U,V;if(R-T<0){U=Q.clone().add(S-1,"months");V=(R-T)/(T-U)}else{U=Q.clone().add(S+1,"months");V=(R-T)/(U-T)}return-(S+V)}while(Ja.length){g=Ja.pop();w[g+"o"]=Qa(w[g],g)}while(Ka.length){g=Ka.pop();w[g+g]=Pa(w[g],2)}w.DDDD=Pa(w.DDD,3);function Sa(Q,R,S){__p&&__p();var T;if(S==null)return R;if(Q.meridiemHour!=null)return Q.meridiemHour(R,S);else if(Q.isPM!=null){T=Q.isPM(S);if(T&&R<12)R+=12;if(!T&&R===12)R=0;return R}else return R}function Ta(){}function C(Q,R){if(R!==false)eb(Q);Ua(this,Q);this._d=new Date(+Q._d);if(x===false){x=true;d.updateOffset(this);x=false}}function D(Q){var R=$a(Q),S=R.year||0,T=R.quarter||0,U=R.month||0,V=R.week||0,W=R.day||0,X=R.hour||0,Y=R.minute||0,Z=R.second||0,$=R.millisecond||0;this._milliseconds=+$+Z*1e3+Y*6e4+X*36e5;this._days=+W+V*7;this._months=+U+T*3+S*12;this._data={};this._locale=d.localeData();this._bubble()}function E(Q,R){for(var g in R)if(z(R,g))Q[g]=R[g];if(z(R,"toString"))Q.toString=R.toString;if(z(R,"valueOf"))Q.valueOf=R.valueOf;return Q}function Ua(Q,R){__p&&__p();var g,S,T;if(typeof R._isAMomentObject!=="undefined")Q._isAMomentObject=R._isAMomentObject;if(typeof R._i!=="undefined")Q._i=R._i;if(typeof R._f!=="undefined")Q._f=R._f;if(typeof R._l!=="undefined")Q._l=R._l;if(typeof R._strict!=="undefined")Q._strict=R._strict;if(typeof R._tzm!=="undefined")Q._tzm=R._tzm;if(typeof R._isUTC!=="undefined")Q._isUTC=R._isUTC;if(typeof R._offset!=="undefined")Q._offset=R._offset;if(typeof R._pf!=="undefined")Q._pf=R._pf;if(typeof R._locale!=="undefined")Q._locale=R._locale;if(p.length>0)for(g in p){S=p[g];T=R[S];if(typeof T!=="undefined")Q[S]=T}return Q}function F(Q){if(Q<0)return Math.ceil(Q);else return Math.floor(Q)}function G(Q,R,S){var T=""+Math.abs(Q),U=Q>=0;while(T.length<R)T="0"+T;return(U?S?"+":"":"-")+T}function Va(Q,R){var S={milliseconds:0,months:0};S.months=R.month()-Q.month()+(R.year()-Q.year())*12;if(Q.clone().add(S.months,"M").isAfter(R))--S.months;S.milliseconds=+R-+Q.clone().add(S.months,"M");return S}function Wa(Q,R){var S;R=M(R,Q);if(Q.isBefore(R))S=Va(Q,R);else{S=Va(R,Q);S.milliseconds=-S.milliseconds;S.months=-S.months}return S}function Xa(Q,R){__p&&__p();return function(S,T){__p&&__p();var U,V;if(T!==null&&!isNaN(+T)){Oa(R,"moment()."+R+"(period, number) is deprecated. Please use moment()."+R+"(number, period).");V=S;S=T;T=V}S=typeof S==="string"?+S:S;U=d.duration(S,T);Ya(this,U,Q);return this}}function Ya(Q,R,S,T){__p&&__p();var U=R._milliseconds,V=R._days,W=R._months;T=T==null?true:T;if(U)Q._d.setTime(+Q._d+U*S);if(V)Lb(Q,"Date",Kb(Q,"Date")+V*S);if(W)Jb(Q,Kb(Q,"Month")+W*S);if(T)d.updateOffset(Q,V||W)}function H(Q){return Object.prototype.toString.call(Q)==="[object Array]"}function I(Q){return Object.prototype.toString.call(Q)==="[object Date]"||Q instanceof Date}function Za(Q,R,S){var T=Math.min(Q.length,R.length),U=Math.abs(Q.length-R.length),V=0,g;for(g=0;g<T;g++)if(S&&Q[g]!==R[g]||!S&&K(Q[g])!==K(R[g]))V++;return V+U}function J(Q){if(Q){var R=Q.toLowerCase().replace(/(.)s$/,"$1");Q=Ha[Q]||Ia[R]||R}return Q}function $a(Q){var R={},S,T;for(T in Q)if(z(Q,T)){S=J(T);if(S)R[S]=Q[T]}return R}function ab(Q){__p&&__p();var R,S;if(Q.indexOf("week")===0){R=7;S="day"}else if(Q.indexOf("month")===0){R=12;S="month"}else return;d[Q]=function(T,U){__p&&__p();var g,V,W=d._locale[Q],X=[];if(typeof T==="number"){U=T;T=c}V=function(g){var Y=d().utc().set(S,g);return W.call(d._locale,Y,T||"")};if(U!=null)return V(U);else{for(g=0;g<R;g++)X.push(V(g));return X}}}function K(Q){var R=+Q,S=0;if(R!==0&&isFinite(R))if(R>=0)S=Math.floor(R);else S=Math.ceil(R);return S}function L(Q,R){return new Date(Date.UTC(Q,R+1,0)).getUTCDate()}function bb(Q,R,S){return O(d([Q,11,31+R-S]),R,S).week}function cb(Q){return db(Q)?366:365}function db(Q){return Q%4===0&&Q%100!==0||Q%400===0}function eb(Q){var R;if(Q._a&&Q._pf.overflow===-2){R=Q._a[i]<0||Q._a[i]>11?i:Q._a[j]<1||Q._a[j]>L(Q._a[h],Q._a[i])?j:Q._a[k]<0||Q._a[k]>24||Q._a[k]===24&&(Q._a[l]!==0||Q._a[m]!==0||Q._a[n]!==0)?k:Q._a[l]<0||Q._a[l]>59?l:Q._a[m]<0||Q._a[m]>59?m:Q._a[n]<0||Q._a[n]>999?n:-1;if(Q._pf._overflowDayOfYear&&(R<h||R>j))R=j;Q._pf.overflow=R}}function fb(Q){if(Q._isValid==null){Q._isValid=!isNaN(Q._d.getTime())&&Q._pf.overflow<0&&!Q._pf.empty&&!Q._pf.invalidMonth&&!Q._pf.nullInput&&!Q._pf.invalidFormat&&!Q._pf.userInvalidated;if(Q._strict)Q._isValid=Q._isValid&&Q._pf.charsLeftOver===0&&Q._pf.unusedTokens.length===0&&Q._pf.bigHour===c}return Q._isValid}function gb(Q){return Q?Q.toLowerCase().replace("_","-"):Q}function hb(Q){__p&&__p();var g=0,R,S,T,U;while(g<Q.length){U=gb(Q[g]).split("-");R=U.length;S=gb(Q[g+1]);S=S?S.split("-"):null;while(R>0){T=ib(U.slice(0,R).join("-"));if(T)return T;if(S&&S.length>=R&&Za(U,S,true)>=R-1)break;R--}g++}return null}function ib(Q){var R=null;return o[Q]}function M(Q,R){var S,T;if(R._isUTC){S=R.clone();T=(d.isMoment(Q)||I(Q)?+Q:+d(Q))-+S;S._d.setTime(+S._d+T);d.updateOffset(S,false);return S}else return d(Q).local()}E(Ta.prototype,{set:function(Q){var R,g;for(g in Q){R=Q[g];if(typeof R==="function")this[g]=R;else this["_"+g]=R}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(Q){return this._months[Q.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(Q){return this._monthsShort[Q.month()]},monthsParse:function(Q,R,S){__p&&__p();var g,T,U;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(g=0;g<12;g++){T=d.utc([2e3,g]);if(S&&!this._longMonthsParse[g]){this._longMonthsParse[g]=new RegExp("^"+this.months(T,"").replace(".","")+"$","i");this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(T,"").replace(".","")+"$","i")}if(!S&&!this._monthsParse[g]){U="^"+this.months(T,"")+"|^"+this.monthsShort(T,"");this._monthsParse[g]=new RegExp(U.replace(".",""),"i")}if(S&&R==="MMMM"&&this._longMonthsParse[g].test(Q))return g;else if(S&&R==="MMM"&&this._shortMonthsParse[g].test(Q))return g;else if(!S&&this._monthsParse[g].test(Q))return g}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(Q){return this._weekdays[Q.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(Q){return this._weekdaysShort[Q.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(Q){return this._weekdaysMin[Q.day()]},weekdaysParse:function(Q){__p&&__p();var g,R,S;if(!this._weekdaysParse)this._weekdaysParse=[];for(g=0;g<7;g++){if(!this._weekdaysParse[g]){R=d([2e3,1]).day(g);S="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,"");this._weekdaysParse[g]=new RegExp(S.replace(".",""),"i")}if(this._weekdaysParse[g].test(Q))return g}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(Q){var R=this._longDateFormat[Q];if(!R&&this._longDateFormat[Q.toUpperCase()]){R=this._longDateFormat[Q.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(S){return S.slice(1)});this._longDateFormat[Q]=R}return R},isPM:function(Q){return(Q+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(Q,R,S){if(Q>11)return S?"pm":"PM";else return S?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(Q,R,S){var T=this._calendar[Q];return typeof T==="function"?T.apply(R,[S]):T},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(Q,R,S,T){var U=this._relativeTime[S];return typeof U==="function"?U(Q,R,S,T):U.replace(/%d/i,Q)},pastFuture:function(Q,R){var S=this._relativeTime[Q>0?"future":"past"];return typeof S==="function"?S(R):S.replace(/%s/i,R)},ordinal:function(Q){return this._ordinal.replace("%d",Q)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(Q){return Q},postformat:function(Q){return Q},week:function(Q){return O(Q,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function jb(Q){if(Q.match(/\[[\s\S]/))return Q.replace(/^\[|\]$/g,"");return Q.replace(/\\/g,"")}function kb(Q){__p&&__p();var R=Q.match(ma),g,S;for(g=0,S=R.length;g<S;g++)if(w[R[g]])R[g]=w[R[g]];else R[g]=jb(R[g]);return function(T){var U="";for(g=0;g<S;g++)U+=R[g]instanceof Function?R[g].call(T,Q):R[g];return U}}function N(Q,R){if(!Q.isValid())return Q.localeData().invalidDate();R=lb(R,Q.localeData());if(!u[R])u[R]=kb(R);return u[R](Q)}function lb(Q,R){__p&&__p();var g=5;function S(T){return R.longDateFormat(T)||T}q.lastIndex=0;while(g>=0&&q.test(Q)){Q=Q.replace(q,S);q.lastIndex=0;g-=1}return Q}function mb(Q,R){__p&&__p();var S,T=R._strict;switch(Q){case"Q":return wa;case"DDDD":return ya;case"YYYY":case"GGGG":case"gggg":return T?za:pa;case"Y":case"G":case"g":return Ba;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return T?Aa:qa;case"S":if(T)return wa;case"SS":if(T)return xa;case"SSS":if(T)return ya;case"DDD":return oa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return sa;case"a":case"A":return R._locale._meridiemParse;case"x":return ua;case"X":return va;case"Z":case"ZZ":return r;case"T":return ta;case"SSSS":return ra;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return T?xa:na;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return na;case"Do":return T?R._locale._ordinalParse:R._locale._ordinalParseLenient;default:S=new RegExp(vb(ub(Q.replace("\\","")),"i"));return S}}function nb(Q){Q=Q||"";var R=Q.match(r)||[],S=R[R.length-1]||[],T=(S+"").match(Ea)||["-",0,0],U=+(T[1]*60)+K(T[2]);return T[0]==="+"?U:-U}function ob(Q,R,S){__p&&__p();var T,U=S._a;switch(Q){case"Q":if(R!=null)U[i]=(K(R)-1)*3;break;case"M":case"MM":if(R!=null)U[i]=K(R)-1;break;case"MMM":case"MMMM":T=S._locale.monthsParse(R,Q,S._strict);if(T!=null)U[i]=T;else S._pf.invalidMonth=R;break;case"D":case"DD":if(R!=null)U[j]=K(R);break;case"Do":if(R!=null)U[j]=K(parseInt(R.match(/\d{1,2}/)[0],10));break;case"DDD":case"DDDD":if(R!=null)S._dayOfYear=K(R);break;case"YY":U[h]=d.parseTwoDigitYear(R);break;case"YYYY":case"YYYYY":case"YYYYYY":U[h]=K(R);break;case"a":case"A":S._meridiem=R;break;case"h":case"hh":S._pf.bigHour=true;case"H":case"HH":U[k]=K(R);break;case"m":case"mm":U[l]=K(R);break;case"s":case"ss":U[m]=K(R);break;case"S":case"SS":case"SSS":case"SSSS":U[n]=K(("0."+R)*1e3);break;case"x":S._d=new Date(K(R));break;case"X":S._d=new Date(parseFloat(R)*1e3);break;case"Z":case"ZZ":S._useUTC=true;S._tzm=nb(R);break;case"dd":case"ddd":case"dddd":T=S._locale.weekdaysParse(R);if(T!=null){S._w=S._w||{};S._w.d=T}else S._pf.invalidWeekday=R;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":Q=Q.substr(0,1);case"gggg":case"GGGG":case"GGGGG":Q=Q.substr(0,2);if(R){S._w=S._w||{};S._w[Q]=K(R)}break;case"gg":case"GG":S._w=S._w||{};S._w[Q]=d.parseTwoDigitYear(R)}}function pb(Q){__p&&__p();var R,S,T,U,V,W,X;R=Q._w;if(R.GG!=null||R.W!=null||R.E!=null){V=1;W=4;S=y(R.GG,Q._a[h],O(d(),1,4).year);T=y(R.W,1);U=y(R.E,1)}else{V=Q._locale._week.dow;W=Q._locale._week.doy;S=y(R.gg,Q._a[h],O(d(),V,W).year);T=y(R.w,1);if(R.d!=null){U=R.d;if(U<V)++T}else if(R.e!=null)U=R.e+V;else U=V}X=Gb(S,T,U,W,V);Q._a[h]=X.year;Q._dayOfYear=X.dayOfYear}function qb(Q){__p&&__p();var g,R,S=[],T,U;if(Q._d)return;T=sb(Q);if(Q._w&&Q._a[j]==null&&Q._a[i]==null)pb(Q);if(Q._dayOfYear){U=y(Q._a[h],T[h]);if(Q._dayOfYear>cb(U))Q._pf._overflowDayOfYear=true;R=Cb(U,0,Q._dayOfYear);Q._a[i]=R.getUTCMonth();Q._a[j]=R.getUTCDate()}for(g=0;g<3&&Q._a[g]==null;++g)Q._a[g]=S[g]=T[g];for(;g<7;g++)Q._a[g]=S[g]=Q._a[g]==null?g===2?1:0:Q._a[g];if(Q._a[k]===24&&Q._a[l]===0&&Q._a[m]===0&&Q._a[n]===0){Q._nextDay=true;Q._a[k]=0}Q._d=(Q._useUTC?Cb:Bb).apply(null,S);if(Q._tzm!=null)Q._d.setUTCMinutes(Q._d.getUTCMinutes()-Q._tzm);if(Q._nextDay)Q._a[k]=24}function rb(Q){var R;if(Q._d)return;R=$a(Q._i);Q._a=[R.year,R.month,R.day||R.date,R.hour,R.minute,R.second,R.millisecond];qb(Q)}function sb(Q){var R=new Date();if(Q._useUTC)return[R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()];else return[R.getFullYear(),R.getMonth(),R.getDate()]}function tb(Q){__p&&__p();if(Q._f===d.ISO_8601){xb(Q);return}Q._a=[];Q._pf.empty=true;var R=""+Q._i,g,S,T,U,V,W=R.length,X=0;T=lb(Q._f,Q._locale).match(ma)||[];for(g=0;g<T.length;g++){U=T[g];S=(R.match(mb(U,Q))||[])[0];if(S){V=R.substr(0,R.indexOf(S));if(V.length>0)Q._pf.unusedInput.push(V);R=R.slice(R.indexOf(S)+S.length);X+=S.length}if(w[U]){if(S)Q._pf.empty=false;else Q._pf.unusedTokens.push(U);ob(U,S,Q)}else if(Q._strict&&!S)Q._pf.unusedTokens.push(U)}Q._pf.charsLeftOver=W-X;if(R.length>0)Q._pf.unusedInput.push(R);if(Q._pf.bigHour===true&&Q._a[k]<=12)Q._pf.bigHour=c;Q._a[k]=Sa(Q._locale,Q._a[k],Q._meridiem);qb(Q);eb(Q)}function ub(Q){return Q.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(R,S,T,U,V){return S||T||U||V})}function vb(Q){return Q.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function wb(Q){__p&&__p();var R,S,T,g,U;if(Q._f.length===0){Q._pf.invalidFormat=true;Q._d=new Date(NaN);return}for(g=0;g<Q._f.length;g++){U=0;R=Ua({},Q);if(Q._useUTC!=null)R._useUTC=Q._useUTC;R._pf=A();R._f=Q._f[g];tb(R);if(!fb(R))continue;U+=R._pf.charsLeftOver;U+=R._pf.unusedTokens.length*10;R._pf.score=U;if(T==null||U<T){T=U;S=R}}E(Q,S||R)}function xb(Q){__p&&__p();var g,R,S=Q._i,T=Ca.exec(S);if(T){Q._pf.iso=true;for(g=0,R=s.length;g<R;g++)if(s[g][1].exec(S)){Q._f=s[g][0]+(T[6]||" ");break}for(g=0,R=t.length;g<R;g++)if(t[g][1].exec(S)){Q._f+=t[g][0];break}if(S.match(r))Q._f+="Z";tb(Q)}else Q._isValid=false}function yb(Q){xb(Q);if(Q._isValid===false){delete Q._isValid;d.createFromInputFallback(Q)}}function zb(Q,R){var S=[],g;for(g=0;g<Q.length;++g)S.push(R(Q[g],g));return S}function Ab(Q){__p&&__p();var R=Q._i,S;if(R===c)Q._d=new Date();else if(I(R))Q._d=new Date(+R);else if((S=ja.exec(R))!==null)Q._d=new Date(+S[1]);else if(typeof R==="string")yb(Q);else if(H(R)){Q._a=zb(R.slice(0),function(T){return parseInt(T,10)});qb(Q)}else if(typeof R==="object")rb(Q);else if(typeof R==="number")Q._d=new Date(R);else d.createFromInputFallback(Q)}function Bb(Q,R,S,T,U,V,W){var X=new Date(Q,R,S,T,U,V,W);if(Q<1970)X.setFullYear(Q);return X}function Cb(Q){var R=new Date(Date.UTC.apply(null,arguments));if(Q<1970)R.setUTCFullYear(Q);return R}function Db(Q,R){if(typeof Q==="string")if(!isNaN(Q))Q=parseInt(Q,10);else{Q=R.weekdaysParse(Q);if(typeof Q!=="number")return null}return Q}function Eb(Q,R,S,T,U){return U.relativeTime(R||1,!!S,Q,T)}function Fb(Q,R,S){var T=d.duration(Q).abs(),U=f(T.as("s")),V=f(T.as("m")),W=f(T.as("h")),X=f(T.as("d")),Y=f(T.as("M")),Z=f(T.as("y")),$=U<v.s&&["s",U]||V===1&&["m"]||V<v.m&&["mm",V]||W===1&&["h"]||W<v.h&&["hh",W]||X===1&&["d"]||X<v.d&&["dd",X]||Y===1&&["M"]||Y<v.M&&["MM",Y]||Z===1&&["y"]||["yy",Z];$[2]=R;$[3]=+Q>0;$[4]=S;return Eb.apply({},$)}function O(Q,R,S){var T=S-R,U=S-Q.day(),V;if(U>T)U-=7;if(U<T-7)U+=7;V=d(Q).add(U,"d");return{week:Math.ceil(V.dayOfYear()/7),year:V.year()}}function Gb(Q,R,S,T,U){var V=Cb(Q,0,1).getUTCDay(),W,X;V=V===0?7:V;S=S!=null?S:U;W=U-V+(V>T?7:0)-(V<U?7:0);X=7*(R-1)+(S-U)+W+1;return{year:X>0?Q:Q-1,dayOfYear:X>0?X:cb(Q-1)+X}}function Hb(Q){__p&&__p();var R=Q._i,S=Q._f,T;Q._locale=Q._locale||d.localeData(Q._l);if(R===null||S===c&&R==="")return d.invalid({nullInput:true});if(typeof R==="string")Q._i=R=Q._locale.preparse(R);if(d.isMoment(R))return new C(R,true);else if(S)if(H(S))wb(Q);else tb(Q);else Ab(Q);T=new C(Q);if(T._nextDay){T.add(1,"d");T._nextDay=c}return T}d=function(Q,R,S,T){__p&&__p();var U;if(typeof S==="boolean"){T=S;S=c}U={};U._isAMomentObject=true;U._i=Q;U._f=R;U._l=S;U._strict=T;U._isUTC=false;U._pf=A();return Hb(U)};d.suppressDeprecationWarnings=false;d.createFromInputFallback=B("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(Q){Q._d=new Date(Q._i+(Q._useUTC?" UTC":""))});function Ib(Q,R){__p&&__p();var S,g;if(R.length===1&&H(R[0]))R=R[0];if(!R.length)return d();S=R[0];for(g=1;g<R.length;++g)if(R[g][Q](S))S=R[g];return S}d.min=function(){var Q=[].slice.call(arguments,0);return Ib("isBefore",Q)};d.max=function(){var Q=[].slice.call(arguments,0);return Ib("isAfter",Q)};d.utc=function(Q,R,S,T){__p&&__p();var U;if(typeof S==="boolean"){T=S;S=c}U={};U._isAMomentObject=true;U._useUTC=true;U._isUTC=true;U._l=S;U._i=Q;U._f=R;U._strict=T;U._pf=A();return Hb(U).utc()};d.unix=function(Q){return d(Q*1e3)};d.duration=function(Q,R){__p&&__p();var S=Q,T=null,U,V,W,X;if(d.isDuration(Q))S={ms:Q._milliseconds,d:Q._days,M:Q._months};else if(typeof Q==="number"){S={};if(R)S[R]=Q;else S.milliseconds=Q}else if(!!(T=ka.exec(Q))){U=T[1]==="-"?-1:1;S={y:0,d:K(T[j])*U,h:K(T[k])*U,m:K(T[l])*U,s:K(T[m])*U,ms:K(T[n])*U}}else if(!!(T=la.exec(Q))){U=T[1]==="-"?-1:1;W=function(Y){var Z=Y&&parseFloat(Y.replace(",","."));return(isNaN(Z)?0:Z)*U};S={y:W(T[2]),M:W(T[3]),d:W(T[4]),h:W(T[5]),m:W(T[6]),s:W(T[7]),w:W(T[8])}}else if(S==null)S={};else if(typeof S==="object"&&("from"in S||"to"in S)){X=Wa(d(S.from),d(S.to));S={};S.ms=X.milliseconds;S.M=X.months}V=new D(S);if(d.isDuration(Q)&&z(Q,"_locale"))V._locale=Q._locale;return V};d.version=fa;d.defaultFormat=Da;d.ISO_8601=function(){};d.momentProperties=p;d.updateOffset=function(){};d.relativeTimeThreshold=function(Q,R){if(v[Q]===c)return false;if(R===c)return v[Q];v[Q]=R;return true};d.lang=B("moment.lang is deprecated. Use moment.locale instead.",function(Q,R){return d.locale(Q,R)});d.locale=function(Q,R){var S;if(Q){if(typeof R!=="undefined")S=d.defineLocale(Q,R);else S=d.localeData(Q);if(S)d.duration._locale=d._locale=S}return d._locale._abbr};d.defineLocale=function(Q,R){__p&&__p();if(R!==null){R.abbr=Q;if(!o[Q])o[Q]=new Ta();o[Q].set(R);d.locale(Q);return o[Q]}else{delete o[Q];return null}};d.langData=B("moment.langData is deprecated. Use moment.localeData instead.",function(Q){return d.localeData(Q)});d.localeData=function(Q){__p&&__p();var R;if(Q&&Q._locale&&Q._locale._abbr)Q=Q._locale._abbr;if(!Q)return d._locale;if(!H(Q)){R=ib(Q);if(R)return R;Q=[Q]}return hb(Q)};d.isMoment=function(Q){return Q instanceof C||Q!=null&&z(Q,"_isAMomentObject")};d.isDuration=function(Q){return Q instanceof D};for(g=Ma.length-1;g>=0;--g)ab(Ma[g]);d.normalizeUnits=function(Q){return J(Q)};d.invalid=function(Q){var R=d.utc(NaN);if(Q!=null)E(R._pf,Q);else R._pf.userInvalidated=true;return R};d.parseZone=function(){return d.apply(null,arguments).parseZone()};d.parseTwoDigitYear=function(Q){return K(Q)+(K(Q)>68?1900:2e3)};d.isDate=I;E(d.fn=C.prototype,{clone:function(){return d(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var Q=d(this).utc();if(0<Q.year()&&Q.year()<=9999)if("function"===typeof Date.prototype.toISOString)return this.toDate().toISOString();else return N(Q,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");else return N(Q,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var Q=this;return[Q.year(),Q.month(),Q.date(),Q.hours(),Q.minutes(),Q.seconds(),Q.milliseconds()]},isValid:function(){return fb(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&Za(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray())>0;return false},parsingFlags:function(){return E({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(Q){return this.utcOffset(0,Q)},local:function(Q){if(this._isUTC){this.utcOffset(0,Q);this._isUTC=false;if(Q)this.subtract(this._dateUtcOffset(),"m")}return this},format:function(Q){var R=N(this,Q||d.defaultFormat);return this.localeData().postformat(R)},add:Xa(1,"add"),subtract:Xa(-1,"subtract"),diff:function(Q,R,S){__p&&__p();var T=M(Q,this),U=(T.utcOffset()-this.utcOffset())*6e4,V,W,X,Y;R=J(R);if(R==="year"||R==="month"||R==="quarter"){X=Ra(this,T);if(R==="quarter")X=X/3;else if(R==="year")X=X/12}else{W=this-T;X=R==="second"?W/1e3:R==="minute"?W/6e4:R==="hour"?W/36e5:R==="day"?(W-U)/864e5:R==="week"?(W-U)/6048e5:W}return S?X:F(X)},from:function(Q,R){return d.duration({to:this,from:Q}).locale(this.locale()).humanize(!R)},fromNow:function(Q){return this.from(d(),Q)},calendar:function(Q){var R=Q||d(),S=M(R,this).startOf("day"),T=this.diff(S,"days",true),U=T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(U,this,d(R)))},isLeapYear:function(){return db(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(Q){var R=this._isUTC?this._d.getUTCDay():this._d.getDay();if(Q!=null){Q=Db(Q,this.localeData());return this.add(Q-R,"d")}else return R},month:P("Month",true),startOf:function(Q){__p&&__p();Q=J(Q);switch(Q){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(Q==="week")this.weekday(0);else if(Q==="isoWeek")this.isoWeekday(1);if(Q==="quarter")this.month(Math.floor(this.month()/3)*3);return this},endOf:function(Q){Q=J(Q);if(Q===c||Q==="millisecond")return this;return this.startOf(Q).add(1,Q==="isoWeek"?"week":Q).subtract(1,"ms")},isAfter:function(Q,R){var S;R=J(typeof R!=="undefined"?R:"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this>+Q}else{S=d.isMoment(Q)?+Q:+d(Q);return S<+this.clone().startOf(R)}},isBefore:function(Q,R){var S;R=J(typeof R!=="undefined"?R:"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this<+Q}else{S=d.isMoment(Q)?+Q:+d(Q);return+this.clone().endOf(R)<S}},isBetween:function(Q,R,S){return this.isAfter(Q,S)&&this.isBefore(R,S)},isSame:function(Q,R){var S;R=J(R||"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this===+Q}else{S=+d(Q);return+this.clone().startOf(R)<=S&&S<=+this.clone().endOf(R)}},min:B("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(Q){Q=d.apply(null,arguments);return Q<this?this:Q}),max:B("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(Q){Q=d.apply(null,arguments);return Q>this?this:Q}),zone:B("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(Q,R){if(Q!=null){if(typeof Q!=="string")Q=-Q;this.utcOffset(Q,R);return this}else return-this.utcOffset()}),utcOffset:function(Q,R){__p&&__p();var S=this._offset||0,T;if(Q!=null){if(typeof Q==="string")Q=nb(Q);if(Math.abs(Q)<16)Q=Q*60;if(!this._isUTC&&R)T=this._dateUtcOffset();this._offset=Q;this._isUTC=true;if(T!=null)this.add(T,"m");if(S!==Q)if(!R||this._changeInProgress)Ya(this,d.duration(Q-S,"m"),1,false);else if(!this._changeInProgress){this._changeInProgress=true;d.updateOffset(this,true);this._changeInProgress=null}return this}else return this._isUTC?S:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm)this.utcOffset(this._tzm);else if(typeof this._i==="string")this.utcOffset(nb(this._i));return this},hasAlignedHourOffset:function(Q){if(!Q)Q=0;else Q=d(Q).utcOffset();return(this.utcOffset()-Q)%60===0},daysInMonth:function(){return L(this.year(),this.month())},dayOfYear:function(Q){var R=f((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return Q==null?R:this.add(Q-R,"d")},quarter:function(Q){return Q==null?Math.ceil((this.month()+1)/3):this.month((Q-1)*3+this.month()%3)},weekYear:function(Q){var R=O(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return Q==null?R:this.add(Q-R,"y")},isoWeekYear:function(Q){var R=O(this,1,4).year;return Q==null?R:this.add(Q-R,"y")},week:function(Q){var R=this.localeData().week(this);return Q==null?R:this.add((Q-R)*7,"d")},isoWeek:function(Q){var R=O(this,1,4).week;return Q==null?R:this.add((Q-R)*7,"d")},weekday:function(Q){var R=(this.day()+7-this.localeData()._week.dow)%7;return Q==null?R:this.add(Q-R,"d")},isoWeekday:function(Q){return Q==null?this.day()||7:this.day(this.day()%7?Q:Q-7)},isoWeeksInYear:function(){return bb(this.year(),1,4)},weeksInYear:function(){var Q=this.localeData()._week;return bb(this.year(),Q.dow,Q.doy)},get:function(Q){Q=J(Q);return this[Q]()},set:function(Q,R){var S;if(typeof Q==="object")for(S in Q)this.set(S,Q[S]);else{Q=J(Q);if(typeof this[Q]==="function")this[Q](R)}return this},locale:function(Q){var R;if(Q===c)return this._locale._abbr;else{R=d.localeData(Q);if(R!=null)this._locale=R;return this}},lang:B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Q){if(Q===c)return this.localeData();else return this.locale(Q)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});function Jb(Q,R){var S;if(typeof R==="string"){R=Q.localeData().monthsParse(R);if(typeof R!=="number")return Q}S=Math.min(Q.date(),L(Q.year(),R));Q._d["set"+(Q._isUTC?"UTC":"")+"Month"](R,S);return Q}function Kb(Q,R){return Q._d["get"+(Q._isUTC?"UTC":"")+R]()}function Lb(Q,R,S){if(R==="Month")return Jb(Q,S);else return Q._d["set"+(Q._isUTC?"UTC":"")+R](S)}function P(Q,R){return function(S){if(S!=null){Lb(this,Q,S);d.updateOffset(this,R);return this}else return Kb(this,Q)}}d.fn.millisecond=d.fn.milliseconds=P("Milliseconds",false);d.fn.second=d.fn.seconds=P("Seconds",false);d.fn.minute=d.fn.minutes=P("Minutes",false);d.fn.hour=d.fn.hours=P("Hours",true);d.fn.date=P("Date",true);d.fn.dates=B("dates accessor is deprecated. Use date instead.",P("Date",true));d.fn.year=P("FullYear",true);d.fn.years=B("years accessor is deprecated. Use year instead.",P("FullYear",true));d.fn.days=d.fn.day;d.fn.months=d.fn.month;d.fn.weeks=d.fn.week;d.fn.isoWeeks=d.fn.isoWeek;d.fn.quarters=d.fn.quarter;d.fn.toJSON=d.fn.toISOString;d.fn.isUTC=d.fn.isUtc;function Mb(Q){return Q*400/146097}function Nb(Q){return Q*146097/400}E(d.duration.fn=D.prototype,{_bubble:function(){__p&&__p();var Q=this._milliseconds,R=this._days,S=this._months,T=this._data,U,V,W,X=0;T.milliseconds=Q%1e3;U=F(Q/1e3);T.seconds=U%60;V=F(U/60);T.minutes=V%60;W=F(V/60);T.hours=W%24;R+=F(W/24);X=F(Mb(R));R-=F(Nb(X));S+=F(R/30);R%=30;X+=F(S/12);S%=12;T.days=R;T.months=S;T.years=X},abs:function(){__p&&__p();this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return F(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+K(this._months/12)*31536e6},humanize:function(Q){var R=Fb(this,!Q,this.localeData());if(Q)R=this.localeData().pastFuture(+this,R);return this.localeData().postformat(R)},add:function(Q,R){var S=d.duration(Q,R);this._milliseconds+=S._milliseconds;this._days+=S._days;this._months+=S._months;this._bubble();return this},subtract:function(Q,R){var S=d.duration(Q,R);this._milliseconds-=S._milliseconds;this._days-=S._days;this._months-=S._months;this._bubble();return this},get:function(Q){Q=J(Q);return this[Q.toLowerCase()+"s"]()},as:function(Q){__p&&__p();var R,S;Q=J(Q);if(Q==="month"||Q==="year"){R=this._days+this._milliseconds/864e5;S=this._months+Mb(R)*12;return Q==="month"?S:S/12}else{R=this._days+Math.round(Nb(this._months/12));switch(Q){case"week":return R/7+this._milliseconds/6048e5;case"day":return R+this._milliseconds/864e5;case"hour":return R*24+this._milliseconds/36e5;case"minute":return R*24*60+this._milliseconds/6e4;case"second":return R*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(R*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+Q)}}},lang:d.fn.lang,locale:d.fn.locale,toIsoString:B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var Q=Math.abs(this.years()),R=Math.abs(this.months()),S=Math.abs(this.days()),T=Math.abs(this.hours()),U=Math.abs(this.minutes()),V=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";return(this.asSeconds()<0?"-":"")+"P"+(Q?Q+"Y":"")+(R?R+"M":"")+(S?S+"D":"")+(T||U||V?"T":"")+(T?T+"H":"")+(U?U+"M":"")+(V?V+"S":"")},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});d.duration.fn.toString=d.duration.fn.toISOString;function Ob(Q){d.duration.fn[Q]=function(){return this._data[Q]}}for(g in Ga)if(z(Ga,g))Ob(g.toLowerCase());d.duration.fn.asMilliseconds=function(){return this.as("ms")};d.duration.fn.asSeconds=function(){return this.as("s")};d.duration.fn.asMinutes=function(){return this.as("m")};d.duration.fn.asHours=function(){return this.as("h")};d.duration.fn.asDays=function(){return this.as("d")};d.duration.fn.asWeeks=function(){return this.as("weeks")};d.duration.fn.asMonths=function(){return this.as("M")};d.duration.fn.asYears=function(){return this.as("y")};d.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Q){var R=Q%10,S=K(Q%100/10)===1?"th":R===1?"st":R===2?"nd":R===3?"rd":"th";return Q+S}});function Pb(Q){if(typeof ender!=="undefined")return;ga=e.moment;if(Q)e.moment=B("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",d);else e.moment=d}if(ia)b.exports=d;else if(typeof define==="function"&&define.amd){define(function(ba,ea,b){if(b.config&&b.config()&&b.config().noGlobal===true)e.moment=ga;return d});Pb(true)}else Pb()}).call(this)}),null);
__d("XVideoCaptionSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/save/",{caption_id:{type:"Int",required:true},caption:{type:"String"},caption_changeset:{type:"String"},source_app_id:{type:"FBID"},locale:{type:"String"},placement:{type:"Enum",enumType:0}})}),null);